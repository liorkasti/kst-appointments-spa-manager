{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"filename\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\server.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.startUp = exports[\"default\"] = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\nvar _express = _interopRequireWildcard(require(\"express\"));\nvar _expressJwt = _interopRequireDefault(require(\"express-jwt\"));\nvar _appointmentUtils = require(\"./db-func/appointmentUtils\");\nvar _index = require(\"./middlewares/index\");\nvar _appointment = _interopRequireDefault(require(\"./route-methods/appointment\"));\nvar _staff = _interopRequireDefault(require(\"./route-methods/staff\"));\nvar _treatment = _interopRequireDefault(require(\"./route-methods/treatment\"));\nvar _user = _interopRequireDefault(require(\"./route-methods/user\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n_dotenv[\"default\"].config();\nif (!process.env.EXPRESS_SECRET) {\n  // eslint-disable-next-line no-console\n  console.error('EXPRESS_SECRET must be defined in .env\\nEXITING.');\n  process.exit(-1);\n}\n\n// typing for Express request with jwt\n\nvar app = (0, _express[\"default\"])();\n\n// CORS for react app, assuming port 3000\napp.use((0, _cors[\"default\"])({\n  origin: 'http://localhost:3000',\n  credentials: true\n}));\n\n/* ********* middlewares ********* */\n// use middleware to serve static images\napp.use(_express[\"default\"][\"static\"]('public'));\n\n// middleware for parsing json body\napp.use((0, _express.json)());\napp.use('/user/:id', (0, _expressJwt[\"default\"])({\n  // process.env.EXPRESS_SECRET is checked for truthiness on app startup\n  // the || is to satisfy typescript\n  secret: process.env.EXPRESS_SECRET || 'NOT SO SECRET',\n  algorithms: ['HS256'],\n  requestProperty: 'auth'\n}));\napp.use('/user/:id', _index.validateUser);\n\n// note: should really validate user for editing appointments\n// I'm lazy and not implementing this. Spa managers beware!\n\n/* *********** routes ********* */\n\n// verify login\napp.post('/signin', _user[\"default\"].auth);\n\n// user profile protected by jwt\napp.get('/user/:id', _user[\"default\"].get);\napp.get('/user/:id/appointments', _user[\"default\"].getUserAppointments);\napp[\"delete\"]('/user/:id', _user[\"default\"].remove);\napp.patch('/user/:id', _user[\"default\"].update);\n\n// adding user\napp.post('/user', _user[\"default\"].create);\napp.get('/appointments/:year/:month', _appointment[\"default\"].get);\napp.patch('/appointment/:id', _appointment[\"default\"].update);\napp.get('/treatments', _treatment[\"default\"].get);\napp.get('/staff', _staff[\"default\"].get);\n/* *********** END: routes ********* */\n\nvar startUp = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return (0, _appointmentUtils.createAppointments)();\n        case 2:\n          // eslint-disable-next-line no-console\n          app.listen(3030, function () {\n            return console.log('Spa server listening on port 3030!');\n          });\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function startUp() {\n    return _ref.apply(this, arguments);\n  };\n}();\nexports.startUp = startUp;\nvar _default = app;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29ycyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2RvdGVudiIsIl9leHByZXNzIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfZXhwcmVzc0p3dCIsIl9hcHBvaW50bWVudFV0aWxzIiwiX2luZGV4IiwiX2FwcG9pbnRtZW50IiwiX3N0YWZmIiwiX3RyZWF0bWVudCIsIl91c2VyIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwibm9kZUludGVyb3AiLCJXZWFrTWFwIiwiY2FjaGVCYWJlbEludGVyb3AiLCJjYWNoZU5vZGVJbnRlcm9wIiwib2JqIiwiX19lc01vZHVsZSIsIl90eXBlb2YiLCJjYWNoZSIsImhhcyIsImdldCIsIm5ld09iaiIsImhhc1Byb3BlcnR5RGVzY3JpcHRvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZGVzYyIsInNldCIsImRvdGVudiIsImNvbmZpZyIsInByb2Nlc3MiLCJlbnYiLCJFWFBSRVNTX1NFQ1JFVCIsImNvbnNvbGUiLCJlcnJvciIsImV4aXQiLCJhcHAiLCJleHByZXNzIiwidXNlIiwiY29ycyIsIm9yaWdpbiIsImNyZWRlbnRpYWxzIiwianNvbiIsImp3dCIsInNlY3JldCIsImFsZ29yaXRobXMiLCJyZXF1ZXN0UHJvcGVydHkiLCJ2YWxpZGF0ZVVzZXIiLCJwb3N0IiwidXNlclJvdXRlcyIsImF1dGgiLCJnZXRVc2VyQXBwb2ludG1lbnRzIiwicmVtb3ZlIiwicGF0Y2giLCJ1cGRhdGUiLCJjcmVhdGUiLCJhcHBvaW50bWVudFJvdXRlcyIsInRyZWF0bWVudFJvdXRlcyIsInN0YWZmUm91dGVzIiwic3RhcnRVcCIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJjcmVhdGVBcHBvaW50bWVudHMiLCJsaXN0ZW4iLCJsb2ciLCJzdG9wIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJleHBvcnRzIiwiX2RlZmF1bHQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xca2FzdGlcXHdvcmtzcGFjZVxcUkVBQ1QtUVVFUllcXGJhc2UtbGF6eS1kYXlzXFxzZXJ2ZXJcXHNyY1xcIiwic291cmNlcyI6WyJzZXJ2ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XHJcbmltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcclxuaW1wb3J0IGV4cHJlc3MsIHsganNvbiB9IGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgand0IGZyb20gJ2V4cHJlc3Mtand0JztcclxuXHJcbmltcG9ydCB7IFVzZXIgYXMgVXNlclR5cGUgfSBmcm9tICcuLi8uLi9zaGFyZWQvdHlwZXMnO1xyXG5pbXBvcnQgeyBjcmVhdGVBcHBvaW50bWVudHMgfSBmcm9tICcuL2RiLWZ1bmMvYXBwb2ludG1lbnRVdGlscyc7XHJcbmltcG9ydCB7IHZhbGlkYXRlVXNlciB9IGZyb20gJy4vbWlkZGxld2FyZXMvaW5kZXgnO1xyXG5pbXBvcnQgYXBwb2ludG1lbnRSb3V0ZXMgZnJvbSAnLi9yb3V0ZS1tZXRob2RzL2FwcG9pbnRtZW50JztcclxuaW1wb3J0IHN0YWZmUm91dGVzIGZyb20gJy4vcm91dGUtbWV0aG9kcy9zdGFmZic7XHJcbmltcG9ydCB0cmVhdG1lbnRSb3V0ZXMgZnJvbSAnLi9yb3V0ZS1tZXRob2RzL3RyZWF0bWVudCc7XHJcbmltcG9ydCB1c2VyUm91dGVzIGZyb20gJy4vcm91dGUtbWV0aG9kcy91c2VyJztcclxuXHJcbmRvdGVudi5jb25maWcoKTtcclxuaWYgKCFwcm9jZXNzLmVudi5FWFBSRVNTX1NFQ1JFVCkge1xyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXHJcbiAgY29uc29sZS5lcnJvcignRVhQUkVTU19TRUNSRVQgbXVzdCBiZSBkZWZpbmVkIGluIC5lbnZcXG5FWElUSU5HLicpO1xyXG4gIHByb2Nlc3MuZXhpdCgtMSk7XHJcbn1cclxuXHJcbi8vIHR5cGluZyBmb3IgRXhwcmVzcyByZXF1ZXN0IHdpdGggand0XHJcbmRlY2xhcmUgZ2xvYmFsIHtcclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5hbWVzcGFjZVxyXG4gIG5hbWVzcGFjZSBFeHByZXNzIHtcclxuICAgIGludGVyZmFjZSBSZXF1ZXN0IHtcclxuICAgICAgYXV0aD86IFVzZXJUeXBlO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5cclxuLy8gQ09SUyBmb3IgcmVhY3QgYXBwLCBhc3N1bWluZyBwb3J0IDMwMDBcclxuYXBwLnVzZShcclxuICBjb3JzKHtcclxuICAgIG9yaWdpbjogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcsXHJcbiAgICBjcmVkZW50aWFsczogdHJ1ZSxcclxuICB9KSxcclxuKTtcclxuXHJcbi8qICoqKioqKioqKiBtaWRkbGV3YXJlcyAqKioqKioqKiogKi9cclxuLy8gdXNlIG1pZGRsZXdhcmUgdG8gc2VydmUgc3RhdGljIGltYWdlc1xyXG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKCdwdWJsaWMnKSk7XHJcblxyXG4vLyBtaWRkbGV3YXJlIGZvciBwYXJzaW5nIGpzb24gYm9keVxyXG5hcHAudXNlKGpzb24oKSk7XHJcblxyXG5hcHAudXNlKFxyXG4gICcvdXNlci86aWQnLFxyXG4gIGp3dCh7XHJcbiAgICAvLyBwcm9jZXNzLmVudi5FWFBSRVNTX1NFQ1JFVCBpcyBjaGVja2VkIGZvciB0cnV0aGluZXNzIG9uIGFwcCBzdGFydHVwXHJcbiAgICAvLyB0aGUgfHwgaXMgdG8gc2F0aXNmeSB0eXBlc2NyaXB0XHJcbiAgICBzZWNyZXQ6IHByb2Nlc3MuZW52LkVYUFJFU1NfU0VDUkVUIHx8ICdOT1QgU08gU0VDUkVUJyxcclxuICAgIGFsZ29yaXRobXM6IFsnSFMyNTYnXSxcclxuICAgIHJlcXVlc3RQcm9wZXJ0eTogJ2F1dGgnLFxyXG4gIH0pLFxyXG4pO1xyXG5hcHAudXNlKCcvdXNlci86aWQnLCB2YWxpZGF0ZVVzZXIpO1xyXG5cclxuLy8gbm90ZTogc2hvdWxkIHJlYWxseSB2YWxpZGF0ZSB1c2VyIGZvciBlZGl0aW5nIGFwcG9pbnRtZW50c1xyXG4vLyBJJ20gbGF6eSBhbmQgbm90IGltcGxlbWVudGluZyB0aGlzLiBTcGEgbWFuYWdlcnMgYmV3YXJlIVxyXG5cclxuLyogKioqKioqKioqKiogcm91dGVzICoqKioqKioqKiAqL1xyXG5cclxuLy8gdmVyaWZ5IGxvZ2luXHJcbmFwcC5wb3N0KCcvc2lnbmluJywgdXNlclJvdXRlcy5hdXRoKTtcclxuXHJcbi8vIHVzZXIgcHJvZmlsZSBwcm90ZWN0ZWQgYnkgand0XHJcbmFwcC5nZXQoJy91c2VyLzppZCcsIHVzZXJSb3V0ZXMuZ2V0KTtcclxuYXBwLmdldCgnL3VzZXIvOmlkL2FwcG9pbnRtZW50cycsIHVzZXJSb3V0ZXMuZ2V0VXNlckFwcG9pbnRtZW50cyk7XHJcbmFwcC5kZWxldGUoJy91c2VyLzppZCcsIHVzZXJSb3V0ZXMucmVtb3ZlKTtcclxuYXBwLnBhdGNoKCcvdXNlci86aWQnLCB1c2VyUm91dGVzLnVwZGF0ZSk7XHJcblxyXG4vLyBhZGRpbmcgdXNlclxyXG5hcHAucG9zdCgnL3VzZXInLCB1c2VyUm91dGVzLmNyZWF0ZSk7XHJcblxyXG5hcHAuZ2V0KCcvYXBwb2ludG1lbnRzLzp5ZWFyLzptb250aCcsIGFwcG9pbnRtZW50Um91dGVzLmdldCk7XHJcbmFwcC5wYXRjaCgnL2FwcG9pbnRtZW50LzppZCcsIGFwcG9pbnRtZW50Um91dGVzLnVwZGF0ZSk7XHJcblxyXG5hcHAuZ2V0KCcvdHJlYXRtZW50cycsIHRyZWF0bWVudFJvdXRlcy5nZXQpO1xyXG5hcHAuZ2V0KCcvc3RhZmYnLCBzdGFmZlJvdXRlcy5nZXQpO1xyXG4vKiAqKioqKioqKioqKiBFTkQ6IHJvdXRlcyAqKioqKioqKiogKi9cclxuXHJcbmV4cG9ydCBjb25zdCBzdGFydFVwID0gYXN5bmMgKCkgPT4ge1xyXG4gIC8vIGNyZWF0ZSBhcHBvaW50bWVudHMgcmVsZXZhbnQgdG8gY3VycmVudCBkYXRlXHJcbiAgYXdhaXQgY3JlYXRlQXBwb2ludG1lbnRzKCk7XHJcblxyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXHJcbiAgYXBwLmxpc3RlbigzMDMwLCAoKSA9PiBjb25zb2xlLmxvZygnU3BhIHNlcnZlciBsaXN0ZW5pbmcgb24gcG9ydCAzMDMwIScpKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFwcDtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsUUFBQSxHQUFBQyx1QkFBQSxDQUFBSCxPQUFBO0FBQ0EsSUFBQUksV0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBR0EsSUFBQUssaUJBQUEsR0FBQUwsT0FBQTtBQUNBLElBQUFNLE1BQUEsR0FBQU4sT0FBQTtBQUNBLElBQUFPLFlBQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFRLE1BQUEsR0FBQVQsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFTLFVBQUEsR0FBQVYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFVLEtBQUEsR0FBQVgsc0JBQUEsQ0FBQUMsT0FBQTtBQUE4QyxTQUFBVyx5QkFBQUMsV0FBQSxlQUFBQyxPQUFBLGtDQUFBQyxpQkFBQSxPQUFBRCxPQUFBLFFBQUFFLGdCQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEseUJBQUFDLFdBQUEsV0FBQUEsV0FBQSxHQUFBRyxnQkFBQSxHQUFBRCxpQkFBQSxLQUFBRixXQUFBO0FBQUEsU0FB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","map":{"version":3,"names":["_cors","_interopRequireDefault","require","_dotenv","_express","_interopRequireWildcard","_expressJwt","_appointmentUtils","_index","_appointment","_staff","_treatment","_user","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","dotenv","config","process","env","EXPRESS_SECRET","console","error","exit","app","express","use","cors","origin","credentials","json","jwt","secret","algorithms","requestProperty","validateUser","post","userRoutes","auth","getUserAppointments","remove","patch","update","create","appointmentRoutes","treatmentRoutes","staffRoutes","startUp","_ref","_asyncToGenerator2","_regenerator","mark","_callee","wrap","_callee$","_context","prev","next","createAppointments","listen","log","stop","apply","arguments","exports","_default"],"sourceRoot":"C:\\Users\\kasti\\workspace\\REACT-QUERY\\base-lazy-days\\server\\src\\","sources":["server.ts"],"sourcesContent":["import cors from 'cors';\r\nimport dotenv from 'dotenv';\r\nimport express, { json } from 'express';\r\nimport jwt from 'express-jwt';\r\n\r\nimport { User as UserType } from '../../shared/types';\r\nimport { createAppointments } from './db-func/appointmentUtils';\r\nimport { validateUser } from './middlewares/index';\r\nimport appointmentRoutes from './route-methods/appointment';\r\nimport staffRoutes from './route-methods/staff';\r\nimport treatmentRoutes from './route-methods/treatment';\r\nimport userRoutes from './route-methods/user';\r\n\r\ndotenv.config();\r\nif (!process.env.EXPRESS_SECRET) {\r\n  // eslint-disable-next-line no-console\r\n  console.error('EXPRESS_SECRET must be defined in .env\\nEXITING.');\r\n  process.exit(-1);\r\n}\r\n\r\n// typing for Express request with jwt\r\ndeclare global {\r\n  // eslint-disable-next-line @typescript-eslint/no-namespace\r\n  namespace Express {\r\n    interface Request {\r\n      auth?: UserType;\r\n    }\r\n  }\r\n}\r\n\r\nconst app = express();\r\n\r\n// CORS for react app, assuming port 3000\r\napp.use(\r\n  cors({\r\n    origin: 'http://localhost:3000',\r\n    credentials: true,\r\n  }),\r\n);\r\n\r\n/* ********* middlewares ********* */\r\n// use middleware to serve static images\r\napp.use(express.static('public'));\r\n\r\n// middleware for parsing json body\r\napp.use(json());\r\n\r\napp.use(\r\n  '/user/:id',\r\n  jwt({\r\n    // process.env.EXPRESS_SECRET is checked for truthiness on app startup\r\n    // the || is to satisfy typescript\r\n    secret: process.env.EXPRESS_SECRET || 'NOT SO SECRET',\r\n    algorithms: ['HS256'],\r\n    requestProperty: 'auth',\r\n  }),\r\n);\r\napp.use('/user/:id', validateUser);\r\n\r\n// note: should really validate user for editing appointments\r\n// I'm lazy and not implementing this. Spa managers beware!\r\n\r\n/* *********** routes ********* */\r\n\r\n// verify login\r\napp.post('/signin', userRoutes.auth);\r\n\r\n// user profile protected by jwt\r\napp.get('/user/:id', userRoutes.get);\r\napp.get('/user/:id/appointments', userRoutes.getUserAppointments);\r\napp.delete('/user/:id', userRoutes.remove);\r\napp.patch('/user/:id', userRoutes.update);\r\n\r\n// adding user\r\napp.post('/user', userRoutes.create);\r\n\r\napp.get('/appointments/:year/:month', appointmentRoutes.get);\r\napp.patch('/appointment/:id', appointmentRoutes.update);\r\n\r\napp.get('/treatments', treatmentRoutes.get);\r\napp.get('/staff', staffRoutes.get);\r\n/* *********** END: routes ********* */\r\n\r\nexport const startUp = async () => {\r\n  // create appointments relevant to current date\r\n  await createAppointments();\r\n\r\n  // eslint-disable-next-line no-console\r\n  app.listen(3030, () => console.log('Spa server listening on port 3030!'));\r\n};\r\n\r\nexport default app;\r\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAC,uBAAA,CAAAH,OAAA;AACA,IAAAI,WAAA,GAAAL,sBAAA,CAAAC,OAAA;AAGA,IAAAK,iBAAA,GAAAL,OAAA;AACA,IAAAM,MAAA,GAAAN,OAAA;AACA,IAAAO,YAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,MAAA,GAAAT,sBAAA,CAAAC,OAAA;AACA,IAAAS,UAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,KAAA,GAAAX,sBAAA,CAAAC,OAAA;AAA8C,SAAAW,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,yBAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAT,wBAAAa,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,aAAAE,OAAA,CAAAF,GAAA,yBAAAA,GAAA,uCAAAA,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,cAAAN,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAE9CW,kBAAM,CAACC,MAAM,CAAC,CAAC;AACf,IAAI,CAACC,OAAO,CAACC,GAAG,CAACC,cAAc,EAAE;EAC/B;EACAC,OAAO,CAACC,KAAK,CAAC,kDAAkD,CAAC;EACjEJ,OAAO,CAACK,IAAI,CAAC,CAAC,CAAC,CAAC;AAClB;;AAEA;;AAUA,IAAMC,GAAG,GAAG,IAAAC,mBAAO,EAAC,CAAC;;AAErB;AACAD,GAAG,CAACE,GAAG,CACL,IAAAC,gBAAI,EAAC;EACHC,MAAM,EAAE,uBAAuB;EAC/BC,WAAW,EAAE;AACf,CAAC,CACH,CAAC;;AAED;AACA;AACAL,GAAG,CAACE,GAAG,CAACD,mBAAO,UAAO,CAAC,QAAQ,CAAC,CAAC;;AAEjC;AACAD,GAAG,CAACE,GAAG,CAAC,IAAAI,aAAI,EAAC,CAAC,CAAC;AAEfN,GAAG,CAACE,GAAG,CACL,WAAW,EACX,IAAAK,sBAAG,EAAC;EACF;EACA;EACAC,MAAM,EAAEd,OAAO,CAACC,GAAG,CAACC,cAAc,IAAI,eAAe;EACrDa,UAAU,EAAE,CAAC,OAAO,CAAC;EACrBC,eAAe,EAAE;AACnB,CAAC,CACH,CAAC;AACDV,GAAG,CAACE,GAAG,CAAC,WAAW,EAAES,mBAAY,CAAC;;AAElC;AACA;;AAEA;;AAEA;AACAX,GAAG,CAACY,IAAI,CAAC,SAAS,EAAEC,gBAAU,CAACC,IAAI,CAAC;;AAEpC;AACAd,GAAG,CAACpB,GAAG,CAAC,WAAW,EAAEiC,gBAAU,CAACjC,GAAG,CAAC;AACpCoB,GAAG,CAACpB,GAAG,CAAC,wBAAwB,EAAEiC,gBAAU,CAACE,mBAAmB,CAAC;AACjEf,GAAG,UAAO,CAAC,WAAW,EAAEa,gBAAU,CAACG,MAAM,CAAC;AAC1ChB,GAAG,CAACiB,KAAK,CAAC,WAAW,EAAEJ,gBAAU,CAACK,MAAM,CAAC;;AAEzC;AACAlB,GAAG,CAACY,IAAI,CAAC,OAAO,EAAEC,gBAAU,CAACM,MAAM,CAAC;AAEpCnB,GAAG,CAACpB,GAAG,CAAC,4BAA4B,EAAEwC,uBAAiB,CAACxC,GAAG,CAAC;AAC5DoB,GAAG,CAACiB,KAAK,CAAC,kBAAkB,EAAEG,uBAAiB,CAACF,MAAM,CAAC;AAEvDlB,GAAG,CAACpB,GAAG,CAAC,aAAa,EAAEyC,qBAAe,CAACzC,GAAG,CAAC;AAC3CoB,GAAG,CAACpB,GAAG,CAAC,QAAQ,EAAE0C,iBAAW,CAAC1C,GAAG,CAAC;AAClC;;AAEO,IAAM2C,OAAO;EAAA,IAAAC,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAG,SAAAC,QAAA;IAAA,OAAAF,YAAA,YAAAG,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAF,QAAA,CAAAE,IAAA;UAAA,OAEf,IAAAC,oCAAkB,EAAC,CAAC;QAAA;UAE1B;UACAlC,GAAG,CAACmC,MAAM,CAAC,IAAI,EAAE;YAAA,OAAMtC,OAAO,CAACuC,GAAG,CAAC,oCAAoC,CAAC;UAAA,EAAC;QAAC;QAAA;UAAA,OAAAL,QAAA,CAAAM,IAAA;MAAA;IAAA,GAAAT,OAAA;EAAA,CAC3E;EAAA,gBANYL,OAAOA,CAAA;IAAA,OAAAC,IAAA,CAAAc,KAAA,OAAAC,SAAA;EAAA;AAAA,GAMnB;AAACC,OAAA,CAAAjB,OAAA,GAAAA,OAAA;AAAA,IAAAkB,QAAA,GAEazC,GAAG;AAAAwC,OAAA,cAAAC,QAAA"}},"mtime":1679227220381},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\db-func\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"filename\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\db-func\\\\appointmentUtils.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createAppointments = createAppointments;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _dayjs = _interopRequireDefault(require(\"dayjs\"));\nvar _ = _interopRequireDefault(require(\".\"));\n/* eslint-disable no-plusplus */\n/* eslint-disable max-lines-per-function */\n\n// utility function to make unpadded month/date numbers into padded\nfunction padNum(num) {\n  return num.toString().length === 1 ? \"0\".concat(num) : num.toString();\n}\n\n// utility function to make appointment from date and treatment type\nfunction makeAppointment(treatmentName, dateTime, existingAppointmentsById) {\n  var id = Number((0, _dayjs[\"default\"])(dateTime).unix());\n\n  // if the appointment is filled, don't make the recurring appointment\n  if (existingAppointmentsById[id]) return existingAppointmentsById[id];\n\n  // otherwise, make the recurring appointment\n  var appointment = {\n    id: id,\n    dateTime: dateTime.toDate(),\n    treatmentName: treatmentName\n  };\n\n  // assign some appointments as filled by nonexistent \"user 100\" based on datetime mod\n  if (Math.floor(Math.random() * 10) % 3 === 0) appointment.userId = 100;\n  return appointment;\n}\n\n// generate an appointments object with recurring appointments and add to db\n// (if not already there)\n// Meant to be run on server startup\nfunction createAppointments() {\n  return _createAppointments.apply(this, arguments);\n}\nfunction _createAppointments() {\n  _createAppointments = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n    var existingAppointments, existingAppointmentsById, allAppointments, month, year, monthsFromNow, monthString, startDate, lastDate, i, dayNum, thisDate, dayofWeek;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // eslint-disable-next-line no-console\n          console.log('Creating appointments...');\n          _context.next = 3;\n          return _[\"default\"].getAppointments();\n        case 3:\n          existingAppointments = _context.sent;\n          // make a map of appointments by id for easy access;\n          existingAppointmentsById = {};\n          existingAppointments.forEach(function (a) {\n            existingAppointmentsById[a.id] = a;\n          });\n          allAppointments = []; // start with today\n          month = (0, _dayjs[\"default\"])().month();\n          year = (0, _dayjs[\"default\"])().year(); // do this for three months; dayjs 0-indexes its months, hence starting at 1\n          monthsFromNow = 1;\n        case 10:\n          if (!(monthsFromNow < 4)) {\n            _context.next = 44;\n            break;\n          }\n          // make sure month is two digits;\n          monthString = padNum(month + monthsFromNow);\n          startDate = (0, _dayjs[\"default\"])(\"\".concat(year).concat(monthString, \"01\"));\n          lastDate = Number(startDate.endOf('month').format('DD'));\n          i = 0;\n        case 15:\n          if (!(i < lastDate)) {\n            _context.next = 41;\n            break;\n          }\n          dayNum = i + 1;\n          thisDate = (0, _dayjs[\"default\"])(\"\".concat(year).concat(monthString).concat(padNum(dayNum)));\n          dayofWeek = Number(thisDate.format('d'));\n          _context.t0 = dayofWeek;\n          _context.next = _context.t0 === 1 ? 22 : _context.t0 === 2 ? 25 : _context.t0 === 3 ? 28 : _context.t0 === 4 ? 31 : _context.t0 === 5 ? 34 : 37;\n          break;\n        case 22:\n          // Mondays: massage 10am, facial 2pm\n          allAppointments.push(makeAppointment('massage', thisDate.clone().add(10, 'hours'), existingAppointmentsById));\n          allAppointments.push(makeAppointment('facial', thisDate.clone().add(14, 'hours'), existingAppointmentsById));\n          return _context.abrupt(\"break\", 38);\n        case 25:\n          // Tuesdays: scrub 1pm, massage 3pm\n          allAppointments.push(makeAppointment('scrub', thisDate.clone().add(13, 'hours'), existingAppointmentsById));\n          allAppointments.push(makeAppointment('massage', thisDate.clone().add(15, 'hours'), existingAppointmentsById));\n          return _context.abrupt(\"break\", 38);\n        case 28:\n          // Wednesdays: facial: 11am, scrub 4pm\n          allAppointments.push(makeAppointment('facial', thisDate.clone().add(11, 'hours'), existingAppointmentsById));\n          allAppointments.push(makeAppointment('scrub', thisDate.clone().add(16, 'hours'), existingAppointmentsById));\n          return _context.abrupt(\"break\", 38);\n        case 31:\n          // Thursdays: scrub: 9am, scrub 1pm\n          allAppointments.push(makeAppointment('scrub', thisDate.clone().add(9, 'hours'), existingAppointmentsById));\n          allAppointments.push(makeAppointment('scrub', thisDate.clone().add(13, 'hours'), existingAppointmentsById));\n          return _context.abrupt(\"break\", 38);\n        case 34:\n          // Fridays: massage: 1pm, massage 3pm\n          allAppointments.push(makeAppointment('massage', thisDate.clone().add(13, 'hours'), existingAppointmentsById));\n          allAppointments.push(makeAppointment('massage', thisDate.clone().add(15, 'hours'), existingAppointmentsById));\n          return _context.abrupt(\"break\", 38);\n        case 37:\n          return _context.abrupt(\"break\", 38);\n        case 38:\n          i++;\n          _context.next = 15;\n          break;\n        case 41:\n          monthsFromNow++;\n          _context.next = 10;\n          break;\n        case 44:\n          _context.next = 46;\n          return _[\"default\"].writeAppointments(allAppointments);\n        case 46:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _createAppointments.apply(this, arguments);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGF5anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl8iLCJwYWROdW0iLCJudW0iLCJ0b1N0cmluZyIsImxlbmd0aCIsImNvbmNhdCIsIm1ha2VBcHBvaW50bWVudCIsInRyZWF0bWVudE5hbWUiLCJkYXRlVGltZSIsImV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZCIsImlkIiwiTnVtYmVyIiwiZGF5anMiLCJ1bml4IiwiYXBwb2ludG1lbnQiLCJ0b0RhdGUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ1c2VySWQiLCJjcmVhdGVBcHBvaW50bWVudHMiLCJfY3JlYXRlQXBwb2ludG1lbnRzIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsImV4aXN0aW5nQXBwb2ludG1lbnRzIiwiYWxsQXBwb2ludG1lbnRzIiwibW9udGgiLCJ5ZWFyIiwibW9udGhzRnJvbU5vdyIsIm1vbnRoU3RyaW5nIiwic3RhcnREYXRlIiwibGFzdERhdGUiLCJpIiwiZGF5TnVtIiwidGhpc0RhdGUiLCJkYXlvZldlZWsiLCJ3cmFwIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwiY29uc29sZSIsImxvZyIsImRiIiwiZ2V0QXBwb2ludG1lbnRzIiwic2VudCIsImZvckVhY2giLCJhIiwiZW5kT2YiLCJmb3JtYXQiLCJ0MCIsInB1c2giLCJjbG9uZSIsImFkZCIsImFicnVwdCIsIndyaXRlQXBwb2ludG1lbnRzIiwic3RvcCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxrYXN0aVxcd29ya3NwYWNlXFxSRUFDVC1RVUVSWVxcYmFzZS1sYXp5LWRheXNcXHNlcnZlclxcc3JjXFxkYi1mdW5jXFwiLCJzb3VyY2VzIjpbImFwcG9pbnRtZW50VXRpbHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tcGx1c3BsdXMgKi9cclxuLyogZXNsaW50LWRpc2FibGUgbWF4LWxpbmVzLXBlci1mdW5jdGlvbiAqL1xyXG5pbXBvcnQgZGF5anMgZnJvbSAnZGF5anMnO1xyXG5cclxuaW1wb3J0IHsgQXBwb2ludG1lbnQgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdHlwZXMnO1xyXG5pbXBvcnQgZGIgZnJvbSAnLic7XHJcblxyXG4vLyB1dGlsaXR5IGZ1bmN0aW9uIHRvIG1ha2UgdW5wYWRkZWQgbW9udGgvZGF0ZSBudW1iZXJzIGludG8gcGFkZGVkXHJcbmZ1bmN0aW9uIHBhZE51bShudW06IG51bWJlciB8IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIG51bS50b1N0cmluZygpLmxlbmd0aCA9PT0gMSA/IGAwJHtudW19YCA6IG51bS50b1N0cmluZygpO1xyXG59XHJcblxyXG4vLyB1dGlsaXR5IGZ1bmN0aW9uIHRvIG1ha2UgYXBwb2ludG1lbnQgZnJvbSBkYXRlIGFuZCB0cmVhdG1lbnQgdHlwZVxyXG5mdW5jdGlvbiBtYWtlQXBwb2ludG1lbnQoXHJcbiAgdHJlYXRtZW50TmFtZTogc3RyaW5nLFxyXG4gIGRhdGVUaW1lOiBkYXlqcy5EYXlqcyxcclxuICBleGlzdGluZ0FwcG9pbnRtZW50c0J5SWQ6IFJlY29yZDxudW1iZXIsIEFwcG9pbnRtZW50PixcclxuKTogQXBwb2ludG1lbnQge1xyXG4gIGNvbnN0IGlkID0gTnVtYmVyKGRheWpzKGRhdGVUaW1lKS51bml4KCkpO1xyXG5cclxuICAvLyBpZiB0aGUgYXBwb2ludG1lbnQgaXMgZmlsbGVkLCBkb24ndCBtYWtlIHRoZSByZWN1cnJpbmcgYXBwb2ludG1lbnRcclxuICBpZiAoZXhpc3RpbmdBcHBvaW50bWVudHNCeUlkW2lkXSkgcmV0dXJuIGV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZFtpZF07XHJcblxyXG4gIC8vIG90aGVyd2lzZSwgbWFrZSB0aGUgcmVjdXJyaW5nIGFwcG9pbnRtZW50XHJcbiAgY29uc3QgYXBwb2ludG1lbnQ6IEFwcG9pbnRtZW50ID0ge1xyXG4gICAgaWQsXHJcbiAgICBkYXRlVGltZTogZGF0ZVRpbWUudG9EYXRlKCksXHJcbiAgICB0cmVhdG1lbnROYW1lLFxyXG4gIH07XHJcblxyXG4gIC8vIGFzc2lnbiBzb21lIGFwcG9pbnRtZW50cyBhcyBmaWxsZWQgYnkgbm9uZXhpc3RlbnQgXCJ1c2VyIDEwMFwiIGJhc2VkIG9uIGRhdGV0aW1lIG1vZFxyXG4gIGlmIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCkgJSAzID09PSAwKSBhcHBvaW50bWVudC51c2VySWQgPSAxMDA7XHJcblxyXG4gIHJldHVybiBhcHBvaW50bWVudDtcclxufVxyXG5cclxuLy8gZ2VuZXJhdGUgYW4gYXBwb2ludG1lbnRzIG9iamVjdCB3aXRoIHJlY3VycmluZyBhcHBvaW50bWVudHMgYW5kIGFkZCB0byBkYlxyXG4vLyAoaWYgbm90IGFscmVhZHkgdGhlcmUpXHJcbi8vIE1lYW50IHRvIGJlIHJ1biBvbiBzZXJ2ZXIgc3RhcnR1cFxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQXBwb2ludG1lbnRzKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXHJcbiAgY29uc29sZS5sb2coJ0NyZWF0aW5nIGFwcG9pbnRtZW50cy4uLicpO1xyXG4gIGNvbnN0IGV4aXN0aW5nQXBwb2ludG1lbnRzID0gYXdhaXQgZGIuZ2V0QXBwb2ludG1lbnRzKCk7XHJcblxyXG4gIC8vIG1ha2UgYSBtYXAgb2YgYXBwb2ludG1lbnRzIGJ5IGlkIGZvciBlYXN5IGFjY2VzcztcclxuICBjb25zdCBleGlzdGluZ0FwcG9pbnRtZW50c0J5SWQgPSB7fTtcclxuICBleGlzdGluZ0FwcG9pbnRtZW50cy5mb3JFYWNoKChhKSA9PiB7XHJcbiAgICBleGlzdGluZ0FwcG9pbnRtZW50c0J5SWRbYS5pZF0gPSBhO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBhbGxBcHBvaW50bWVudHM6IEFwcG9pbnRtZW50W10gPSBbXTtcclxuXHJcbiAgLy8gc3RhcnQgd2l0aCB0b2RheVxyXG4gIGNvbnN0IG1vbnRoID0gZGF5anMoKS5tb250aCgpO1xyXG4gIGNvbnN0IHllYXIgPSBkYXlqcygpLnllYXIoKTtcclxuXHJcbiAgLy8gZG8gdGhpcyBmb3IgdGhyZWUgbW9udGhzOyBkYXlqcyAwLWluZGV4ZXMgaXRzIG1vbnRocywgaGVuY2Ugc3RhcnRpbmcgYXQgMVxyXG4gIGZvciAobGV0IG1vbnRoc0Zyb21Ob3cgPSAxOyBtb250aHNGcm9tTm93IDwgNDsgbW9udGhzRnJvbU5vdysrKSB7XHJcbiAgICAvLyBtYWtlIHN1cmUgbW9udGggaXMgdHdvIGRpZ2l0cztcclxuICAgIGNvbnN0IG1vbnRoU3RyaW5nID0gcGFkTnVtKG1vbnRoICsgbW9udGhzRnJvbU5vdyk7XHJcbiAgICBjb25zdCBzdGFydERhdGUgPSBkYXlqcyhgJHt5ZWFyfSR7bW9udGhTdHJpbmd9MDFgKTtcclxuICAgIGNvbnN0IGxhc3REYXRlID0gTnVtYmVyKHN0YXJ0RGF0ZS5lbmRPZignbW9udGgnKS5mb3JtYXQoJ0REJykpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGFzdERhdGU7IGkrKykge1xyXG4gICAgICBjb25zdCBkYXlOdW0gPSBpICsgMTtcclxuICAgICAgY29uc3QgdGhpc0RhdGUgPSBkYXlqcyhgJHt5ZWFyfSR7bW9udGhTdHJpbmd9JHtwYWROdW0oZGF5TnVtKX1gKTtcclxuICAgICAgY29uc3QgZGF5b2ZXZWVrID0gTnVtYmVyKHRoaXNEYXRlLmZvcm1hdCgnZCcpKTtcclxuICAgICAgc3dpdGNoIChkYXlvZldlZWspIHtcclxuICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAvLyBNb25kYXlzOiBtYXNzYWdlIDEwYW0sIGZhY2lhbCAycG1cclxuICAgICAgICAgIGFsbEFwcG9pbnRtZW50cy5wdXNoKFxyXG4gICAgICAgICAgICBtYWtlQXBwb2ludG1lbnQoXHJcbiAgICAgICAgICAgICAgJ21hc3NhZ2UnLFxyXG4gICAgICAgICAgICAgIHRoaXNEYXRlLmNsb25lKCkuYWRkKDEwLCAnaG91cnMnKSxcclxuICAgICAgICAgICAgICBleGlzdGluZ0FwcG9pbnRtZW50c0J5SWQsXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgYWxsQXBwb2ludG1lbnRzLnB1c2goXHJcbiAgICAgICAgICAgIG1ha2VBcHBvaW50bWVudChcclxuICAgICAgICAgICAgICAnZmFjaWFsJyxcclxuICAgICAgICAgICAgICB0aGlzRGF0ZS5jbG9uZSgpLmFkZCgxNCwgJ2hvdXJzJyksXHJcbiAgICAgICAgICAgICAgZXhpc3RpbmdBcHBvaW50bWVudHNCeUlkLFxyXG4gICAgICAgICAgICApLFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgIC8vIFR1ZXNkYXlzOiBzY3J1YiAxcG0sIG1hc3NhZ2UgM3BtXHJcbiAgICAgICAgICBhbGxBcHBvaW50bWVudHMucHVzaChcclxuICAgICAgICAgICAgbWFrZUFwcG9pbnRtZW50KFxyXG4gICAgICAgICAgICAgICdzY3J1YicsXHJcbiAgICAgICAgICAgICAgdGhpc0RhdGUuY2xvbmUoKS5hZGQoMTMsICdob3VycycpLFxyXG4gICAgICAgICAgICAgIGV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZCxcclxuICAgICAgICAgICAgKSxcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBhbGxBcHBvaW50bWVudHMucHVzaChcclxuICAgICAgICAgICAgbWFrZUFwcG9pbnRtZW50KFxyXG4gICAgICAgICAgICAgICdtYXNzYWdlJyxcclxuICAgICAgICAgICAgICB0aGlzRGF0ZS5jbG9uZSgpLmFkZCgxNSwgJ2hvdXJzJyksXHJcbiAgICAgICAgICAgICAgZXhpc3RpbmdBcHBvaW50bWVudHNCeUlkLFxyXG4gICAgICAgICAgICApLFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgIC8vIFdlZG5lc2RheXM6IGZhY2lhbDogMTFhbSwgc2NydWIgNHBtXHJcbiAgICAgICAgICBhbGxBcHBvaW50bWVudHMucHVzaChcclxuICAgICAgICAgICAgbWFrZUFwcG9pbnRtZW50KFxyXG4gICAgICAgICAgICAgICdmYWNpYWwnLFxyXG4gICAgICAgICAgICAgIHRoaXNEYXRlLmNsb25lKCkuYWRkKDExLCAnaG91cnMnKSxcclxuICAgICAgICAgICAgICBleGlzdGluZ0FwcG9pbnRtZW50c0J5SWQsXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgYWxsQXBwb2ludG1lbnRzLnB1c2goXHJcbiAgICAgICAgICAgIG1ha2VBcHBvaW50bWVudChcclxuICAgICAgICAgICAgICAnc2NydWInLFxyXG4gICAgICAgICAgICAgIHRoaXNEYXRlLmNsb25lKCkuYWRkKDE2LCAnaG91cnMnKSxcclxuICAgICAgICAgICAgICBleGlzdGluZ0FwcG9pbnRtZW50c0J5SWQsXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgLy8gVGh1cnNkYXlzOiBzY3J1YjogOWFtLCBzY3J1YiAxcG1cclxuICAgICAgICAgIGFsbEFwcG9pbnRtZW50cy5wdXNoKFxyXG4gICAgICAgICAgICBtYWtlQXBwb2ludG1lbnQoXHJcbiAgICAgICAgICAgICAgJ3NjcnViJyxcclxuICAgICAgICAgICAgICB0aGlzRGF0ZS5jbG9uZSgpLmFkZCg5LCAnaG91cnMnKSxcclxuICAgICAgICAgICAgICBleGlzdGluZ0FwcG9pbnRtZW50c0J5SWQsXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgYWxsQXBwb2ludG1lbnRzLnB1c2goXHJcbiAgICAgICAgICAgIG1ha2VBcHBvaW50bWVudChcclxuICAgICAgICAgICAgICAnc2NydWInLFxyXG4gICAgICAgICAgICAgIHRoaXNEYXRlLmNsb25lKCkuYWRkKDEzLCAnaG91cnMnKSxcclxuICAgICAgICAgICAgICBleGlzdGluZ0FwcG9pbnRtZW50c0J5SWQsXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgLy8gRnJpZGF5czogbWFzc2FnZTogMXBtLCBtYXNzYWdlIDNwbVxyXG4gICAgICAgICAgYWxsQXBwb2ludG1lbnRzLnB1c2goXHJcbiAgICAgICAgICAgIG1ha2VBcHBvaW50bWVudChcclxuICAgICAgICAgICAgICAnbWFzc2FnZScsXHJcbiAgICAgICAgICAgICAgdGhpc0RhdGUuY2xvbmUoKS5hZGQoMTMsICdob3VycycpLFxyXG4gICAgICAgICAgICAgIGV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZCxcclxuICAgICAgICAgICAgKSxcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBhbGxBcHBvaW50bWVudHMucHVzaChcclxuICAgICAgICAgICAgbWFrZUFwcG9pbnRtZW50KFxyXG4gICAgICAgICAgICAgICdtYXNzYWdlJyxcclxuICAgICAgICAgICAgICB0aGlzRGF0ZS5jbG9uZSgpLmFkZCgxNSwgJ2hvdXJzJyksXHJcbiAgICAgICAgICAgICAgZXhpc3RpbmdBcHBvaW50bWVudHNCeUlkLFxyXG4gICAgICAgICAgICApLFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBhd2FpdCBkYi53cml0ZUFwcG9pbnRtZW50cyhhbGxBcHBvaW50bWVudHMpO1xyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBR0EsSUFBQUMs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","map":{"version":3,"names":["_dayjs","_interopRequireDefault","require","_","padNum","num","toString","length","concat","makeAppointment","treatmentName","dateTime","existingAppointmentsById","id","Number","dayjs","unix","appointment","toDate","Math","floor","random","userId","createAppointments","_createAppointments","apply","arguments","_asyncToGenerator2","_regenerator","mark","_callee","existingAppointments","allAppointments","month","year","monthsFromNow","monthString","startDate","lastDate","i","dayNum","thisDate","dayofWeek","wrap","_callee$","_context","prev","next","console","log","db","getAppointments","sent","forEach","a","endOf","format","t0","push","clone","add","abrupt","writeAppointments","stop"],"sourceRoot":"C:\\Users\\kasti\\workspace\\REACT-QUERY\\base-lazy-days\\server\\src\\db-func\\","sources":["appointmentUtils.ts"],"sourcesContent":["/* eslint-disable no-plusplus */\r\n/* eslint-disable max-lines-per-function */\r\nimport dayjs from 'dayjs';\r\n\r\nimport { Appointment } from '../../../shared/types';\r\nimport db from '.';\r\n\r\n// utility function to make unpadded month/date numbers into padded\r\nfunction padNum(num: number | string): string {\r\n  return num.toString().length === 1 ? `0${num}` : num.toString();\r\n}\r\n\r\n// utility function to make appointment from date and treatment type\r\nfunction makeAppointment(\r\n  treatmentName: string,\r\n  dateTime: dayjs.Dayjs,\r\n  existingAppointmentsById: Record<number, Appointment>,\r\n): Appointment {\r\n  const id = Number(dayjs(dateTime).unix());\r\n\r\n  // if the appointment is filled, don't make the recurring appointment\r\n  if (existingAppointmentsById[id]) return existingAppointmentsById[id];\r\n\r\n  // otherwise, make the recurring appointment\r\n  const appointment: Appointment = {\r\n    id,\r\n    dateTime: dateTime.toDate(),\r\n    treatmentName,\r\n  };\r\n\r\n  // assign some appointments as filled by nonexistent \"user 100\" based on datetime mod\r\n  if (Math.floor(Math.random() * 10) % 3 === 0) appointment.userId = 100;\r\n\r\n  return appointment;\r\n}\r\n\r\n// generate an appointments object with recurring appointments and add to db\r\n// (if not already there)\r\n// Meant to be run on server startup\r\nexport async function createAppointments(): Promise<void> {\r\n  // eslint-disable-next-line no-console\r\n  console.log('Creating appointments...');\r\n  const existingAppointments = await db.getAppointments();\r\n\r\n  // make a map of appointments by id for easy access;\r\n  const existingAppointmentsById = {};\r\n  existingAppointments.forEach((a) => {\r\n    existingAppointmentsById[a.id] = a;\r\n  });\r\n\r\n  const allAppointments: Appointment[] = [];\r\n\r\n  // start with today\r\n  const month = dayjs().month();\r\n  const year = dayjs().year();\r\n\r\n  // do this for three months; dayjs 0-indexes its months, hence starting at 1\r\n  for (let monthsFromNow = 1; monthsFromNow < 4; monthsFromNow++) {\r\n    // make sure month is two digits;\r\n    const monthString = padNum(month + monthsFromNow);\r\n    const startDate = dayjs(`${year}${monthString}01`);\r\n    const lastDate = Number(startDate.endOf('month').format('DD'));\r\n\r\n    for (let i = 0; i < lastDate; i++) {\r\n      const dayNum = i + 1;\r\n      const thisDate = dayjs(`${year}${monthString}${padNum(dayNum)}`);\r\n      const dayofWeek = Number(thisDate.format('d'));\r\n      switch (dayofWeek) {\r\n        case 1:\r\n          // Mondays: massage 10am, facial 2pm\r\n          allAppointments.push(\r\n            makeAppointment(\r\n              'massage',\r\n              thisDate.clone().add(10, 'hours'),\r\n              existingAppointmentsById,\r\n            ),\r\n          );\r\n          allAppointments.push(\r\n            makeAppointment(\r\n              'facial',\r\n              thisDate.clone().add(14, 'hours'),\r\n              existingAppointmentsById,\r\n            ),\r\n          );\r\n          break;\r\n        case 2:\r\n          // Tuesdays: scrub 1pm, massage 3pm\r\n          allAppointments.push(\r\n            makeAppointment(\r\n              'scrub',\r\n              thisDate.clone().add(13, 'hours'),\r\n              existingAppointmentsById,\r\n            ),\r\n          );\r\n          allAppointments.push(\r\n            makeAppointment(\r\n              'massage',\r\n              thisDate.clone().add(15, 'hours'),\r\n              existingAppointmentsById,\r\n            ),\r\n          );\r\n          break;\r\n        case 3:\r\n          // Wednesdays: facial: 11am, scrub 4pm\r\n          allAppointments.push(\r\n            makeAppointment(\r\n              'facial',\r\n              thisDate.clone().add(11, 'hours'),\r\n              existingAppointmentsById,\r\n            ),\r\n          );\r\n          allAppointments.push(\r\n            makeAppointment(\r\n              'scrub',\r\n              thisDate.clone().add(16, 'hours'),\r\n              existingAppointmentsById,\r\n            ),\r\n          );\r\n          break;\r\n        case 4:\r\n          // Thursdays: scrub: 9am, scrub 1pm\r\n          allAppointments.push(\r\n            makeAppointment(\r\n              'scrub',\r\n              thisDate.clone().add(9, 'hours'),\r\n              existingAppointmentsById,\r\n            ),\r\n          );\r\n          allAppointments.push(\r\n            makeAppointment(\r\n              'scrub',\r\n              thisDate.clone().add(13, 'hours'),\r\n              existingAppointmentsById,\r\n            ),\r\n          );\r\n          break;\r\n        case 5:\r\n          // Fridays: massage: 1pm, massage 3pm\r\n          allAppointments.push(\r\n            makeAppointment(\r\n              'massage',\r\n              thisDate.clone().add(13, 'hours'),\r\n              existingAppointmentsById,\r\n            ),\r\n          );\r\n          allAppointments.push(\r\n            makeAppointment(\r\n              'massage',\r\n              thisDate.clone().add(15, 'hours'),\r\n              existingAppointmentsById,\r\n            ),\r\n          );\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  }\r\n  await db.writeAppointments(allAppointments);\r\n}\r\n"],"mappings":";;;;;;;;;AAEA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAGA,IAAAC,CAAA,GAAAF,sBAAA,CAAAC,OAAA;AALA;AACA;;AAMA;AACA,SAASE,MAAMA,CAACC,GAAoB,EAAU;EAC5C,OAAOA,GAAG,CAACC,QAAQ,CAAC,CAAC,CAACC,MAAM,KAAK,CAAC,OAAAC,MAAA,CAAOH,GAAG,IAAKA,GAAG,CAACC,QAAQ,CAAC,CAAC;AACjE;;AAEA;AACA,SAASG,eAAeA,CACtBC,aAAqB,EACrBC,QAAqB,EACrBC,wBAAqD,EACxC;EACb,IAAMC,EAAE,GAAGC,MAAM,CAAC,IAAAC,iBAAK,EAACJ,QAAQ,CAAC,CAACK,IAAI,CAAC,CAAC,CAAC;;EAEzC;EACA,IAAIJ,wBAAwB,CAACC,EAAE,CAAC,EAAE,OAAOD,wBAAwB,CAACC,EAAE,CAAC;;EAErE;EACA,IAAMI,WAAwB,GAAG;IAC/BJ,EAAE,EAAFA,EAAE;IACFF,QAAQ,EAAEA,QAAQ,CAACO,MAAM,CAAC,CAAC;IAC3BR,aAAa,EAAbA;EACF,CAAC;;EAED;EACA,IAAIS,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,EAAEJ,WAAW,CAACK,MAAM,GAAG,GAAG;EAEtE,OAAOL,WAAW;AACpB;;AAEA;AACA;AACA;AAAA,SACsBM,kBAAkBA,CAAA;EAAA,OAAAC,mBAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,oBAAA;EAAAA,mBAAA,OAAAG,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAjC,SAAAC,QAAA;IAAA,IAAAC,oBAAA,EAAAnB,wBAAA,EAAAoB,eAAA,EAAAC,KAAA,EAAAC,IAAA,EAAAC,aAAA,EAAAC,WAAA,EAAAC,SAAA,EAAAC,QAAA,EAAAC,CAAA,EAAAC,MAAA,EAAAC,QAAA,EAAAC,SAAA;IAAA,OAAAd,YAAA,YAAAe,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UACL;UACAC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;UAACJ,QAAA,CAAAE,IAAA;UAAA,OACLG,YAAE,CAACC,eAAe,CAAC,CAAC;QAAA;UAAjDpB,oBAAoB,GAAAc,QAAA,CAAAO,IAAA;UAE1B;UACMxC,wBAAwB,GAAG,CAAC,CAAC;UACnCmB,oBAAoB,CAACsB,OAAO,CAAC,UAACC,CAAC,EAAK;YAClC1C,wBAAwB,CAAC0C,CAAC,CAACzC,EAAE,CAAC,GAAGyC,CAAC;UACpC,CAAC,CAAC;UAEItB,eAA8B,GAAG,EAAE,EAEzC;UACMC,KAAK,GAAG,IAAAlB,iBAAK,EAAC,CAAC,CAACkB,KAAK,CAAC,CAAC;UACvBC,IAAI,GAAG,IAAAnB,iBAAK,EAAC,CAAC,CAACmB,IAAI,CAAC,CAAC,EAE3B;UACSC,aAAa,GAAG,CAAC;QAAA;UAAA,MAAEA,aAAa,GAAG,CAAC;YAAAU,QAAA,CAAAE,IAAA;YAAA;UAAA;UAC3C;UACMX,WAAW,GAAGhC,MAAM,CAAC6B,KAAK,GAAGE,aAAa,CAAC;UAC3CE,SAAS,GAAG,IAAAtB,iBAAK,KAAAP,MAAA,CAAI0B,IAAI,EAAA1B,MAAA,CAAG4B,WAAW,OAAI,CAAC;UAC5CE,QAAQ,GAAGxB,MAAM,CAACuB,SAAS,CAACkB,KAAK,CAAC,OAAO,CAAC,CAACC,MAAM,CAAC,IAAI,CAAC,CAAC;UAErDjB,CAAC,GAAG,CAAC;QAAA;UAAA,MAAEA,CAAC,GAAGD,QAAQ;YAAAO,QAAA,CAAAE,IAAA;YAAA;UAAA;UACpBP,MAAM,GAAGD,CAAC,GAAG,CAAC;UACdE,QAAQ,GAAG,IAAA1B,iBAAK,KAAAP,MAAA,CAAI0B,IAAI,EAAA1B,MAAA,CAAG4B,WAAW,EAAA5B,MAAA,CAAGJ,MAAM,CAACoC,MAAM,CAAC,CAAE,CAAC;UAC1DE,SAAS,GAAG5B,MAAM,CAAC2B,QAAQ,CAACe,MAAM,CAAC,GAAG,CAAC,CAAC;UAAAX,QAAA,CAAAY,EAAA,GACtCf,SAAS;UAAAG,QAAA,CAAAE,IAAA,GAAAF,QAAA,CAAAY,EAAA,KACV,CAAC,QAAAZ,QAAA,CAAAY,EAAA,KAiBD,CAAC,QAAAZ,QAAA,CAAAY,EAAA,KAiBD,CAAC,QAAAZ,QAAA,CAAAY,EAAA,KAiBD,CAAC,QAAAZ,QAAA,CAAAY,EAAA,KAiBD,CAAC;UAAA;QAAA;UAnEJ;UACAzB,eAAe,CAAC0B,IAAI,CAClBjD,eAAe,CACb,SAAS,EACTgC,QAAQ,CAACkB,KAAK,CAAC,CAAC,CAACC,GAAG,CAAC,EAAE,EAAE,OAAO,CAAC,EACjChD,wBACF,CACF,CAAC;UACDoB,eAAe,CAAC0B,IAAI,CAClBjD,eAAe,CACb,QAAQ,EACRgC,QAAQ,CAACkB,KAAK,CAAC,CAAC,CAACC,GAAG,CAAC,EAAE,EAAE,OAAO,CAAC,EACjChD,wBACF,CACF,CAAC;UAAC,OAAAiC,QAAA,CAAAgB,MAAA;QAAA;UAGF;UACA7B,eAAe,CAAC0B,IAAI,CAClBjD,eAAe,CACb,OAAO,EACPgC,QAAQ,CAACkB,KAAK,CAAC,CAAC,CAACC,GAAG,CAAC,EAAE,EAAE,OAAO,CAAC,EACjChD,wBACF,CACF,CAAC;UACDoB,eAAe,CAAC0B,IAAI,CAClBjD,eAAe,CACb,SAAS,EACTgC,QAAQ,CAACkB,KAAK,CAAC,CAAC,CAACC,GAAG,CAAC,EAAE,EAAE,OAAO,CAAC,EACjChD,wBACF,CACF,CAAC;UAAC,OAAAiC,QAAA,CAAAgB,MAAA;QAAA;UAGF;UACA7B,eAAe,CAAC0B,IAAI,CAClBjD,eAAe,CACb,QAAQ,EACRgC,QAAQ,CAACkB,KAAK,CAAC,CAAC,CAACC,GAAG,CAAC,EAAE,EAAE,OAAO,CAAC,EACjChD,wBACF,CACF,CAAC;UACDoB,eAAe,CAAC0B,IAAI,CAClBjD,eAAe,CACb,OAAO,EACPgC,QAAQ,CAACkB,KAAK,CAAC,CAAC,CAACC,GAAG,CAAC,EAAE,EAAE,OAAO,CAAC,EACjChD,wBACF,CACF,CAAC;UAAC,OAAAiC,QAAA,CAAAgB,MAAA;QAAA;UAGF;UACA7B,eAAe,CAAC0B,IAAI,CAClBjD,eAAe,CACb,OAAO,EACPgC,QAAQ,CAACkB,KAAK,CAAC,CAAC,CAACC,GAAG,CAAC,CAAC,EAAE,OAAO,CAAC,EAChChD,wBACF,CACF,CAAC;UACDoB,eAAe,CAAC0B,IAAI,CAClBjD,eAAe,CACb,OAAO,EACPgC,QAAQ,CAACkB,KAAK,CAAC,CAAC,CAACC,GAAG,CAAC,EAAE,EAAE,OAAO,CAAC,EACjChD,wBACF,CACF,CAAC;UAAC,OAAAiC,QAAA,CAAAgB,MAAA;QAAA;UAGF;UACA7B,eAAe,CAAC0B,IAAI,CAClBjD,eAAe,CACb,SAAS,EACTgC,QAAQ,CAACkB,KAAK,CAAC,CAAC,CAACC,GAAG,CAAC,EAAE,EAAE,OAAO,CAAC,EACjChD,wBACF,CACF,CAAC;UACDoB,eAAe,CAAC0B,IAAI,CAClBjD,eAAe,CACb,SAAS,EACTgC,QAAQ,CAACkB,KAAK,CAAC,CAAC,CAACC,GAAG,CAAC,EAAE,EAAE,OAAO,CAAC,EACjChD,wBACF,CACF,CAAC;UAAC,OAAAiC,QAAA,CAAAgB,MAAA;QAAA;UAAA,OAAAhB,QAAA,CAAAgB,MAAA;QAAA;UAxFsBtB,CAAC,EAAE;UAAAM,QAAA,CAAAE,IAAA;UAAA;QAAA;UANYZ,aAAa,EAAE;UAAAU,QAAA,CAAAE,IAAA;UAAA;QAAA;UAAAF,QAAA,CAAAE,IAAA;UAAA,OAqGxDG,YAAE,CAACY,iBAAiB,CAAC9B,eAAe,CAAC;QAAA;QAAA;UAAA,OAAAa,QAAA,CAAAkB,IAAA;MAAA;IAAA,GAAAjC,OAAA;EAAA,CAC5C;EAAA,OAAAN,mBAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA"}},"mtime":1679227220376},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\db-func\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"filename\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\db-func\\\\index.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.filenames = exports[\"default\"] = void 0;\nexports.getAppointments = getAppointments;\nexports.getAppointmentsByMonthYear = getAppointmentsByMonthYear;\nexports.getStaff = getStaff;\nexports.getTreatments = getTreatments;\nexports.getUserById = getUserById;\nexports.getUsers = getUsers;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _dayjs = _interopRequireDefault(require(\"dayjs\"));\nvar _fastJsonPatch = _interopRequireDefault(require(\"fast-json-patch\"));\nvar _fs = require(\"fs\");\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; } // NOTE: in production this would connect to a database,\n// not JSON files. However, I didn't want to make you install\n// a particular database in order to use this app.\n//\n// This \"database\" is horribly inefficient and will be a problem\n// when Lazy Days Spa opens to hundreds of locations globally.\nvar dbPath = 'db';\nvar filenames = /*#__PURE__*/function (filenames) {\n  filenames[\"users\"] = \"users.json\";\n  filenames[\"appointments\"] = \"appointments.json\";\n  filenames[\"treatments\"] = \"treatments.json\";\n  filenames[\"staff\"] = \"staff.json\";\n  return filenames;\n}({});\n/* ****** Read from file ***** */\nexports.filenames = filenames;\nfunction getJSONfromFile(_x) {\n  return _getJSONfromFile.apply(this, arguments);\n}\n/* ****** Write to file ***** */\nfunction _getJSONfromFile() {\n  _getJSONfromFile = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(filename) {\n    var filePath, data;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          filePath = _path[\"default\"].join(dbPath, filename);\n          _context.next = 3;\n          return _fs.promises.readFile(filePath);\n        case 3:\n          data = _context.sent;\n          return _context.abrupt(\"return\", JSON.parse(data.toString()));\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _getJSONfromFile.apply(this, arguments);\n}\nfunction writeJSONToFile(_x2, _x3) {\n  return _writeJSONToFile.apply(this, arguments);\n}\n/* ****** Delete item ***** */\nfunction _writeJSONToFile() {\n  _writeJSONToFile = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(filename, data) {\n    var filePath, jsonData;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          filePath = _path[\"default\"].join(dbPath, filename);\n          jsonData = JSON.stringify(data);\n          _context2.next = 4;\n          return _fs.promises.writeFile(filePath, jsonData, {\n            flag: 'w'\n          });\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return _writeJSONToFile.apply(this, arguments);\n}\nfunction deleteItem(_x4, _x5) {\n  return _deleteItem.apply(this, arguments);\n}\n/* ****** Update item ***** */\nfunction _deleteItem() {\n  _deleteItem = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(filename, itemId) {\n    var items, foundItemArray, updatedItems;\n    return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return getJSONfromFile(filename);\n        case 3:\n          items = _context3.sent;\n          foundItemArray = items.filter(function (i) {\n            return i.id === itemId;\n          });\n          if (!(foundItemArray.length !== 1)) {\n            _context3.next = 7;\n            break;\n          }\n          throw new Error(\"Could not find item id \".concat(itemId, \" in \").concat(filename));\n        case 7:\n          updatedItems = items.filter(function (i) {\n            return i.id !== itemId;\n          });\n          _context3.next = 10;\n          return writeJSONToFile(filename, updatedItems);\n        case 10:\n          return _context3.abrupt(\"return\", itemId);\n        case 13:\n          _context3.prev = 13;\n          _context3.t0 = _context3[\"catch\"](0);\n          throw new Error(\"Could not delete item id \".concat(itemId, \" from \").concat(filename, \": \").concat(_context3.t0));\n        case 16:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 13]]);\n  }));\n  return _deleteItem.apply(this, arguments);\n}\nvar applyPatch = _fastJsonPatch[\"default\"].applyPatch;\n// eslint-disable-next-line max-lines-per-function\nfunction updateItem(_x6, _x7, _x8) {\n  return _updateItem.apply(this, arguments);\n}\nfunction _updateItem() {\n  _updateItem = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(itemId, filename,\n  // should be fast-json-patch Operation, but I can't destructure on import\n  itemPatch) {\n    var items, foundItems, updatedData;\n    return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _context4.next = 3;\n          return getJSONfromFile(filename);\n        case 3:\n          items = _context4.sent;\n          // find the item\n          foundItems = items.filter(function (item) {\n            return item.id === itemId;\n          });\n          if (!(foundItems.length !== 1)) {\n            _context4.next = 7;\n            break;\n          }\n          throw new Error(\"Could not find item with id \".concat(itemId));\n        case 7:\n          // apply the patch\n          updatedData = applyPatch(foundItems[0], itemPatch).newDocument; // write the new item data. Note: this whole function is horribly inefficient and\n          // would be much improved with a real db.\n          items.forEach(function (item, i) {\n            if (item.id === itemId) {\n              items[i] = updatedData;\n            }\n          });\n          _context4.next = 11;\n          return writeJSONToFile(filename, items);\n        case 11:\n          return _context4.abrupt(\"return\", updatedData);\n        case 14:\n          _context4.prev = 14;\n          _context4.t0 = _context4[\"catch\"](0);\n          throw new Error(\"Could not delete item id \".concat(itemId, \" from \").concat(filename, \": \").concat(_context4.t0));\n        case 17:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 14]]);\n  }));\n  return _updateItem.apply(this, arguments);\n}\nfunction getAppointments() {\n  return _getAppointments.apply(this, arguments);\n}\nfunction _getAppointments() {\n  _getAppointments = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5() {\n    return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          return _context5.abrupt(\"return\", getJSONfromFile(filenames.appointments));\n        case 1:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return _getAppointments.apply(this, arguments);\n}\nfunction getAppointmentsByMonthYear(_x9, _x10) {\n  return _getAppointmentsByMonthYear.apply(this, arguments);\n}\nfunction _getAppointmentsByMonthYear() {\n  _getAppointmentsByMonthYear = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(month, year) {\n    var appointmentDateMap, allAppointments;\n    return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          // yet another place where inefficiency is ridiculous compared to a real db\n          appointmentDateMap = {};\n          _context6.next = 3;\n          return getAppointments();\n        case 3:\n          allAppointments = _context6.sent;\n          // filter data and massage into format expected by client\n          allAppointments.forEach(function (appointment) {\n            var appointmentDate = (0, _dayjs[\"default\"])(appointment.dateTime);\n            if (\n            // zero-indexed month\n            appointmentDate.month() + 1 === Number(month) && appointmentDate.year() === Number(year)) {\n              var dayNum = (0, _dayjs[\"default\"])(appointment.dateTime).date();\n              if (appointmentDateMap[dayNum]) {\n                appointmentDateMap[dayNum].push(appointment);\n              } else {\n                appointmentDateMap[dayNum] = [appointment];\n              }\n            }\n          });\n          return _context6.abrupt(\"return\", appointmentDateMap);\n        case 6:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return _getAppointmentsByMonthYear.apply(this, arguments);\n}\nfunction getTreatments() {\n  return _getTreatments.apply(this, arguments);\n}\nfunction _getTreatments() {\n  _getTreatments = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee7() {\n    return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          return _context7.abrupt(\"return\", getJSONfromFile(filenames.treatments));\n        case 1:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7);\n  }));\n  return _getTreatments.apply(this, arguments);\n}\nfunction getStaff() {\n  return _getStaff.apply(this, arguments);\n}\nfunction _getStaff() {\n  _getStaff = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee8() {\n    return _regenerator[\"default\"].wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          return _context8.abrupt(\"return\", getJSONfromFile(filenames.staff));\n        case 1:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8);\n  }));\n  return _getStaff.apply(this, arguments);\n}\nfunction getUsers() {\n  return getJSONfromFile(filenames.users);\n}\nfunction getUserById(_x11) {\n  return _getUserById.apply(this, arguments);\n}\n/* ****** Add new user ***** */\nfunction _getUserById() {\n  _getUserById = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee9(userId) {\n    var users, userData;\n    return _regenerator[\"default\"].wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.next = 2;\n          return getUsers();\n        case 2:\n          users = _context9.sent;\n          userData = users.filter(function (u) {\n            return u.id === userId;\n          });\n          if (!(userData.length < 1)) {\n            _context9.next = 6;\n            break;\n          }\n          throw new Error('user not found');\n        case 6:\n          if (!(userData.length < 1)) {\n            _context9.next = 8;\n            break;\n          }\n          throw new Error('duplicate user found');\n        case 8:\n          return _context9.abrupt(\"return\", userData[0]);\n        case 9:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9);\n  }));\n  return _getUserById.apply(this, arguments);\n}\nfunction addUser(_x12) {\n  return _addUser.apply(this, arguments);\n}\n/* ****** Add new appoinment ***** */\nfunction _addUser() {\n  _addUser = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee10(newUserData) {\n    var users, ids, maxId, newUserId, newUser;\n    return _regenerator[\"default\"].wrap(function _callee10$(_context10) {\n      while (1) switch (_context10.prev = _context10.next) {\n        case 0:\n          _context10.next = 2;\n          return getUsers();\n        case 2:\n          users = _context10.sent;\n          // get the max id from the existing ids\n          ids = Object.values(users).map(function (u) {\n            return u.id;\n          });\n          maxId = ids.reduce(function (tempMaxId, itemId) {\n            return itemId > tempMaxId ? itemId : tempMaxId;\n          }, 0); // the new user will have an id of the max id plus 1\n          newUserId = maxId + 1;\n          newUser = _objectSpread(_objectSpread({}, newUserData), {}, {\n            id: newUserId\n          });\n          _context10.next = 9;\n          return writeJSONToFile(filenames.users, [].concat((0, _toConsumableArray2[\"default\"])(users), [newUser]));\n        case 9:\n          return _context10.abrupt(\"return\", newUser);\n        case 10:\n        case \"end\":\n          return _context10.stop();\n      }\n    }, _callee10);\n  }));\n  return _addUser.apply(this, arguments);\n}\nfunction writeAppointments(_x13) {\n  return _writeAppointments.apply(this, arguments);\n}\nfunction _writeAppointments() {\n  _writeAppointments = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee11(newAppointmentsArray) {\n    return _regenerator[\"default\"].wrap(function _callee11$(_context11) {\n      while (1) switch (_context11.prev = _context11.next) {\n        case 0:\n          _context11.next = 2;\n          return writeJSONToFile(filenames.appointments, newAppointmentsArray);\n        case 2:\n        case \"end\":\n          return _context11.stop();\n      }\n    }, _callee11);\n  }));\n  return _writeAppointments.apply(this, arguments);\n}\nvar _default = {\n  filenames: filenames,\n  writeAppointments: writeAppointments,\n  addUser: addUser,\n  deleteItem: deleteItem,\n  updateItem: updateItem,\n  getUsers: getUsers,\n  getUserById: getUserById,\n  getAppointments: getAppointments,\n  getAppointmentsByMonthYear: getAppointmentsByMonthYear,\n  getStaff: getStaff,\n  getTreatments: getTreatments\n};\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGF5anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9mYXN0SnNvblBhdGNoIiwiX2ZzIiwiX3BhdGgiLCJvd25LZXlzIiwib2JqZWN0IiwiZW51bWVyYWJsZU9ubHkiLCJrZXlzIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9scyIsImZpbHRlciIsInN5bSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwidGFyZ2V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNvdXJjZSIsImZvckVhY2giLCJrZXkiLCJfZGVmaW5lUHJvcGVydHkyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJkZWZpbmVQcm9wZXJ0eSIsImRiUGF0aCIsImZpbGVuYW1lcyIsImV4cG9ydHMiLCJnZXRKU09OZnJvbUZpbGUiLCJfeCIsIl9nZXRKU09OZnJvbUZpbGUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsImZpbGVuYW1lIiwiZmlsZVBhdGgiLCJkYXRhIiwid3JhcCIsIl9jYWxsZWUkIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsInBhdGgiLCJqb2luIiwiZnMiLCJyZWFkRmlsZSIsInNlbnQiLCJhYnJ1cHQiLCJKU09OIiwicGFyc2UiLCJ0b1N0cmluZyIsInN0b3AiLCJ3cml0ZUpTT05Ub0ZpbGUiLCJfeDIiLCJfeDMiLCJfd3JpdGVKU09OVG9GaWxlIiwiX2NhbGxlZTIiLCJqc29uRGF0YSIsIl9jYWxsZWUyJCIsIl9jb250ZXh0MiIsInN0cmluZ2lmeSIsIndyaXRlRmlsZSIsImZsYWciLCJkZWxldGVJdGVtIiwiX3g0IiwiX3g1IiwiX2RlbGV0ZUl0ZW0iLCJfY2FsbGVlMyIsIml0ZW1JZCIsIml0ZW1zIiwiZm91bmRJdGVtQXJyYXkiLCJ1cGRhdGVkSXRlbXMiLCJfY2FsbGVlMyQiLCJfY29udGV4dDMiLCJpZCIsIkVycm9yIiwiY29uY2F0IiwidDAiLCJhcHBseVBhdGNoIiwianNvblBhdGNoIiwidXBkYXRlSXRlbSIsIl94NiIsIl94NyIsIl94OCIsIl91cGRhdGVJdGVtIiwiX2NhbGxlZTQiLCJpdGVtUGF0Y2giLCJmb3VuZEl0ZW1zIiwidXBkYXRlZERhdGEiLCJfY2FsbGVlNCQiLCJfY29udGV4dDQiLCJpdGVtIiwibmV3RG9jdW1lbnQiLCJnZXRBcHBvaW50bWVudHMiLCJfZ2V0QXBwb2ludG1lbnRzIiwiX2NhbGxlZTUiLCJfY2FsbGVlNSQiLCJfY29udGV4dDUiLCJhcHBvaW50bWVudHMiLCJnZXRBcHBvaW50bWVudHNCeU1vbnRoWWVhciIsIl94OSIsIl94MTAiLCJfZ2V0QXBwb2ludG1lbnRzQnlNb250aFllYXIiLCJfY2FsbGVlNiIsIm1vbnRoIiwieWVhciIsImFwcG9pbnRtZW50RGF0ZU1hcCIsImFsbEFwcG9pbnRtZW50cyIsIl9jYWxsZWU2JCIsIl9jb250ZXh0NiIsImFwcG9pbnRtZW50IiwiYXBwb2ludG1lbnREYXRlIiwiZGF5anMiLCJkYXRlVGltZSIsIk51bWJlciIsImRheU51bSIsImRhdGUiLCJnZXRUcmVhdG1lbnRzIiwiX2dldFRyZWF0bWVudHMiLCJfY2FsbGVlNyIsIl9jYWxsZWU3JCIsIl9jb250ZXh0NyIsInRyZWF0bWVudHMiLCJnZXRTdGFmZiIsIl9nZXRTdGFmZiIsIl9jYWxsZWU4IiwiX2NhbGxlZTgkIiwiX2NvbnRleHQ4Iiwic3RhZmYiLCJnZXRVc2VycyIsInVzZXJzIiwiZ2V0VXNlckJ5SWQiLCJfeDExIiwiX2dldFVzZXJCeUlkIiwiX2NhbGxlZTkiLCJ1c2VySWQiLCJ1c2VyRGF0YSIsIl9jYWxsZWU5JCIsIl9jb250ZXh0OSIsInUiLCJhZGRVc2VyIiwiX3gxMiIsIl9hZGRVc2VyIiwiX2NhbGxlZTEwIiwibmV3VXNlckRhdGEiLCJpZHMiLCJtYXhJZCIsIm5ld1VzZXJJZCIsIm5ld1VzZXIiLCJfY2FsbGVlMTAkIiwiX2NvbnRleHQxMCIsInZhbHVlcyIsIm1hcCIsInJlZHVjZSIsInRlbXBNYXhJZCIsIl90b0NvbnN1bWFibGVBcnJheTIiLCJ3cml0ZUFwcG9pbnRtZW50cyIsIl94MTMiLCJfd3JpdGVBcHBvaW50bWVudHMiLCJfY2FsbGVlMTEiLCJuZXdBcHBvaW50bWVudHNBcnJheSIsIl9jYWxsZWUxMSQiLCJfY29udGV4dDExIiwiX2RlZmF1bHQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xca2FzdGlcXHdvcmtzcGFjZVxcUkVBQ1QtUVVFUllcXGJhc2UtbGF6eS1kYXlzXFxzZXJ2ZXJcXHNyY1xcZGItZnVuY1xcIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBOT1RFOiBpbiBwcm9kdWN0aW9uIHRoaXMgd291bGQgY29ubmVjdCB0byBhIGRhdGFiYXNlLFxyXG4vLyBub3QgSlNPTiBmaWxlcy4gSG93ZXZlciwgSSBkaWRuJ3Qgd2FudCB0byBtYWtlIHlvdSBpbnN0YWxsXHJcbi8vIGEgcGFydGljdWxhciBkYXRhYmFzZSBpbiBvcmRlciB0byB1c2UgdGhpcyBhcHAuXHJcbi8vXHJcbi8vIFRoaXMgXCJkYXRhYmFzZVwiIGlzIGhvcnJpYmx5IGluZWZmaWNpZW50IGFuZCB3aWxsIGJlIGEgcHJvYmxlbVxyXG4vLyB3aGVuIExhenkgRGF5cyBTcGEgb3BlbnMgdG8gaHVuZHJlZHMgb2YgbG9jYXRpb25zIGdsb2JhbGx5LlxyXG5pbXBvcnQgZGF5anMgZnJvbSAnZGF5anMnO1xyXG5pbXBvcnQganNvblBhdGNoLCB7IE9wZXJhdGlvbiB9IGZyb20gJ2Zhc3QtanNvbi1wYXRjaCc7XHJcbmltcG9ydCB7IHByb21pc2VzIGFzIGZzIH0gZnJvbSAnZnMnO1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuXHJcbmltcG9ydCB7XHJcbiAgQXBwb2ludG1lbnQsXHJcbiAgQXBwb2ludG1lbnREYXRlTWFwLFxyXG4gIFN0YWZmLFxyXG4gIFRyZWF0bWVudCxcclxufSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdHlwZXMnO1xyXG5pbXBvcnQgeyBBdXRoVXNlciwgTmV3QXV0aFVzZXIgfSBmcm9tICcuLi9hdXRoJztcclxuXHJcbnR5cGUgSnNvbkRhdGFUeXBlID0gQXV0aFVzZXIgfCBBcHBvaW50bWVudCB8IFRyZWF0bWVudCB8IFN0YWZmO1xyXG5cclxuY29uc3QgZGJQYXRoID0gJ2RiJztcclxuZXhwb3J0IGVudW0gZmlsZW5hbWVzIHtcclxuICB1c2VycyA9ICd1c2Vycy5qc29uJyxcclxuICBhcHBvaW50bWVudHMgPSAnYXBwb2ludG1lbnRzLmpzb24nLFxyXG4gIHRyZWF0bWVudHMgPSAndHJlYXRtZW50cy5qc29uJyxcclxuICBzdGFmZiA9ICdzdGFmZi5qc29uJyxcclxufVxyXG5cclxuLyogKioqKioqIFJlYWQgZnJvbSBmaWxlICoqKioqICovXHJcbmFzeW5jIGZ1bmN0aW9uIGdldEpTT05mcm9tRmlsZTxJdGVtVHlwZSBleHRlbmRzIEpzb25EYXRhVHlwZT4oXHJcbiAgZmlsZW5hbWU6IGZpbGVuYW1lcyxcclxuKTogUHJvbWlzZTxJdGVtVHlwZVtdPiB7XHJcbiAgY29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4oZGJQYXRoLCBmaWxlbmFtZSk7XHJcbiAgY29uc3QgZGF0YSA9IGF3YWl0IGZzLnJlYWRGaWxlKGZpbGVQYXRoKTtcclxuICByZXR1cm4gSlNPTi5wYXJzZShkYXRhLnRvU3RyaW5nKCkpO1xyXG59XHJcblxyXG4vKiAqKioqKiogV3JpdGUgdG8gZmlsZSAqKioqKiAqL1xyXG5hc3luYyBmdW5jdGlvbiB3cml0ZUpTT05Ub0ZpbGU8VCBleHRlbmRzIEpzb25EYXRhVHlwZT4oXHJcbiAgZmlsZW5hbWU6IGZpbGVuYW1lcyxcclxuICBkYXRhOiBBcnJheTxUPixcclxuKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgY29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4oZGJQYXRoLCBmaWxlbmFtZSk7XHJcbiAgY29uc3QganNvbkRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcclxuICBhd2FpdCBmcy53cml0ZUZpbGUoZmlsZVBhdGgsIGpzb25EYXRhLCB7IGZsYWc6ICd3JyB9KTtcclxufVxyXG5cclxuLyogKioqKioqIERlbGV0ZSBpdGVtICoqKioqICovXHJcbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUl0ZW08VCBleHRlbmRzIEpzb25EYXRhVHlwZT4oXHJcbiAgZmlsZW5hbWU6IGZpbGVuYW1lcyxcclxuICBpdGVtSWQ6IG51bWJlcixcclxuKTogUHJvbWlzZTxudW1iZXI+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgaXRlbXMgPSBhd2FpdCBnZXRKU09OZnJvbUZpbGU8VD4oZmlsZW5hbWUpO1xyXG4gICAgY29uc3QgZm91bmRJdGVtQXJyYXkgPSBpdGVtcy5maWx0ZXIoKGkpID0+IGkuaWQgPT09IGl0ZW1JZCk7XHJcbiAgICBpZiAoZm91bmRJdGVtQXJyYXkubGVuZ3RoICE9PSAxKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgaXRlbSBpZCAke2l0ZW1JZH0gaW4gJHtmaWxlbmFtZX1gKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHVwZGF0ZWRJdGVtcyA9IGl0ZW1zLmZpbHRlcigoaSkgPT4gaS5pZCAhPT0gaXRlbUlkKTtcclxuICAgIGF3YWl0IHdyaXRlSlNPTlRvRmlsZShmaWxlbmFtZSwgdXBkYXRlZEl0ZW1zKTtcclxuICAgIHJldHVybiBpdGVtSWQ7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICBgQ291bGQgbm90IGRlbGV0ZSBpdGVtIGlkICR7aXRlbUlkfSBmcm9tICR7ZmlsZW5hbWV9OiAke2V9YCxcclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG4vKiAqKioqKiogVXBkYXRlIGl0ZW0gKioqKiogKi9cclxuY29uc3QgeyBhcHBseVBhdGNoIH0gPSBqc29uUGF0Y2g7XHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGluZXMtcGVyLWZ1bmN0aW9uXHJcbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUl0ZW08RGF0YVR5cGUgZXh0ZW5kcyBKc29uRGF0YVR5cGU+KFxyXG4gIGl0ZW1JZDogbnVtYmVyLFxyXG4gIGZpbGVuYW1lOiBmaWxlbmFtZXMsXHJcbiAgLy8gc2hvdWxkIGJlIGZhc3QtanNvbi1wYXRjaCBPcGVyYXRpb24sIGJ1dCBJIGNhbid0IGRlc3RydWN0dXJlIG9uIGltcG9ydFxyXG4gIGl0ZW1QYXRjaDogT3BlcmF0aW9uW10sXHJcbik6IFByb21pc2U8RGF0YVR5cGU+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgaXRlbXMgPSBhd2FpdCBnZXRKU09OZnJvbUZpbGU8RGF0YVR5cGU+KGZpbGVuYW1lKTtcclxuXHJcbiAgICAvLyBmaW5kIHRoZSBpdGVtXHJcbiAgICBjb25zdCBmb3VuZEl0ZW1zID0gaXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkID09PSBpdGVtSWQpO1xyXG4gICAgaWYgKGZvdW5kSXRlbXMubGVuZ3RoICE9PSAxKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgaXRlbSB3aXRoIGlkICR7aXRlbUlkfWApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGFwcGx5IHRoZSBwYXRjaFxyXG4gICAgY29uc3QgdXBkYXRlZERhdGEgPSBhcHBseVBhdGNoKGZvdW5kSXRlbXNbMF0sIGl0ZW1QYXRjaCkubmV3RG9jdW1lbnQ7XHJcblxyXG4gICAgLy8gd3JpdGUgdGhlIG5ldyBpdGVtIGRhdGEuIE5vdGU6IHRoaXMgd2hvbGUgZnVuY3Rpb24gaXMgaG9ycmlibHkgaW5lZmZpY2llbnQgYW5kXHJcbiAgICAvLyB3b3VsZCBiZSBtdWNoIGltcHJvdmVkIHdpdGggYSByZWFsIGRiLlxyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSwgaSkgPT4ge1xyXG4gICAgICBpZiAoaXRlbS5pZCA9PT0gaXRlbUlkKSB7XHJcbiAgICAgICAgaXRlbXNbaV0gPSB1cGRhdGVkRGF0YTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgYXdhaXQgd3JpdGVKU09OVG9GaWxlKGZpbGVuYW1lLCBpdGVtcyk7XHJcbiAgICByZXR1cm4gdXBkYXRlZERhdGE7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICBgQ291bGQgbm90IGRlbGV0ZSBpdGVtIGlkICR7aXRlbUlkfSBmcm9tICR7ZmlsZW5hbWV9OiAke2V9YCxcclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXBwb2ludG1lbnRzKCk6IFByb21pc2U8QXBwb2ludG1lbnRbXT4ge1xyXG4gIHJldHVybiBnZXRKU09OZnJvbUZpbGU8QXBwb2ludG1lbnQ+KGZpbGVuYW1lcy5hcHBvaW50bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXBwb2ludG1lbnRzQnlNb250aFllYXIoXHJcbiAgbW9udGg6IHN0cmluZyxcclxuICB5ZWFyOiBzdHJpbmcsXHJcbik6IFByb21pc2U8QXBwb2ludG1lbnREYXRlTWFwPiB7XHJcbiAgLy8geWV0IGFub3RoZXIgcGxhY2Ugd2hlcmUgaW5lZmZpY2llbmN5IGlzIHJpZGljdWxvdXMgY29tcGFyZWQgdG8gYSByZWFsIGRiXHJcbiAgY29uc3QgYXBwb2ludG1lbnREYXRlTWFwOiBBcHBvaW50bWVudERhdGVNYXAgPSB7fTtcclxuICBjb25zdCBhbGxBcHBvaW50bWVudHMgPSBhd2FpdCBnZXRBcHBvaW50bWVudHMoKTtcclxuXHJcbiAgLy8gZmlsdGVyIGRhdGEgYW5kIG1hc3NhZ2UgaW50byBmb3JtYXQgZXhwZWN0ZWQgYnkgY2xpZW50XHJcbiAgYWxsQXBwb2ludG1lbnRzLmZvckVhY2goKGFwcG9pbnRtZW50KSA9PiB7XHJcbiAgICBjb25zdCBhcHBvaW50bWVudERhdGUgPSBkYXlqcyhhcHBvaW50bWVudC5kYXRlVGltZSk7XHJcbiAgICBpZiAoXHJcbiAgICAgIC8vIHplcm8taW5kZXhlZCBtb250aFxyXG4gICAgICBhcHBvaW50bWVudERhdGUubW9udGgoKSArIDEgPT09IE51bWJlcihtb250aCkgJiZcclxuICAgICAgYXBwb2ludG1lbnREYXRlLnllYXIoKSA9PT0gTnVtYmVyKHllYXIpXHJcbiAgICApIHtcclxuICAgICAgY29uc3QgZGF5TnVtID0gZGF5anMoYXBwb2ludG1lbnQuZGF0ZVRpbWUpLmRhdGUoKTtcclxuICAgICAgaWYgKGFwcG9pbnRtZW50RGF0ZU1hcFtkYXlOdW1dKSB7XHJcbiAgICAgICAgYXBwb2ludG1lbnREYXRlTWFwW2RheU51bV0ucHVzaChhcHBvaW50bWVudCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBwb2ludG1lbnREYXRlTWFwW2RheU51bV0gPSBbYXBwb2ludG1lbnRdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgcmV0dXJuIGFwcG9pbnRtZW50RGF0ZU1hcDtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFRyZWF0bWVudHMoKTogUHJvbWlzZTxUcmVhdG1lbnRbXT4ge1xyXG4gIHJldHVybiBnZXRKU09OZnJvbUZpbGU8VHJlYXRtZW50PihmaWxlbmFtZXMudHJlYXRtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTdGFmZigpOiBQcm9taXNlPFN0YWZmW10+IHtcclxuICByZXR1cm4gZ2V0SlNPTmZyb21GaWxlPFN0YWZmPihmaWxlbmFtZXMuc3RhZmYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlcnMoKTogUHJvbWlzZTxBdXRoVXNlcltdPiB7XHJcbiAgcmV0dXJuIGdldEpTT05mcm9tRmlsZTxBdXRoVXNlcj4oZmlsZW5hbWVzLnVzZXJzKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJCeUlkKHVzZXJJZDogbnVtYmVyKTogUHJvbWlzZTxBdXRoVXNlcj4ge1xyXG4gIGNvbnN0IHVzZXJzID0gYXdhaXQgZ2V0VXNlcnMoKTtcclxuICBjb25zdCB1c2VyRGF0YSA9IHVzZXJzLmZpbHRlcigodSkgPT4gdS5pZCA9PT0gdXNlcklkKTtcclxuICBpZiAodXNlckRhdGEubGVuZ3RoIDwgMSkgdGhyb3cgbmV3IEVycm9yKCd1c2VyIG5vdCBmb3VuZCcpO1xyXG4gIGlmICh1c2VyRGF0YS5sZW5ndGggPCAxKSB0aHJvdyBuZXcgRXJyb3IoJ2R1cGxpY2F0ZSB1c2VyIGZvdW5kJyk7XHJcbiAgcmV0dXJuIHVzZXJEYXRhWzBdO1xyXG59XHJcblxyXG4vKiAqKioqKiogQWRkIG5ldyB1c2VyICoqKioqICovXHJcbmFzeW5jIGZ1bmN0aW9uIGFkZFVzZXIobmV3VXNlckRhdGE6IE5ld0F1dGhVc2VyKTogUHJvbWlzZTxBdXRoVXNlcj4ge1xyXG4gIGNvbnN0IHVzZXJzID0gYXdhaXQgZ2V0VXNlcnMoKTtcclxuXHJcbiAgLy8gZ2V0IHRoZSBtYXggaWQgZnJvbSB0aGUgZXhpc3RpbmcgaWRzXHJcbiAgY29uc3QgaWRzOiBudW1iZXJbXSA9IE9iamVjdC52YWx1ZXModXNlcnMpLm1hcCgodSkgPT4gdS5pZCk7XHJcbiAgY29uc3QgbWF4SWQgPSBpZHMucmVkdWNlKCh0ZW1wTWF4SWQ6IG51bWJlciwgaXRlbUlkOiBudW1iZXIpID0+IHtcclxuICAgIHJldHVybiBpdGVtSWQgPiB0ZW1wTWF4SWQgPyBpdGVtSWQgOiB0ZW1wTWF4SWQ7XHJcbiAgfSwgMCk7XHJcblxyXG4gIC8vIHRoZSBuZXcgdXNlciB3aWxsIGhhdmUgYW4gaWQgb2YgdGhlIG1heCBpZCBwbHVzIDFcclxuICBjb25zdCBuZXdVc2VySWQgPSBtYXhJZCArIDE7XHJcblxyXG4gIGNvbnN0IG5ld1VzZXIgPSB7IC4uLm5ld1VzZXJEYXRhLCBpZDogbmV3VXNlcklkIH07XHJcbiAgYXdhaXQgd3JpdGVKU09OVG9GaWxlKGZpbGVuYW1lcy51c2VycywgWy4uLnVzZXJzLCBuZXdVc2VyXSk7XHJcbiAgcmV0dXJuIG5ld1VzZXI7XHJcbn1cclxuXHJcbi8qICoqKioqKiBBZGQgbmV3IGFwcG9pbm1lbnQgKioqKiogKi9cclxuYXN5bmMgZnVuY3Rpb24gd3JpdGVBcHBvaW50bWVudHMoXHJcbiAgbmV3QXBwb2ludG1lbnRzQXJyYXk6IEFwcG9pbnRtZW50W10sXHJcbik6IFByb21pc2U8dm9pZD4ge1xyXG4gIGF3YWl0IHdyaXRlSlNPTlRvRmlsZShmaWxlbmFtZXMuYXBwb2ludG1lbnRzLCBuZXdBcHBvaW50bWVudHNBcnJheSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBmaWxlbmFtZXMsXHJcbiAgd3JpdGVBcHBvaW50bWVudHMsXHJcbiAgYWRkVXNlcixcclxuICBkZWxldGVJdGVtLFxyXG4gIHVwZGF0ZUl0ZW0sXHJcbiAgZ2V0VXNlcnMsXHJcbiAgZ2V0VXNlckJ5SWQsXHJcbiAgZ2V0QXBwb2ludG1lbnRzLFxyXG4gIGdldEFwcG9pbnRtZW50c0J5TW9udGhZZWFyLFxyXG4gIGdldFN0YWZmLFxyXG4gIGdldFRyZWF0bWVudHMsXHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxjQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxLQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBd0IsU0FBQUksUUFBQUMsTUFBQSxFQUFBQyxjQUFBLFFBQUFDLElBQUEsR0FBQUMsTUFBQSxDQUFBRCxJQUFBLENBQUFGLE1BQUEsT0FBQUcsTUFBQSxDQUFBQyxxQkFBQSxRQUFBQyxPQUFBLEdBQUFGLE1BQUEsQ0FBQUMscUJBQUEsQ0FBQUosTUFBQSxHQUFBQyxjQUFBLEtBQUFJLE9BQUEsR0FBQUEsT0FBQSxDQUFBQyxNQUFBLFdBQUFDLEdBQUEsV0FBQUosTUFBQSxDQUFBSyx3QkFBQSxDQUFBUixNQUFBLEVBQUFPLEdBQUEs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","map":{"version":3,"names":["_dayjs","_interopRequireDefault","require","_fastJsonPatch","_fs","_path","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","dbPath","filenames","exports","getJSONfromFile","_x","_getJSONfromFile","_asyncToGenerator2","_regenerator","mark","_callee","filename","filePath","data","wrap","_callee$","_context","prev","next","path","join","fs","readFile","sent","abrupt","JSON","parse","toString","stop","writeJSONToFile","_x2","_x3","_writeJSONToFile","_callee2","jsonData","_callee2$","_context2","stringify","writeFile","flag","deleteItem","_x4","_x5","_deleteItem","_callee3","itemId","items","foundItemArray","updatedItems","_callee3$","_context3","id","Error","concat","t0","applyPatch","jsonPatch","updateItem","_x6","_x7","_x8","_updateItem","_callee4","itemPatch","foundItems","updatedData","_callee4$","_context4","item","newDocument","getAppointments","_getAppointments","_callee5","_callee5$","_context5","appointments","getAppointmentsByMonthYear","_x9","_x10","_getAppointmentsByMonthYear","_callee6","month","year","appointmentDateMap","allAppointments","_callee6$","_context6","appointment","appointmentDate","dayjs","dateTime","Number","dayNum","date","getTreatments","_getTreatments","_callee7","_callee7$","_context7","treatments","getStaff","_getStaff","_callee8","_callee8$","_context8","staff","getUsers","users","getUserById","_x11","_getUserById","_callee9","userId","userData","_callee9$","_context9","u","addUser","_x12","_addUser","_callee10","newUserData","ids","maxId","newUserId","newUser","_callee10$","_context10","values","map","reduce","tempMaxId","_toConsumableArray2","writeAppointments","_x13","_writeAppointments","_callee11","newAppointmentsArray","_callee11$","_context11","_default"],"sourceRoot":"C:\\Users\\kasti\\workspace\\REACT-QUERY\\base-lazy-days\\server\\src\\db-func\\","sources":["index.ts"],"sourcesContent":["// NOTE: in production this would connect to a database,\r\n// not JSON files. However, I didn't want to make you install\r\n// a particular database in order to use this app.\r\n//\r\n// This \"database\" is horribly inefficient and will be a problem\r\n// when Lazy Days Spa opens to hundreds of locations globally.\r\nimport dayjs from 'dayjs';\r\nimport jsonPatch, { Operation } from 'fast-json-patch';\r\nimport { promises as fs } from 'fs';\r\nimport path from 'path';\r\n\r\nimport {\r\n  Appointment,\r\n  AppointmentDateMap,\r\n  Staff,\r\n  Treatment,\r\n} from '../../../shared/types';\r\nimport { AuthUser, NewAuthUser } from '../auth';\r\n\r\ntype JsonDataType = AuthUser | Appointment | Treatment | Staff;\r\n\r\nconst dbPath = 'db';\r\nexport enum filenames {\r\n  users = 'users.json',\r\n  appointments = 'appointments.json',\r\n  treatments = 'treatments.json',\r\n  staff = 'staff.json',\r\n}\r\n\r\n/* ****** Read from file ***** */\r\nasync function getJSONfromFile<ItemType extends JsonDataType>(\r\n  filename: filenames,\r\n): Promise<ItemType[]> {\r\n  const filePath = path.join(dbPath, filename);\r\n  const data = await fs.readFile(filePath);\r\n  return JSON.parse(data.toString());\r\n}\r\n\r\n/* ****** Write to file ***** */\r\nasync function writeJSONToFile<T extends JsonDataType>(\r\n  filename: filenames,\r\n  data: Array<T>,\r\n): Promise<void> {\r\n  const filePath = path.join(dbPath, filename);\r\n  const jsonData = JSON.stringify(data);\r\n  await fs.writeFile(filePath, jsonData, { flag: 'w' });\r\n}\r\n\r\n/* ****** Delete item ***** */\r\nasync function deleteItem<T extends JsonDataType>(\r\n  filename: filenames,\r\n  itemId: number,\r\n): Promise<number> {\r\n  try {\r\n    const items = await getJSONfromFile<T>(filename);\r\n    const foundItemArray = items.filter((i) => i.id === itemId);\r\n    if (foundItemArray.length !== 1) {\r\n      throw new Error(`Could not find item id ${itemId} in ${filename}`);\r\n    }\r\n    const updatedItems = items.filter((i) => i.id !== itemId);\r\n    await writeJSONToFile(filename, updatedItems);\r\n    return itemId;\r\n  } catch (e) {\r\n    throw new Error(\r\n      `Could not delete item id ${itemId} from ${filename}: ${e}`,\r\n    );\r\n  }\r\n}\r\n\r\n/* ****** Update item ***** */\r\nconst { applyPatch } = jsonPatch;\r\n// eslint-disable-next-line max-lines-per-function\r\nasync function updateItem<DataType extends JsonDataType>(\r\n  itemId: number,\r\n  filename: filenames,\r\n  // should be fast-json-patch Operation, but I can't destructure on import\r\n  itemPatch: Operation[],\r\n): Promise<DataType> {\r\n  try {\r\n    const items = await getJSONfromFile<DataType>(filename);\r\n\r\n    // find the item\r\n    const foundItems = items.filter((item) => item.id === itemId);\r\n    if (foundItems.length !== 1) {\r\n      throw new Error(`Could not find item with id ${itemId}`);\r\n    }\r\n\r\n    // apply the patch\r\n    const updatedData = applyPatch(foundItems[0], itemPatch).newDocument;\r\n\r\n    // write the new item data. Note: this whole function is horribly inefficient and\r\n    // would be much improved with a real db.\r\n    items.forEach((item, i) => {\r\n      if (item.id === itemId) {\r\n        items[i] = updatedData;\r\n      }\r\n    });\r\n\r\n    await writeJSONToFile(filename, items);\r\n    return updatedData;\r\n  } catch (e) {\r\n    throw new Error(\r\n      `Could not delete item id ${itemId} from ${filename}: ${e}`,\r\n    );\r\n  }\r\n}\r\n\r\nexport async function getAppointments(): Promise<Appointment[]> {\r\n  return getJSONfromFile<Appointment>(filenames.appointments);\r\n}\r\n\r\nexport async function getAppointmentsByMonthYear(\r\n  month: string,\r\n  year: string,\r\n): Promise<AppointmentDateMap> {\r\n  // yet another place where inefficiency is ridiculous compared to a real db\r\n  const appointmentDateMap: AppointmentDateMap = {};\r\n  const allAppointments = await getAppointments();\r\n\r\n  // filter data and massage into format expected by client\r\n  allAppointments.forEach((appointment) => {\r\n    const appointmentDate = dayjs(appointment.dateTime);\r\n    if (\r\n      // zero-indexed month\r\n      appointmentDate.month() + 1 === Number(month) &&\r\n      appointmentDate.year() === Number(year)\r\n    ) {\r\n      const dayNum = dayjs(appointment.dateTime).date();\r\n      if (appointmentDateMap[dayNum]) {\r\n        appointmentDateMap[dayNum].push(appointment);\r\n      } else {\r\n        appointmentDateMap[dayNum] = [appointment];\r\n      }\r\n    }\r\n  });\r\n  return appointmentDateMap;\r\n}\r\n\r\nexport async function getTreatments(): Promise<Treatment[]> {\r\n  return getJSONfromFile<Treatment>(filenames.treatments);\r\n}\r\n\r\nexport async function getStaff(): Promise<Staff[]> {\r\n  return getJSONfromFile<Staff>(filenames.staff);\r\n}\r\n\r\nexport function getUsers(): Promise<AuthUser[]> {\r\n  return getJSONfromFile<AuthUser>(filenames.users);\r\n}\r\n\r\nexport async function getUserById(userId: number): Promise<AuthUser> {\r\n  const users = await getUsers();\r\n  const userData = users.filter((u) => u.id === userId);\r\n  if (userData.length < 1) throw new Error('user not found');\r\n  if (userData.length < 1) throw new Error('duplicate user found');\r\n  return userData[0];\r\n}\r\n\r\n/* ****** Add new user ***** */\r\nasync function addUser(newUserData: NewAuthUser): Promise<AuthUser> {\r\n  const users = await getUsers();\r\n\r\n  // get the max id from the existing ids\r\n  const ids: number[] = Object.values(users).map((u) => u.id);\r\n  const maxId = ids.reduce((tempMaxId: number, itemId: number) => {\r\n    return itemId > tempMaxId ? itemId : tempMaxId;\r\n  }, 0);\r\n\r\n  // the new user will have an id of the max id plus 1\r\n  const newUserId = maxId + 1;\r\n\r\n  const newUser = { ...newUserData, id: newUserId };\r\n  await writeJSONToFile(filenames.users, [...users, newUser]);\r\n  return newUser;\r\n}\r\n\r\n/* ****** Add new appoinment ***** */\r\nasync function writeAppointments(\r\n  newAppointmentsArray: Appointment[],\r\n): Promise<void> {\r\n  await writeJSONToFile(filenames.appointments, newAppointmentsArray);\r\n}\r\n\r\nexport default {\r\n  filenames,\r\n  writeAppointments,\r\n  addUser,\r\n  deleteItem,\r\n  updateItem,\r\n  getUsers,\r\n  getUserById,\r\n  getAppointments,\r\n  getAppointmentsByMonthYear,\r\n  getStaff,\r\n  getTreatments,\r\n};\r\n"],"mappings":"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"}},"mtime":1679227220377},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"filename\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\middlewares\\\\index.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateUser = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _dbFunc = _interopRequireDefault(require(\"../db-func\"));\n// middleware for validating user\n// eslint-disable-next-line consistent-return\nvar validateUser = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res, next) {\n    var _req$auth, requestedId;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          // check that the token matches the id url param (decoded token resides in req.user)\n          requestedId = Number(req.params.id);\n          if (!(((_req$auth = req.auth) === null || _req$auth === void 0 ? void 0 : _req$auth.id) !== requestedId)) {\n            _context.next = 6;\n            break;\n          }\n          res.status(401).send();\n          _context.next = 9;\n          break;\n        case 6:\n          _context.next = 8;\n          return _dbFunc[\"default\"].getUserById(requestedId);\n        case 8:\n          next();\n        case 9:\n          _context.next = 14;\n          break;\n        case 11:\n          _context.prev = 11;\n          _context.t0 = _context[\"catch\"](0);\n          next(_context.t0);\n        case 14:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 11]]);\n  }));\n  return function validateUser(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexports.validateUser = validateUser;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGJGdW5jIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJ2YWxpZGF0ZVVzZXIiLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJyZXEiLCJyZXMiLCJuZXh0IiwiX3JlcSRhdXRoIiwicmVxdWVzdGVkSWQiLCJ3cmFwIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInByZXYiLCJOdW1iZXIiLCJwYXJhbXMiLCJpZCIsImF1dGgiLCJzdGF0dXMiLCJzZW5kIiwiZGIiLCJnZXRVc2VyQnlJZCIsInQwIiwic3RvcCIsIl94IiwiX3gyIiwiX3gzIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGthc3RpXFx3b3Jrc3BhY2VcXFJFQUNULVFVRVJZXFxiYXNlLWxhenktZGF5c1xcc2VydmVyXFxzcmNcXG1pZGRsZXdhcmVzXFwiLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRGdW5jdGlvbiwgUmVxdWVzdCwgUmVxdWVzdEhhbmRsZXIgfSBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IHsgUGFyYW1zRGljdGlvbmFyeSB9IGZyb20gJ2V4cHJlc3Mtc2VydmUtc3RhdGljLWNvcmUnO1xyXG5pbXBvcnQgeyBPcGVyYXRpb24gfSBmcm9tICdmYXN0LWpzb24tcGF0Y2gnO1xyXG5cclxuaW1wb3J0IGRiIGZyb20gJy4uL2RiLWZ1bmMnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBpZFBhcmFtc0ludGVyZmFjZSBleHRlbmRzIFBhcmFtc0RpY3Rpb25hcnkge1xyXG4gIGlkOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VXaXRoTWVzc2FnZSB7XHJcbiAgbWVzc2FnZTogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBhdGNoUmVxdWVzdCBleHRlbmRzIFJlcXVlc3Qge1xyXG4gIHBhdGNoPzogT3BlcmF0aW9uW107XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIEF1dGhSZXF1ZXN0ID0gUmVxdWVzdDxcclxuICBpZFBhcmFtc0ludGVyZmFjZSxcclxuICBSZXNwb25zZVdpdGhNZXNzYWdlLFxyXG4gIFBhdGNoUmVxdWVzdCxcclxuICBxcy5QYXJzZWRRcyxcclxuICBOZXh0RnVuY3Rpb25cclxuPjtcclxuXHJcbi8vIG1pZGRsZXdhcmUgZm9yIHZhbGlkYXRpbmcgdXNlclxyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlVXNlcjogUmVxdWVzdEhhbmRsZXI8XHJcbiAgaWRQYXJhbXNJbnRlcmZhY2UsXHJcbiAgUmVzcG9uc2VXaXRoTWVzc2FnZSxcclxuICBQYXRjaFJlcXVlc3QsXHJcbiAgcXMuUGFyc2VkUXMsXHJcbiAgTmV4dEZ1bmN0aW9uXHJcbj4gPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICB0cnkge1xyXG4gICAgLy8gY2hlY2sgdGhhdCB0aGUgdG9rZW4gbWF0Y2hlcyB0aGUgaWQgdXJsIHBhcmFtIChkZWNvZGVkIHRva2VuIHJlc2lkZXMgaW4gcmVxLnVzZXIpXHJcbiAgICBjb25zdCByZXF1ZXN0ZWRJZCA9IE51bWJlcihyZXEucGFyYW1zLmlkKTtcclxuICAgIGlmIChyZXEuYXV0aD8uaWQgIT09IHJlcXVlc3RlZElkKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBmaW5kIHRoZSB1c2VyOyB3aWxsIHRocm93IGVycm9yIGlmIHVzZXIgZG9lc24ndCBleGlzdFxyXG4gICAgICBhd2FpdCBkYi5nZXRVc2VyQnlJZChyZXF1ZXN0ZWRJZCk7XHJcbiAgICAgIG5leHQoKTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgbmV4dChlcnJvcik7XHJcbiAgfVxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUlBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQXNCQTtBQUNBO0FBQ08sSUFBTUMsWUFNWjtFQUFBLElBQUFDLElBQUEsT0FBQUMsa0JBQUEsMkJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFHLFNBQUFDLFFBQU9DLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJO0lBQUEsSUFBQUMsU0FBQSxFQUFBQyxXQUFBO0lBQUEsT0FBQVAsWUFBQSxZQUFBUSxJQUFBLFVBQUFDLFNBQUFDLFFBQUE7TUFBQSxrQkFBQUEsUUFBQSxDQUFBQyxJQUFBLEdBQUFELFFBQUEsQ0FBQUwsSUFBQTtRQUFBO1VBQUFLLFFBQUEsQ0FBQUMsSUFBQTtVQUVyQjtVQUNNSixXQUFXLEdBQUdLLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDVSxNQUFNLENBQUNDLEVBQUUsQ0FBQztVQUFBLE1BQ3JDLEVBQUFSLFNBQUEsR0FBQUgsR0FBRyxDQUFDWSxJQUFJLGNBQUFULFNBQUEsdUJBQVJBLFNBQUEsQ0FBVVEsRUFBRSxNQUFLUCxXQUFXO1lBQUFHLFFBQUEsQ0FBQUwsSUFBQTtZQUFBO1VBQUE7VUFDOUJELEdBQUcsQ0FBQ1ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUMsQ0FBQztVQUFDUCxRQUFBLENBQUFMLElBQUE7VUFBQTtRQUFBO1VBQUFLLFFBQUEsQ0FBQUwsSUFBQTtVQUFBLE9BR2pCYSxrQkFBRSxDQUFDQyxXQUFXLENBQUNaLFdBQVcsQ0FBQztRQUFBO1VBQ2pDRixJQUFJLENBQUMsQ0FBQztRQUFDO1VBQUFLLFFBQUEsQ0FBQUwsSUFBQTtVQUFBO1FBQUE7VUFBQUssUUFBQSxDQUFBQyxJQUFBO1VBQUFELFFBQUEsQ0FBQVUsRUFBQSxHQUFBVixRQUFBO1VBR1RMLElBQUksQ0FBQUssUUFBQSxDQUFBVSxFQUFNLENBQUM7UUFBQztRQUFBO1VBQUEsT0FBQVYsUUFBQSxDQUFBVyxJQUFBO01BQUE7SUFBQSxHQUFBbkIsT0FBQTtFQUFBLENBRWY7RUFBQSxnQkFwQllMLFlBTVpBLENBQUF5QixFQUFBLEVBQUFDLEdBQUEsRUFBQUMsR0FBQTtJQUFBLE9BQUExQixJQUFBLENBQUEyQixLQUFBLE9BQUFDLFNBQUE7RUFBQTtBQUFBLEdBY0E7QUFBQ0MsT0FBQSxDQUFBOUIsWUFBQSxHQUFBQSxZQUFBIn0=","map":{"version":3,"names":["_dbFunc","_interopRequireDefault","require","validateUser","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","next","_req$auth","requestedId","wrap","_callee$","_context","prev","Number","params","id","auth","status","send","db","getUserById","t0","stop","_x","_x2","_x3","apply","arguments","exports"],"sourceRoot":"C:\\Users\\kasti\\workspace\\REACT-QUERY\\base-lazy-days\\server\\src\\middlewares\\","sources":["index.ts"],"sourcesContent":["import { NextFunction, Request, RequestHandler } from 'express';\r\nimport { ParamsDictionary } from 'express-serve-static-core';\r\nimport { Operation } from 'fast-json-patch';\r\n\r\nimport db from '../db-func';\r\n\r\nexport interface idParamsInterface extends ParamsDictionary {\r\n  id: string;\r\n}\r\n\r\nexport interface ResponseWithMessage {\r\n  message: string;\r\n}\r\n\r\nexport interface PatchRequest extends Request {\r\n  patch?: Operation[];\r\n}\r\n\r\nexport type AuthRequest = Request<\r\n  idParamsInterface,\r\n  ResponseWithMessage,\r\n  PatchRequest,\r\n  qs.ParsedQs,\r\n  NextFunction\r\n>;\r\n\r\n// middleware for validating user\r\n// eslint-disable-next-line consistent-return\r\nexport const validateUser: RequestHandler<\r\n  idParamsInterface,\r\n  ResponseWithMessage,\r\n  PatchRequest,\r\n  qs.ParsedQs,\r\n  NextFunction\r\n> = async (req, res, next) => {\r\n  try {\r\n    // check that the token matches the id url param (decoded token resides in req.user)\r\n    const requestedId = Number(req.params.id);\r\n    if (req.auth?.id !== requestedId) {\r\n      res.status(401).send();\r\n    } else {\r\n      // find the user; will throw error if user doesn't exist\r\n      await db.getUserById(requestedId);\r\n      next();\r\n    }\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n"],"mappings":";;;;;;;;;AAIA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAsBA;AACA;AACO,IAAMC,YAMZ;EAAA,IAAAC,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAG,SAAAC,QAAOC,GAAG,EAAEC,GAAG,EAAEC,IAAI;IAAA,IAAAC,SAAA,EAAAC,WAAA;IAAA,OAAAP,YAAA,YAAAQ,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAL,IAAA;QAAA;UAAAK,QAAA,CAAAC,IAAA;UAErB;UACMJ,WAAW,GAAGK,MAAM,CAACT,GAAG,CAACU,MAAM,CAACC,EAAE,CAAC;UAAA,MACrC,EAAAR,SAAA,GAAAH,GAAG,CAACY,IAAI,cAAAT,SAAA,uBAARA,SAAA,CAAUQ,EAAE,MAAKP,WAAW;YAAAG,QAAA,CAAAL,IAAA;YAAA;UAAA;UAC9BD,GAAG,CAACY,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,CAAC;UAACP,QAAA,CAAAL,IAAA;UAAA;QAAA;UAAAK,QAAA,CAAAL,IAAA;UAAA,OAGjBa,kBAAE,CAACC,WAAW,CAACZ,WAAW,CAAC;QAAA;UACjCF,IAAI,CAAC,CAAC;QAAC;UAAAK,QAAA,CAAAL,IAAA;UAAA;QAAA;UAAAK,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAU,EAAA,GAAAV,QAAA;UAGTL,IAAI,CAAAK,QAAA,CAAAU,EAAM,CAAC;QAAC;QAAA;UAAA,OAAAV,QAAA,CAAAW,IAAA;MAAA;IAAA,GAAAnB,OAAA;EAAA,CAEf;EAAA,gBApBYL,YAMZA,CAAAyB,EAAA,EAAAC,GAAA,EAAAC,GAAA;IAAA,OAAA1B,IAAA,CAAA2B,KAAA,OAAAC,SAAA;EAAA;AAAA,GAcA;AAACC,OAAA,CAAA9B,YAAA,GAAAA,YAAA"}},"mtime":1679227220378},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\route-methods\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"filename\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\route-methods\\\\appointment.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nexports.get = get;\nexports.update = update;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _dbFunc = _interopRequireDefault(require(\"../db-func\"));\n// month and year are required arguments\nfunction get(_x, _x2) {\n  return _get.apply(this, arguments);\n}\nfunction _get() {\n  _get = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var _req$params, month, year, appointments;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _req$params = req.params, month = _req$params.month, year = _req$params.year;\n          if (!(!month || !year)) {\n            _context.next = 3;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: 'month and year are required to get appointments'\n          }));\n        case 3:\n          _context.prev = 3;\n          _context.next = 6;\n          return _dbFunc[\"default\"].getAppointmentsByMonthYear(month, year);\n        case 6:\n          appointments = _context.sent;\n          return _context.abrupt(\"return\", res.status(200).json(appointments));\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context[\"catch\"](3);\n          return _context.abrupt(\"return\", res.status(500).json({\n            message: \"could not get appointments for \".concat(month, \" / \").concat(year, \": \").concat(_context.t0)\n          }));\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[3, 10]]);\n  }));\n  return _get.apply(this, arguments);\n}\nfunction update(_x3, _x4) {\n  return _update.apply(this, arguments);\n}\nfunction _update() {\n  _update = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var id, patch, updatedAppointment;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          id = req.params.id;\n          patch = req.body.data;\n          _context2.next = 5;\n          return _dbFunc[\"default\"].updateItem(Number(id), _dbFunc[\"default\"].filenames.appointments, patch);\n        case 5:\n          updatedAppointment = _context2.sent;\n          return _context2.abrupt(\"return\", res.status(200).json({\n            appointment: updatedAppointment\n          }));\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2[\"catch\"](0);\n          return _context2.abrupt(\"return\", res.status(500).json({\n            message: \"could not update appointment: \".concat(_context2.t0)\n          }));\n        case 12:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 9]]);\n  }));\n  return _update.apply(this, arguments);\n}\nvar _default = {\n  get: get,\n  update: update\n};\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGJGdW5jIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJnZXQiLCJfeCIsIl94MiIsIl9nZXQiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWdlbmVyYXRvciIsIm1hcmsiLCJfY2FsbGVlIiwicmVxIiwicmVzIiwiX3JlcSRwYXJhbXMiLCJtb250aCIsInllYXIiLCJhcHBvaW50bWVudHMiLCJ3cmFwIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwicGFyYW1zIiwiYWJydXB0Iiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJkYiIsImdldEFwcG9pbnRtZW50c0J5TW9udGhZZWFyIiwic2VudCIsInQwIiwiY29uY2F0Iiwic3RvcCIsInVwZGF0ZSIsIl94MyIsIl94NCIsIl91cGRhdGUiLCJfY2FsbGVlMiIsImlkIiwicGF0Y2giLCJ1cGRhdGVkQXBwb2ludG1lbnQiLCJfY2FsbGVlMiQiLCJfY29udGV4dDIiLCJib2R5IiwiZGF0YSIsInVwZGF0ZUl0ZW0iLCJOdW1iZXIiLCJmaWxlbmFtZXMiLCJhcHBvaW50bWVudCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxrYXN0aVxcd29ya3NwYWNlXFxSRUFDVC1RVUVSWVxcYmFzZS1sYXp5LWRheXNcXHNlcnZlclxcc3JjXFxyb3V0ZS1tZXRob2RzXFwiLCJzb3VyY2VzIjpbImFwcG9pbnRtZW50LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnZXhwcmVzcyc7XHJcblxyXG5pbXBvcnQgeyBBcHBvaW50bWVudCB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC90eXBlcyc7XHJcbmltcG9ydCBkYiBmcm9tICcuLi9kYi1mdW5jJztcclxuXHJcbi8vIG1vbnRoIGFuZCB5ZWFyIGFyZSByZXF1aXJlZCBhcmd1bWVudHNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpOiBQcm9taXNlPFJlc3BvbnNlPiB7XHJcbiAgY29uc3QgeyBtb250aCwgeWVhciB9ID0gcmVxLnBhcmFtcztcclxuICBpZiAoIW1vbnRoIHx8ICF5ZWFyKSB7XHJcbiAgICByZXR1cm4gcmVzXHJcbiAgICAgIC5zdGF0dXMoNDAwKVxyXG4gICAgICAuanNvbih7IG1lc3NhZ2U6ICdtb250aCBhbmQgeWVhciBhcmUgcmVxdWlyZWQgdG8gZ2V0IGFwcG9pbnRtZW50cycgfSk7XHJcbiAgfVxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBhcHBvaW50bWVudHMgPSBhd2FpdCBkYi5nZXRBcHBvaW50bWVudHNCeU1vbnRoWWVhcihtb250aCwgeWVhcik7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oYXBwb2ludG1lbnRzKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBgY291bGQgbm90IGdldCBhcHBvaW50bWVudHMgZm9yICR7bW9udGh9IC8gJHt5ZWFyfTogJHtlfWAsXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGUocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKTogUHJvbWlzZTxSZXNwb25zZT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgY29uc3QgcGF0Y2ggPSByZXEuYm9keS5kYXRhO1xyXG4gICAgY29uc3QgdXBkYXRlZEFwcG9pbnRtZW50ID0gYXdhaXQgZGIudXBkYXRlSXRlbTxBcHBvaW50bWVudD4oXHJcbiAgICAgIE51bWJlcihpZCksXHJcbiAgICAgIGRiLmZpbGVuYW1lcy5hcHBvaW50bWVudHMsXHJcbiAgICAgIHBhdGNoLFxyXG4gICAgKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IGFwcG9pbnRtZW50OiB1cGRhdGVkQXBwb2ludG1lbnQgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlc1xyXG4gICAgICAuc3RhdHVzKDUwMClcclxuICAgICAgLmpzb24oeyBtZXNzYWdlOiBgY291bGQgbm90IHVwZGF0ZSBhcHBvaW50bWVudDogJHtlfWAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgZ2V0LFxyXG4gIHVwZGF0ZSxcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUdBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBO0FBQUEsU0FDc0JDLEdBQUdBLENBQUFDLEVBQUEsRUFBQUMsR0FBQTtFQUFBLE9BQUFDLElBQUEsQ0FBQUMsS0FBQSxPQUFBQyxTQUFBO0FBQUE7QUFBQSxTQUFBRixLQUFBO0VBQUFBLElBQUEsT0FBQUcsa0JBQUEsMkJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFsQixTQUFBQyxRQUFtQkMsR0FBWSxFQUFFQyxHQUFhO0lBQUEsSUFBQUMsV0FBQSxFQUFBQyxLQUFBLEVBQUFDLElBQUEsRUFBQUMsWUFBQTtJQUFBLE9BQUFSLFlBQUEsWUFBQVMsSUFBQSxVQUFBQyxTQUFBQyxRQUFBO01BQUEsa0JBQUFBLFFBQUEsQ0FBQUMsSUFBQSxHQUFBRCxRQUFBLENBQUFFLElBQUE7UUFBQTtVQUFBUixXQUFBLEdBQzNCRixHQUFHLENBQUNXLE1BQU0sRUFBMUJSLEtBQUssR0FBQUQsV0FBQSxDQUFMQyxLQUFLLEVBQUVDLElBQUksR0FBQUYsV0FBQSxDQUFKRSxJQUFJO1VBQUEsTUFDZixDQUFDRCxLQUFLLElBQUksQ0FBQ0MsSUFBSTtZQUFBSSxRQUFBLENBQUFFLElBQUE7WUFBQTtVQUFBO1VBQUEsT0FBQUYsUUFBQSxDQUFBSSxNQUFBLFdBQ1ZYLEdBQUcsQ0FDUFksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUNYQyxJQUFJLENBQUM7WUFBRUMsT0FB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","map":{"version":3,"names":["_dbFunc","_interopRequireDefault","require","get","_x","_x2","_get","apply","arguments","_asyncToGenerator2","_regenerator","mark","_callee","req","res","_req$params","month","year","appointments","wrap","_callee$","_context","prev","next","params","abrupt","status","json","message","db","getAppointmentsByMonthYear","sent","t0","concat","stop","update","_x3","_x4","_update","_callee2","id","patch","updatedAppointment","_callee2$","_context2","body","data","updateItem","Number","filenames","appointment","_default","exports"],"sourceRoot":"C:\\Users\\kasti\\workspace\\REACT-QUERY\\base-lazy-days\\server\\src\\route-methods\\","sources":["appointment.ts"],"sourcesContent":["import { Request, Response } from 'express';\r\n\r\nimport { Appointment } from '../../../shared/types';\r\nimport db from '../db-func';\r\n\r\n// month and year are required arguments\r\nexport async function get(req: Request, res: Response): Promise<Response> {\r\n  const { month, year } = req.params;\r\n  if (!month || !year) {\r\n    return res\r\n      .status(400)\r\n      .json({ message: 'month and year are required to get appointments' });\r\n  }\r\n  try {\r\n    const appointments = await db.getAppointmentsByMonthYear(month, year);\r\n    return res.status(200).json(appointments);\r\n  } catch (e) {\r\n    return res.status(500).json({\r\n      message: `could not get appointments for ${month} / ${year}: ${e}`,\r\n    });\r\n  }\r\n}\r\n\r\nexport async function update(req: Request, res: Response): Promise<Response> {\r\n  try {\r\n    const { id } = req.params;\r\n    const patch = req.body.data;\r\n    const updatedAppointment = await db.updateItem<Appointment>(\r\n      Number(id),\r\n      db.filenames.appointments,\r\n      patch,\r\n    );\r\n    return res.status(200).json({ appointment: updatedAppointment });\r\n  } catch (e) {\r\n    return res\r\n      .status(500)\r\n      .json({ message: `could not update appointment: ${e}` });\r\n  }\r\n}\r\n\r\nexport default {\r\n  get,\r\n  update,\r\n};\r\n"],"mappings":"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"}},"mtime":1679227220379},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\route-methods\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"filename\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\route-methods\\\\staff.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nexports.get = get;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _dbFunc = _interopRequireDefault(require(\"../db-func\"));\nfunction get(_x, _x2) {\n  return _get.apply(this, arguments);\n}\nfunction _get() {\n  _get = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var staff;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _dbFunc[\"default\"].getStaff();\n        case 3:\n          staff = _context.sent;\n          return _context.abrupt(\"return\", res.status(200).json(staff));\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n          return _context.abrupt(\"return\", res.status(500).json({\n            message: \"could not get staff: \".concat(_context.t0)\n          }));\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 7]]);\n  }));\n  return _get.apply(this, arguments);\n}\nvar _default = {\n  get: get\n};\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGJGdW5jIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJnZXQiLCJfeCIsIl94MiIsIl9nZXQiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWdlbmVyYXRvciIsIm1hcmsiLCJfY2FsbGVlIiwicmVxIiwicmVzIiwic3RhZmYiLCJ3cmFwIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwiZGIiLCJnZXRTdGFmZiIsInNlbnQiLCJhYnJ1cHQiLCJzdGF0dXMiLCJqc29uIiwidDAiLCJtZXNzYWdlIiwiY29uY2F0Iiwic3RvcCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxrYXN0aVxcd29ya3NwYWNlXFxSRUFDVC1RVUVSWVxcYmFzZS1sYXp5LWRheXNcXHNlcnZlclxcc3JjXFxyb3V0ZS1tZXRob2RzXFwiLCJzb3VyY2VzIjpbInN0YWZmLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnZXhwcmVzcyc7XHJcblxyXG5pbXBvcnQgZGIgZnJvbSAnLi4vZGItZnVuYyc7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0KHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSk6IFByb21pc2U8UmVzcG9uc2U+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc3RhZmYgPSBhd2FpdCBkYi5nZXRTdGFmZigpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHN0YWZmKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBgY291bGQgbm90IGdldCBzdGFmZjogJHtlfWAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgZ2V0LFxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBNEIsU0FFTkMsR0FBR0EsQ0FBQUMsRUFBQSxFQUFBQyxHQUFBO0VBQUEsT0FBQUMsSUFBQSxDQUFBQyxLQUFBLE9BQUFDLFNBQUE7QUFBQTtBQUFBLFNBQUFGLEtBQUE7RUFBQUEsSUFBQSxPQUFBRyxrQkFBQSwyQkFBQUMsWUFBQSxZQUFBQyxJQUFBLENBQWxCLFNBQUFDLFFBQW1CQyxHQUFZLEVBQUVDLEdBQWE7SUFBQSxJQUFBQyxLQUFBO0lBQUEsT0FBQUwsWUFBQSxZQUFBTSxJQUFBLFVBQUFDLFNBQUFDLFFBQUE7TUFBQSxrQkFBQUEsUUFBQSxDQUFBQyxJQUFBLEdBQUFELFFBQUEsQ0FBQUUsSUFBQTtRQUFBO1VBQUFGLFFBQUEsQ0FBQUMsSUFBQTtVQUFBRCxRQUFBLENBQUFFLElBQUE7VUFBQSxPQUU3QkMsa0JBQUUsQ0FBQ0MsUUFBUSxDQUFDLENBQUM7UUFBQTtVQUEzQlAsS0FBSyxHQUFBRyxRQUFBLENBQUFLLElBQUE7VUFBQSxPQUFBTCxRQUFBLENBQUFNLE1BQUEsV0FDSlYsR0FBRyxDQUFDVyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ1gsS0FBSyxDQUFDO1FBQUE7VUFBQUcsUUFBQSxDQUFBQyxJQUFBO1VBQUFELFFBQUEsQ0FBQVMsRUFBQSxHQUFBVCxRQUFBO1VBQUEsT0FBQUEsUUFBQSxDQUFBTSxNQUFBLFdBRTNCVixHQUFHLENBQUNXLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQUVFLE9BQU8sMEJBQUFDLE1BQUEsQ0FBQVgsUUFBQSxDQUFBUyxFQUFBO1VBQThCLENBQUMsQ0FBQztRQUFBO1FBQUE7VUFBQSxPQUFBVCxRQUFBLENBQUFZLElBQUE7TUFBQTtJQUFBLEdBQUFsQixPQUFBO0VBQUEsQ0FFeEU7RUFBQSxPQUFBTixJQUFBLENBQUFDLEtBQUEsT0FBQUMsU0FBQTtBQUFBO0FBQUEsSUFBQXVCLFFBQUEsR0FFYztFQUNiNUIsR0FBRyxFQUFIQTtBQUNGLENBQUM7QUFBQTZCLE9BQUEsY0FBQUQsUUFBQSJ9","map":{"version":3,"names":["_dbFunc","_interopRequireDefault","require","get","_x","_x2","_get","apply","arguments","_asyncToGenerator2","_regenerator","mark","_callee","req","res","staff","wrap","_callee$","_context","prev","next","db","getStaff","sent","abrupt","status","json","t0","message","concat","stop","_default","exports"],"sourceRoot":"C:\\Users\\kasti\\workspace\\REACT-QUERY\\base-lazy-days\\server\\src\\route-methods\\","sources":["staff.ts"],"sourcesContent":["import { Request, Response } from 'express';\r\n\r\nimport db from '../db-func';\r\n\r\nexport async function get(req: Request, res: Response): Promise<Response> {\r\n  try {\r\n    const staff = await db.getStaff();\r\n    return res.status(200).json(staff);\r\n  } catch (e) {\r\n    return res.status(500).json({ message: `could not get staff: ${e}` });\r\n  }\r\n}\r\n\r\nexport default {\r\n  get,\r\n};\r\n"],"mappings":";;;;;;;;;;AAEA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA4B,SAENC,GAAGA,CAAAC,EAAA,EAAAC,GAAA;EAAA,OAAAC,IAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,KAAA;EAAAA,IAAA,OAAAG,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAlB,SAAAC,QAAmBC,GAAY,EAAEC,GAAa;IAAA,IAAAC,KAAA;IAAA,OAAAL,YAAA,YAAAM,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAE,IAAA;UAAA,OAE7BC,kBAAE,CAACC,QAAQ,CAAC,CAAC;QAAA;UAA3BP,KAAK,GAAAG,QAAA,CAAAK,IAAA;UAAA,OAAAL,QAAA,CAAAM,MAAA,WACJV,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACX,KAAK,CAAC;QAAA;UAAAG,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAS,EAAA,GAAAT,QAAA;UAAA,OAAAA,QAAA,CAAAM,MAAA,WAE3BV,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEE,OAAO,0BAAAC,MAAA,CAAAX,QAAA,CAAAS,EAAA;UAA8B,CAAC,CAAC;QAAA;QAAA;UAAA,OAAAT,QAAA,CAAAY,IAAA;MAAA;IAAA,GAAAlB,OAAA;EAAA,CAExE;EAAA,OAAAN,IAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,IAAAuB,QAAA,GAEc;EACb5B,GAAG,EAAHA;AACF,CAAC;AAAA6B,OAAA,cAAAD,QAAA"}},"mtime":1679227220380},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\route-methods\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"filename\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\route-methods\\\\treatment.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nexports.get = get;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _dbFunc = _interopRequireDefault(require(\"../db-func\"));\nfunction get(_x, _x2) {\n  return _get.apply(this, arguments);\n}\nfunction _get() {\n  _get = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var treatments;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _dbFunc[\"default\"].getTreatments();\n        case 3:\n          treatments = _context.sent;\n          return _context.abrupt(\"return\", res.status(200).json(treatments));\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n          return _context.abrupt(\"return\", res.status(500).json({\n            message: \"could not get treatments: \".concat(_context.t0)\n          }));\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 7]]);\n  }));\n  return _get.apply(this, arguments);\n}\nvar _default = {\n  get: get\n};\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGJGdW5jIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJnZXQiLCJfeCIsIl94MiIsIl9nZXQiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWdlbmVyYXRvciIsIm1hcmsiLCJfY2FsbGVlIiwicmVxIiwicmVzIiwidHJlYXRtZW50cyIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJkYiIsImdldFRyZWF0bWVudHMiLCJzZW50IiwiYWJydXB0Iiwic3RhdHVzIiwianNvbiIsInQwIiwibWVzc2FnZSIsImNvbmNhdCIsInN0b3AiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xca2FzdGlcXHdvcmtzcGFjZVxcUkVBQ1QtUVVFUllcXGJhc2UtbGF6eS1kYXlzXFxzZXJ2ZXJcXHNyY1xccm91dGUtbWV0aG9kc1xcIiwic291cmNlcyI6WyJ0cmVhdG1lbnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICdleHByZXNzJztcclxuXHJcbmltcG9ydCBkYiBmcm9tICcuLi9kYi1mdW5jJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXQocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKTogUHJvbWlzZTxSZXNwb25zZT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB0cmVhdG1lbnRzID0gYXdhaXQgZGIuZ2V0VHJlYXRtZW50cygpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHRyZWF0bWVudHMpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IGBjb3VsZCBub3QgZ2V0IHRyZWF0bWVudHM6ICR7ZX1gIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGdldCxcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQTRCLFNBRU5DLEdBQUdBLENBQUFDLEVBQUEsRUFBQUMsR0FBQTtFQUFBLE9BQUFDLElBQUEsQ0FBQUMsS0FBQSxPQUFBQyxTQUFBO0FBQUE7QUFBQSxTQUFBRixLQUFBO0VBQUFBLElBQUEsT0FBQUcsa0JBQUEsMkJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFsQixTQUFBQyxRQUFtQkMsR0FBWSxFQUFFQyxHQUFhO0lBQUEsSUFBQUMsVUFBQTtJQUFBLE9BQUFMLFlBQUEsWUFBQU0sSUFBQSxVQUFBQyxTQUFBQyxRQUFBO01BQUEsa0JBQUFBLFFBQUEsQ0FBQUMsSUFBQSxHQUFBRCxRQUFBLENBQUFFLElBQUE7UUFBQTtVQUFBRixRQUFBLENBQUFDLElBQUE7VUFBQUQsUUFBQSxDQUFBRSxJQUFBO1VBQUEsT0FFeEJDLGtCQUFFLENBQUNDLGFBQWEsQ0FBQyxDQUFDO1FBQUE7VUFBckNQLFVBQVUsR0FBQUcsUUFBQSxDQUFBSyxJQUFBO1VBQUEsT0FBQUwsUUFBQSxDQUFBTSxNQUFBLFdBQ1RWLEdBQUcsQ0FBQ1csTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNYLFVBQVUsQ0FBQztRQUFBO1VBQUFHLFFBQUEsQ0FBQUMsSUFBQTtVQUFBRCxRQUFBLENBQUFTLEVBQUEsR0FBQVQsUUFBQTtVQUFBLE9BQUFBLFFBQUEsQ0FBQU0sTUFBQSxXQUVoQ1YsR0FBRyxDQUFDVyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztZQUFFRSxPQUFPLCtCQUFBQyxNQUFBLENBQUFYLFFBQUEsQ0FBQVMsRUFBQTtVQUFtQyxDQUFDLENBQUM7UUFBQTtRQUFBO1VBQUEsT0FBQVQsUUFBQSxDQUFBWSxJQUFBO01BQUE7SUFBQSxHQUFBbEIsT0FBQTtFQUFBLENBRTdFO0VBQUEsT0FBQU4sSUFBQSxDQUFBQyxLQUFBLE9BQUFDLFNBQUE7QUFBQTtBQUFBLElBQUF1QixRQUFBLEdBRWM7RUFDYjVCLEdBQUcsRUFBSEE7QUFDRixDQUFDO0FBQUE2QixPQUFBLGNBQUFELFFBQUEifQ==","map":{"version":3,"names":["_dbFunc","_interopRequireDefault","require","get","_x","_x2","_get","apply","arguments","_asyncToGenerator2","_regenerator","mark","_callee","req","res","treatments","wrap","_callee$","_context","prev","next","db","getTreatments","sent","abrupt","status","json","t0","message","concat","stop","_default","exports"],"sourceRoot":"C:\\Users\\kasti\\workspace\\REACT-QUERY\\base-lazy-days\\server\\src\\route-methods\\","sources":["treatment.ts"],"sourcesContent":["import { Request, Response } from 'express';\r\n\r\nimport db from '../db-func';\r\n\r\nexport async function get(req: Request, res: Response): Promise<Response> {\r\n  try {\r\n    const treatments = await db.getTreatments();\r\n    return res.status(200).json(treatments);\r\n  } catch (e) {\r\n    return res.status(500).json({ message: `could not get treatments: ${e}` });\r\n  }\r\n}\r\n\r\nexport default {\r\n  get,\r\n};\r\n"],"mappings":";;;;;;;;;;AAEA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA4B,SAENC,GAAGA,CAAAC,EAAA,EAAAC,GAAA;EAAA,OAAAC,IAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,KAAA;EAAAA,IAAA,OAAAG,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAlB,SAAAC,QAAmBC,GAAY,EAAEC,GAAa;IAAA,IAAAC,UAAA;IAAA,OAAAL,YAAA,YAAAM,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAE,IAAA;UAAA,OAExBC,kBAAE,CAACC,aAAa,CAAC,CAAC;QAAA;UAArCP,UAAU,GAAAG,QAAA,CAAAK,IAAA;UAAA,OAAAL,QAAA,CAAAM,MAAA,WACTV,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACX,UAAU,CAAC;QAAA;UAAAG,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAS,EAAA,GAAAT,QAAA;UAAA,OAAAA,QAAA,CAAAM,MAAA,WAEhCV,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEE,OAAO,+BAAAC,MAAA,CAAAX,QAAA,CAAAS,EAAA;UAAmC,CAAC,CAAC;QAAA;QAAA;UAAA,OAAAT,QAAA,CAAAY,IAAA;MAAA;IAAA,GAAAlB,OAAA;EAAA,CAE7E;EAAA,OAAAN,IAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,IAAAuB,QAAA,GAEc;EACb5B,GAAG,EAAHA;AACF,CAAC;AAAA6B,OAAA,cAAAD,QAAA"}},"mtime":1679227220380},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\route-methods\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"filename\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\route-methods\\\\user.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.auth = auth;\nexports.create = create;\nexports[\"default\"] = void 0;\nexports.get = get;\nexports.getUserAppointments = getUserAppointments;\nexports.remove = remove;\nexports.update = update;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\nvar _auth2 = require(\"../auth\");\nvar _dbFunc = _interopRequireDefault(require(\"../db-func\"));\nvar _excluded = [\"salt\", \"keylen\", \"iterations\", \"hash\", \"digest\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction removePasswordandAddToken(user) {\n  // use \"object rest operator\" to remove properties in a typescript-friendly way\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  var salt = user.salt,\n    keylen = user.keylen,\n    iterations = user.iterations,\n    hash = user.hash,\n    digest = user.digest,\n    cleanUser = (0, _objectWithoutProperties2[\"default\"])(user, _excluded);\n\n  // create token\n  var token = (0, _auth2.createJWT)(cleanUser);\n\n  // return user with token\n  return _objectSpread(_objectSpread({}, cleanUser), {}, {\n    token: token\n  });\n}\n\n// eslint-disable-next-line max-lines-per-function\nfunction get(_x, _x2) {\n  return _get.apply(this, arguments);\n}\nfunction _get() {\n  _get = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var userData, user;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          if (req.auth) {\n            _context.next = 3;\n            break;\n          }\n          throw new Error('Cannot get user without login');\n        case 3:\n          _context.next = 5;\n          return _dbFunc[\"default\"].getUserById(req.auth.id);\n        case 5:\n          userData = _context.sent;\n          // remove password data from user object\n          user = removePasswordandAddToken(userData); // return user and appointments\n          return _context.abrupt(\"return\", res.status(200).json({\n            user: user\n          }));\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context[\"catch\"](0);\n          return _context.abrupt(\"return\", res.status(500).json({\n            message: \"could not get user: \".concat(_context.t0)\n          }));\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 10]]);\n  }));\n  return _get.apply(this, arguments);\n}\nfunction getUserAppointments(_x3, _x4) {\n  return _getUserAppointments.apply(this, arguments);\n}\nfunction _getUserAppointments() {\n  _getUserAppointments = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var paramId, appointments, userAppointments;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          paramId = Number(req.params.id);\n          _context2.prev = 1;\n          _context2.next = 4;\n          return _dbFunc[\"default\"].getAppointments();\n        case 4:\n          appointments = _context2.sent;\n          userAppointments = Object.values(appointments).filter(function (a) {\n            return a.userId === paramId;\n          });\n          return _context2.abrupt(\"return\", res.status(200).json({\n            appointments: userAppointments\n          }));\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2[\"catch\"](1);\n          return _context2.abrupt(\"return\", res.status(500).json({\n            message: \"could not get user appointments for id \".concat(paramId, \": \").concat(_context2.t0)\n          }));\n        case 12:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[1, 9]]);\n  }));\n  return _getUserAppointments.apply(this, arguments);\n}\nfunction create(_x5, _x6) {\n  return _create.apply(this, arguments);\n}\nfunction _create() {\n  _create = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    var _req$body, email, password, existingUsers, takenEmail, userPasswordData, newUser, user;\n    return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _req$body = req.body, email = _req$body.email, password = _req$body.password;\n          _context3.next = 4;\n          return _dbFunc[\"default\"].getUsers();\n        case 4:\n          existingUsers = _context3.sent;\n          takenEmail = existingUsers.map(function (u) {\n            return u.email;\n          }).includes(email);\n          if (!takenEmail) {\n            _context3.next = 8;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: 'Email is already in use'\n          }));\n        case 8:\n          userPasswordData = (0, _auth2.hashPassword)(password);\n          _context3.next = 11;\n          return _dbFunc[\"default\"].addUser(_objectSpread({\n            email: email\n          }, userPasswordData));\n        case 11:\n          newUser = _context3.sent;\n          user = removePasswordandAddToken(newUser);\n          return _context3.abrupt(\"return\", res.status(201).json({\n            user: user\n          }));\n        case 16:\n          _context3.prev = 16;\n          _context3.t0 = _context3[\"catch\"](0);\n          return _context3.abrupt(\"return\", res.status(500).json({\n            message: \"could not add user: \".concat(_context3.t0)\n          }));\n        case 19:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 16]]);\n  }));\n  return _create.apply(this, arguments);\n}\nfunction remove(_x7, _x8) {\n  return _remove.apply(this, arguments);\n}\nfunction _remove() {\n  _remove = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(req, res) {\n    var id;\n    return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          id = req.params.id;\n          _context4.next = 4;\n          return _dbFunc[\"default\"].deleteItem(_dbFunc[\"default\"].filenames.users, Number(id));\n        case 4:\n          return _context4.abrupt(\"return\", res.status(204));\n        case 7:\n          _context4.prev = 7;\n          _context4.t0 = _context4[\"catch\"](0);\n          return _context4.abrupt(\"return\", res.status(500).json({\n            message: \"could not delete user: \".concat(_context4.t0)\n          }));\n        case 10:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 7]]);\n  }));\n  return _remove.apply(this, arguments);\n}\nfunction update(_x9, _x10) {\n  return _update.apply(this, arguments);\n}\nfunction _update() {\n  _update = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res) {\n    var id, patch, updatedUser, user;\n    return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          id = req.params.id;\n          patch = req.body.patch;\n          if (patch) {\n            _context5.next = 5;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).json({\n            message: 'this endpoint requires a patch in the body'\n          }));\n        case 5:\n          _context5.next = 7;\n          return _dbFunc[\"default\"].updateItem(Number(id), _dbFunc[\"default\"].filenames.users, patch);\n        case 7:\n          updatedUser = _context5.sent;\n          user = removePasswordandAddToken(updatedUser);\n          return _context5.abrupt(\"return\", res.status(200).json({\n            user: user\n          }));\n        case 12:\n          _context5.prev = 12;\n          _context5.t0 = _context5[\"catch\"](0);\n          return _context5.abrupt(\"return\", res.status(500).json({\n            message: \"could not update appointment: \".concat(_context5.t0)\n          }));\n        case 15:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[0, 12]]);\n  }));\n  return _update.apply(this, arguments);\n}\nfunction auth(_x11, _x12) {\n  return _auth.apply(this, arguments);\n}\nfunction _auth() {\n  _auth = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(req, res) {\n    var _req$body2, email, password, users, validUser, user;\n    return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          _req$body2 = req.body, email = _req$body2.email, password = _req$body2.password; // auth user\n          _context6.next = 3;\n          return _dbFunc[\"default\"].getUsers();\n        case 3:\n          users = _context6.sent;\n          validUser = users.reduce(function (foundUser, user) {\n            return user.email === email && (0, _auth2.passwordIsValid)(password, user) ? user : foundUser;\n          }, null);\n          if (validUser) {\n            _context6.next = 7;\n            break;\n          }\n          return _context6.abrupt(\"return\", res.status(400).json({\n            message: 'Invalid login'\n          }));\n        case 7:\n          // create jwt\n          user = removePasswordandAddToken(validUser);\n          return _context6.abrupt(\"return\", res.status(200).json({\n            user: user\n          }));\n        case 9:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return _auth.apply(this, arguments);\n}\nvar _default = {\n  get: get,\n  getUserAppointments: getUserAppointments,\n  create: create,\n  remove: remove,\n  update: update,\n  auth: auth\n};\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXV0aDIiLCJyZXF1aXJlIiwiX2RiRnVuYyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfZXhjbHVkZWQiLCJvd25LZXlzIiwib2JqZWN0IiwiZW51bWVyYWJsZU9ubHkiLCJrZXlzIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9scyIsImZpbHRlciIsInN5bSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwidGFyZ2V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNvdXJjZSIsImZvckVhY2giLCJrZXkiLCJfZGVmaW5lUHJvcGVydHkyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJkZWZpbmVQcm9wZXJ0eSIsInJlbW92ZVBhc3N3b3JkYW5kQWRkVG9rZW4iLCJ1c2VyIiwic2FsdCIsImtleWxlbiIsIml0ZXJhdGlvbnMiLCJoYXNoIiwiZGlnZXN0IiwiY2xlYW5Vc2VyIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiIsInRva2VuIiwiY3JlYXRlSldUIiwiZ2V0IiwiX3giLCJfeDIiLCJfZ2V0IiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJyZXEiLCJyZXMiLCJ1c2VyRGF0YSIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJhdXRoIiwiRXJyb3IiLCJkYiIsImdldFVzZXJCeUlkIiwiaWQiLCJzZW50IiwiYWJydXB0Iiwic3RhdHVzIiwianNvbiIsInQwIiwibWVzc2FnZSIsImNvbmNhdCIsInN0b3AiLCJnZXRVc2VyQXBwb2ludG1lbnRzIiwiX3gzIiwiX3g0IiwiX2dldFVzZXJBcHBvaW50bWVudHMiLCJfY2FsbGVlMiIsInBhcmFtSWQiLCJhcHBvaW50bWVudHMiLCJ1c2VyQXBwb2ludG1lbnRzIiwiX2NhbGxlZTIkIiwiX2NvbnRleHQyIiwiTnVtYmVyIiwicGFyYW1zIiwiZ2V0QXBwb2ludG1lbnRzIiwidmFsdWVzIiwiYSIsInVzZXJJZCIsImNyZWF0ZSIsIl94NSIsIl94NiIsIl9jcmVhdGUiLCJfY2FsbGVlMyIsIl9yZXEkYm9keSIsImVtYWlsIiwicGFzc3dvcmQiLCJleGlzdGluZ1VzZXJzIiwidGFrZW5FbWFpbCIsInVzZXJQYXNzd29yZERhdGEiLCJuZXdVc2VyIiwiX2NhbGxlZTMkIiwiX2NvbnRleHQzIiwiYm9keSIsImdldFVzZXJzIiwibWFwIiwidSIsImluY2x1ZGVzIiwiaGFzaFBhc3N3b3JkIiwiYWRkVXNlciIsInJlbW92ZSIsIl94NyIsIl94OCIsIl9yZW1vdmUiLCJfY2FsbGVlNCIsIl9jYWxsZWU0JCIsIl9jb250ZXh0NCIsImRlbGV0ZUl0ZW0iLCJmaWxlbmFtZXMiLCJ1c2VycyIsInVwZGF0ZSIsIl94OSIsIl94MTAiLCJfdXBkYXRlIiwiX2NhbGxlZTUiLCJwYXRjaCIsInVwZGF0ZWRVc2VyIiwiX2NhbGxlZTUkIiwiX2NvbnRleHQ1IiwidXBkYXRlSXRlbSIsIl94MTEiLCJfeDEyIiwiX2F1dGgiLCJfY2FsbGVlNiIsIl9yZXEkYm9keTIiLCJ2YWxpZFVzZXIiLCJfY2FsbGVlNiQiLCJfY29udGV4dDYiLCJyZWR1Y2UiLCJmb3VuZFVzZXIiLCJwYXNzd29yZElzVmFsaWQiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xca2FzdGlcXHdvcmtzcGFjZVxcUkVBQ1QtUVVFUllcXGJhc2UtbGF6eS1kYXlzXFxzZXJ2ZXJcXHNyY1xccm91dGUtbWV0aG9kc1xcIiwic291cmNlcyI6WyJ1c2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnZXhwcmVzcyc7XHJcblxyXG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL3R5cGVzJztcclxuaW1wb3J0IHsgQXV0aFVzZXIsIGNyZWF0ZUpXVCwgaGFzaFBhc3N3b3JkLCBwYXNzd29yZElzVmFsaWQgfSBmcm9tICcuLi9hdXRoJztcclxuaW1wb3J0IGRiIGZyb20gJy4uL2RiLWZ1bmMnO1xyXG5pbXBvcnQgeyBBdXRoUmVxdWVzdCB9IGZyb20gJy4uL21pZGRsZXdhcmVzJztcclxuXHJcbmZ1bmN0aW9uIHJlbW92ZVBhc3N3b3JkYW5kQWRkVG9rZW4odXNlcjogQXV0aFVzZXIpOiBVc2VyIHtcclxuICAvLyB1c2UgXCJvYmplY3QgcmVzdCBvcGVyYXRvclwiIHRvIHJlbW92ZSBwcm9wZXJ0aWVzIGluIGEgdHlwZXNjcmlwdC1mcmllbmRseSB3YXlcclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXHJcbiAgY29uc3QgeyBzYWx0LCBrZXlsZW4sIGl0ZXJhdGlvbnMsIGhhc2gsIGRpZ2VzdCwgLi4uY2xlYW5Vc2VyIH0gPSB1c2VyO1xyXG5cclxuICAvLyBjcmVhdGUgdG9rZW5cclxuICBjb25zdCB0b2tlbiA9IGNyZWF0ZUpXVChjbGVhblVzZXIpO1xyXG5cclxuICAvLyByZXR1cm4gdXNlciB3aXRoIHRva2VuXHJcbiAgcmV0dXJuIHsgLi4uY2xlYW5Vc2VyLCB0b2tlbiB9O1xyXG59XHJcblxyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxpbmVzLXBlci1mdW5jdGlvblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0KHJlcTogQXV0aFJlcXVlc3QsIHJlczogUmVzcG9uc2UpOiBQcm9taXNlPFJlc3BvbnNlPiB7XHJcbiAgdHJ5IHtcclxuICAgIGlmICghcmVxLmF1dGgpIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGdldCB1c2VyIHdpdGhvdXQgbG9naW4nKTtcclxuXHJcbiAgICAvLyBnZXQgZnJlc2ggdXNlciBkYXRhXHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IGF3YWl0IGRiLmdldFVzZXJCeUlkKHJlcS5hdXRoLmlkKTtcclxuXHJcbiAgICAvLyByZW1vdmUgcGFzc3dvcmQgZGF0YSBmcm9tIHVzZXIgb2JqZWN0XHJcbiAgICBjb25zdCB1c2VyID0gcmVtb3ZlUGFzc3dvcmRhbmRBZGRUb2tlbih1c2VyRGF0YSk7XHJcblxyXG4gICAgLy8gcmV0dXJuIHVzZXIgYW5kIGFwcG9pbnRtZW50c1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlciB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBgY291bGQgbm90IGdldCB1c2VyOiAke2V9YCB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyQXBwb2ludG1lbnRzKFxyXG4gIHJlcTogQXV0aFJlcXVlc3QsXHJcbiAgcmVzOiBSZXNwb25zZSxcclxuKTogUHJvbWlzZTxSZXNwb25zZT4ge1xyXG4gIGNvbnN0IHBhcmFtSWQgPSBOdW1iZXIocmVxLnBhcmFtcy5pZCk7XHJcbiAgdHJ5IHtcclxuICAgIC8vIGdldCB1c2VyJ3MgYXBwb2ludG1lbnRzXHJcbiAgICBjb25zdCBhcHBvaW50bWVudHMgPSBhd2FpdCBkYi5nZXRBcHBvaW50bWVudHMoKTtcclxuICAgIGNvbnN0IHVzZXJBcHBvaW50bWVudHMgPSBPYmplY3QudmFsdWVzKGFwcG9pbnRtZW50cykuZmlsdGVyKFxyXG4gICAgICAoYSkgPT4gYS51c2VySWQgPT09IHBhcmFtSWQsXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgYXBwb2ludG1lbnRzOiB1c2VyQXBwb2ludG1lbnRzLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogYGNvdWxkIG5vdCBnZXQgdXNlciBhcHBvaW50bWVudHMgZm9yIGlkICR7cGFyYW1JZH06ICR7ZX1gLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSk6IFByb21pc2U8UmVzcG9uc2U+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xyXG4gICAgY29uc3QgZXhpc3RpbmdVc2VycyA9IGF3YWl0IGRiLmdldFVzZXJzKCk7XHJcbiAgICBjb25zdCB0YWtlbkVtYWlsID0gZXhpc3RpbmdVc2Vycy5tYXAoKHUpID0+IHUuZW1haWwpLmluY2x1ZGVzKGVtYWlsKTtcclxuICAgIGlmICh0YWtlbkVtYWlsKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdFbWFpbCBpcyBhbHJlYWR5IGluIHVzZScgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdXNlclBhc3N3b3JkRGF0YSA9IGhhc2hQYXNzd29yZChwYXNzd29yZCk7XHJcbiAgICBjb25zdCBuZXdVc2VyID0gYXdhaXQgZGIuYWRkVXNlcih7XHJcbiAgICAgIGVtYWlsLFxyXG4gICAgICAuLi51c2VyUGFzc3dvcmREYXRhLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgdXNlciA9IHJlbW92ZVBhc3N3b3JkYW5kQWRkVG9rZW4obmV3VXNlcik7XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgdXNlciB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBgY291bGQgbm90IGFkZCB1c2VyOiAke2V9YCB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW1vdmUoXHJcbiAgcmVxOiBBdXRoUmVxdWVzdCxcclxuICByZXM6IFJlc3BvbnNlLFxyXG4pOiBQcm9taXNlPFJlc3BvbnNlPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICBhd2FpdCBkYi5kZWxldGVJdGVtPEF1dGhVc2VyPihkYi5maWxlbmFtZXMudXNlcnMsIE51bWJlcihpZCkpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjA0KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBgY291bGQgbm90IGRlbGV0ZSB1c2VyOiAke2V9YCB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGUoXHJcbiAgcmVxOiBBdXRoUmVxdWVzdCxcclxuICByZXM6IFJlc3BvbnNlLFxyXG4pOiBQcm9taXNlPFJlc3BvbnNlPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICBjb25zdCB7IHBhdGNoIH0gPSByZXEuYm9keTtcclxuICAgIGlmICghcGF0Y2gpIHtcclxuICAgICAgcmV0dXJuIHJlc1xyXG4gICAgICAgIC5zdGF0dXMoNDAwKVxyXG4gICAgICAgIC5qc29uKHsgbWVzc2FnZTogJ3RoaXMgZW5kcG9pbnQgcmVxdWlyZXMgYSBwYXRjaCBpbiB0aGUgYm9keScgfSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IGRiLnVwZGF0ZUl0ZW08QXV0aFVzZXI+KFxyXG4gICAgICBOdW1iZXIoaWQpLFxyXG4gICAgICBkYi5maWxlbmFtZXMudXNlcnMsXHJcbiAgICAgIHBhdGNoLFxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCB1c2VyID0gcmVtb3ZlUGFzc3dvcmRhbmRBZGRUb2tlbih1cGRhdGVkVXNlcik7XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlciB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzXHJcbiAgICAgIC5zdGF0dXMoNTAwKVxyXG4gICAgICAuanNvbih7IG1lc3NhZ2U6IGBjb3VsZCBub3QgdXBkYXRlIGFwcG9pbnRtZW50OiAke2V9YCB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhdXRoKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSk6IFByb21pc2U8UmVzcG9uc2U+IHtcclxuICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XHJcblxyXG4gIC8vIGF1dGggdXNlclxyXG4gIGNvbnN0IHVzZXJzID0gYXdhaXQgZGIuZ2V0VXNlcnMoKTtcclxuICBjb25zdCB2YWxpZFVzZXIgPSB1c2Vycy5yZWR1Y2UoXHJcbiAgICAoZm91bmRVc2VyOiBBdXRoVXNlciB8IG51bGwsIHVzZXIpID0+XHJcbiAgICAgIHVzZXIuZW1haWwgPT09IGVtYWlsICYmIHBhc3N3b3JkSXNWYWxpZChwYXNzd29yZCwgdXNlcilcclxuICAgICAgICA/IHVzZXJcclxuICAgICAgICA6IGZvdW5kVXNlcixcclxuICAgIG51bGwsXHJcbiAgKTtcclxuXHJcbiAgaWYgKCF2YWxpZFVzZXIpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnZhbGlkIGxvZ2luJyB9KTtcclxuXHJcbiAgLy8gY3JlYXRlIGp3dFxyXG4gIGNvbnN0IHVzZXIgPSByZW1vdmVQYXNzd29yZGFuZEFkZFRva2VuKHZhbGlkVXNlcik7XHJcblxyXG4gIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IHVzZXIgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBnZXQsXHJcbiAgZ2V0VXNlckFwcG9pbnRtZW50cyxcclxuICBjcmVhdGUsXHJcbiAgcmVtb3ZlLFxyXG4gIHVwZGF0ZSxcclxuICBhdXRoLFxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR0EsSUFBQUEsTUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBQyxzQkFBQSxD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","map":{"version":3,"names":["_auth2","require","_dbFunc","_interopRequireDefault","_excluded","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","removePasswordandAddToken","user","salt","keylen","iterations","hash","digest","cleanUser","_objectWithoutProperties2","token","createJWT","get","_x","_x2","_get","_asyncToGenerator2","_regenerator","mark","_callee","req","res","userData","wrap","_callee$","_context","prev","next","auth","Error","db","getUserById","id","sent","abrupt","status","json","t0","message","concat","stop","getUserAppointments","_x3","_x4","_getUserAppointments","_callee2","paramId","appointments","userAppointments","_callee2$","_context2","Number","params","getAppointments","values","a","userId","create","_x5","_x6","_create","_callee3","_req$body","email","password","existingUsers","takenEmail","userPasswordData","newUser","_callee3$","_context3","body","getUsers","map","u","includes","hashPassword","addUser","remove","_x7","_x8","_remove","_callee4","_callee4$","_context4","deleteItem","filenames","users","update","_x9","_x10","_update","_callee5","patch","updatedUser","_callee5$","_context5","updateItem","_x11","_x12","_auth","_callee6","_req$body2","validUser","_callee6$","_context6","reduce","foundUser","passwordIsValid","_default","exports"],"sourceRoot":"C:\\Users\\kasti\\workspace\\REACT-QUERY\\base-lazy-days\\server\\src\\route-methods\\","sources":["user.ts"],"sourcesContent":["import { Request, Response } from 'express';\r\n\r\nimport { User } from '../../../shared/types';\r\nimport { AuthUser, createJWT, hashPassword, passwordIsValid } from '../auth';\r\nimport db from '../db-func';\r\nimport { AuthRequest } from '../middlewares';\r\n\r\nfunction removePasswordandAddToken(user: AuthUser): User {\r\n  // use \"object rest operator\" to remove properties in a typescript-friendly way\r\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n  const { salt, keylen, iterations, hash, digest, ...cleanUser } = user;\r\n\r\n  // create token\r\n  const token = createJWT(cleanUser);\r\n\r\n  // return user with token\r\n  return { ...cleanUser, token };\r\n}\r\n\r\n// eslint-disable-next-line max-lines-per-function\r\nexport async function get(req: AuthRequest, res: Response): Promise<Response> {\r\n  try {\r\n    if (!req.auth) throw new Error('Cannot get user without login');\r\n\r\n    // get fresh user data\r\n    const userData = await db.getUserById(req.auth.id);\r\n\r\n    // remove password data from user object\r\n    const user = removePasswordandAddToken(userData);\r\n\r\n    // return user and appointments\r\n    return res.status(200).json({ user });\r\n  } catch (e) {\r\n    return res.status(500).json({ message: `could not get user: ${e}` });\r\n  }\r\n}\r\n\r\nexport async function getUserAppointments(\r\n  req: AuthRequest,\r\n  res: Response,\r\n): Promise<Response> {\r\n  const paramId = Number(req.params.id);\r\n  try {\r\n    // get user's appointments\r\n    const appointments = await db.getAppointments();\r\n    const userAppointments = Object.values(appointments).filter(\r\n      (a) => a.userId === paramId,\r\n    );\r\n    return res.status(200).json({\r\n      appointments: userAppointments,\r\n    });\r\n  } catch (e) {\r\n    return res.status(500).json({\r\n      message: `could not get user appointments for id ${paramId}: ${e}`,\r\n    });\r\n  }\r\n}\r\n\r\nexport async function create(req: Request, res: Response): Promise<Response> {\r\n  try {\r\n    const { email, password } = req.body;\r\n    const existingUsers = await db.getUsers();\r\n    const takenEmail = existingUsers.map((u) => u.email).includes(email);\r\n    if (takenEmail) {\r\n      return res.status(400).json({ message: 'Email is already in use' });\r\n    }\r\n\r\n    const userPasswordData = hashPassword(password);\r\n    const newUser = await db.addUser({\r\n      email,\r\n      ...userPasswordData,\r\n    });\r\n\r\n    const user = removePasswordandAddToken(newUser);\r\n\r\n    return res.status(201).json({ user });\r\n  } catch (e) {\r\n    return res.status(500).json({ message: `could not add user: ${e}` });\r\n  }\r\n}\r\n\r\nexport async function remove(\r\n  req: AuthRequest,\r\n  res: Response,\r\n): Promise<Response> {\r\n  try {\r\n    const { id } = req.params;\r\n    await db.deleteItem<AuthUser>(db.filenames.users, Number(id));\r\n    return res.status(204);\r\n  } catch (e) {\r\n    return res.status(500).json({ message: `could not delete user: ${e}` });\r\n  }\r\n}\r\n\r\nexport async function update(\r\n  req: AuthRequest,\r\n  res: Response,\r\n): Promise<Response> {\r\n  try {\r\n    const { id } = req.params;\r\n    const { patch } = req.body;\r\n    if (!patch) {\r\n      return res\r\n        .status(400)\r\n        .json({ message: 'this endpoint requires a patch in the body' });\r\n    }\r\n    const updatedUser = await db.updateItem<AuthUser>(\r\n      Number(id),\r\n      db.filenames.users,\r\n      patch,\r\n    );\r\n\r\n    const user = removePasswordandAddToken(updatedUser);\r\n\r\n    return res.status(200).json({ user });\r\n  } catch (e) {\r\n    return res\r\n      .status(500)\r\n      .json({ message: `could not update appointment: ${e}` });\r\n  }\r\n}\r\n\r\nexport async function auth(req: Request, res: Response): Promise<Response> {\r\n  const { email, password } = req.body;\r\n\r\n  // auth user\r\n  const users = await db.getUsers();\r\n  const validUser = users.reduce(\r\n    (foundUser: AuthUser | null, user) =>\r\n      user.email === email && passwordIsValid(password, user)\r\n        ? user\r\n        : foundUser,\r\n    null,\r\n  );\r\n\r\n  if (!validUser) return res.status(400).json({ message: 'Invalid login' });\r\n\r\n  // create jwt\r\n  const user = removePasswordandAddToken(validUser);\r\n\r\n  return res.status(200).json({ user });\r\n}\r\n\r\nexport default {\r\n  get,\r\n  getUserAppointments,\r\n  create,\r\n  remove,\r\n  update,\r\n  auth,\r\n};\r\n"],"mappings":"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"}},"mtime":1679227220381},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"filename\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\auth.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createJWT = createJWT;\nexports.hashPassword = hashPassword;\nexports.passwordIsValid = passwordIsValid;\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _pbkdf = _interopRequireDefault(require(\"pbkdf2\"));\nfunction hashPassword(password) {\n  var salt = _crypto[\"default\"].randomBytes(128).toString('base64');\n  var iterations = 10000;\n  var keylen = 64;\n  var digest = 'sha512';\n  var hash = _pbkdf[\"default\"].pbkdf2Sync(password, salt, iterations, keylen, digest).toString();\n  return {\n    salt: salt,\n    hash: hash,\n    iterations: iterations,\n    keylen: keylen,\n    digest: digest\n  };\n}\nfunction passwordIsValid(password, user) {\n  var attemptHash = _pbkdf[\"default\"].pbkdf2Sync(password, user.salt, user.iterations, user.keylen, user.digest);\n  return user.hash === attemptHash.toString();\n}\nfunction createJWT(user) {\n  return _jsonwebtoken[\"default\"].sign(user, process.env.EXPRESS_SECRET);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY3J5cHRvIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfanNvbndlYnRva2VuIiwiX3Bia2RmIiwiaGFzaFBhc3N3b3JkIiwicGFzc3dvcmQiLCJzYWx0IiwiY3J5cHRvIiwicmFuZG9tQnl0ZXMiLCJ0b1N0cmluZyIsIml0ZXJhdGlvbnMiLCJrZXlsZW4iLCJkaWdlc3QiLCJoYXNoIiwicGJrZGYyIiwicGJrZGYyU3luYyIsInBhc3N3b3JkSXNWYWxpZCIsInVzZXIiLCJhdHRlbXB0SGFzaCIsImNyZWF0ZUpXVCIsImpzb253ZWJ0b2tlbiIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiRVhQUkVTU19TRUNSRVQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xca2FzdGlcXHdvcmtzcGFjZVxcUkVBQ1QtUVVFUllcXGJhc2UtbGF6eS1kYXlzXFxzZXJ2ZXJcXHNyY1xcIiwic291cmNlcyI6WyJhdXRoLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcclxuaW1wb3J0IGpzb253ZWJ0b2tlbiBmcm9tICdqc29ud2VidG9rZW4nO1xyXG5pbXBvcnQgcGJrZGYyIGZyb20gJ3Bia2RmMic7XHJcblxyXG5pbXBvcnQgeyBOZXdVc2VyLCBVc2VyIH0gZnJvbSAnLi4vLi4vc2hhcmVkL3R5cGVzJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGFzc3dvcmRIYXNoIHtcclxuICBzYWx0OiBzdHJpbmc7XHJcbiAgaGFzaDogc3RyaW5nO1xyXG4gIGl0ZXJhdGlvbnM6IG51bWJlcjtcclxuICBrZXlsZW46IG51bWJlcjtcclxuICBkaWdlc3Q6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgTmV3QXV0aFVzZXIgPSBOZXdVc2VyICYgUGFzc3dvcmRIYXNoO1xyXG5leHBvcnQgdHlwZSBBdXRoVXNlciA9IFVzZXIgJiBQYXNzd29yZEhhc2g7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGFzaFBhc3N3b3JkKHBhc3N3b3JkOiBzdHJpbmcpOiBQYXNzd29yZEhhc2gge1xyXG4gIGNvbnN0IHNhbHQgPSBjcnlwdG8ucmFuZG9tQnl0ZXMoMTI4KS50b1N0cmluZygnYmFzZTY0Jyk7XHJcbiAgY29uc3QgaXRlcmF0aW9ucyA9IDEwMDAwO1xyXG4gIGNvbnN0IGtleWxlbiA9IDY0O1xyXG4gIGNvbnN0IGRpZ2VzdCA9ICdzaGE1MTInO1xyXG4gIGNvbnN0IGhhc2ggPSBwYmtkZjJcclxuICAgIC5wYmtkZjJTeW5jKHBhc3N3b3JkLCBzYWx0LCBpdGVyYXRpb25zLCBrZXlsZW4sIGRpZ2VzdClcclxuICAgIC50b1N0cmluZygpO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgc2FsdCxcclxuICAgIGhhc2gsXHJcbiAgICBpdGVyYXRpb25zLFxyXG4gICAga2V5bGVuLFxyXG4gICAgZGlnZXN0LFxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwYXNzd29yZElzVmFsaWQocGFzc3dvcmQ6IHN0cmluZywgdXNlcjogQXV0aFVzZXIpOiBib29sZWFuIHtcclxuICBjb25zdCBhdHRlbXB0SGFzaCA9IHBia2RmMi5wYmtkZjJTeW5jKFxyXG4gICAgcGFzc3dvcmQsXHJcbiAgICB1c2VyLnNhbHQsXHJcbiAgICB1c2VyLml0ZXJhdGlvbnMsXHJcbiAgICB1c2VyLmtleWxlbixcclxuICAgIHVzZXIuZGlnZXN0LFxyXG4gICk7XHJcbiAgcmV0dXJuIHVzZXIuaGFzaCA9PT0gYXR0ZW1wdEhhc2gudG9TdHJpbmcoKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUpXVCh1c2VyOiBVc2VyKTogc3RyaW5nIHtcclxuICByZXR1cm4ganNvbndlYnRva2VuLnNpZ24odXNlciwgcHJvY2Vzcy5lbnYuRVhQUkVTU19TRUNSRVQpO1xyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsYUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsTUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBZU8sU0FBU0csWUFBWUEsQ0FBQ0MsUUFBZ0IsRUFBZ0I7RUFDM0QsSUFBTUMsSUFBSSxHQUFHQyxrQkFBTSxDQUFDQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUNDLFFBQVEsQ0FBQyxRQUFRLENBQUM7RUFDdkQsSUFBTUMsVUFBVSxHQUFHLEtBQUs7RUFDeEIsSUFBTUMsTUFBTSxHQUFHLEVBQUU7RUFDakIsSUFBTUMsTUFBTSxHQUFHLFFBQVE7RUFDdkIsSUFBTUMsSUFBSSxHQUFHQyxpQkFBTSxDQUNoQkMsVUFBVSxDQUFDVixRQUFRLEVBQUVDLElBQUksRUFBRUksVUFBVSxFQUFFQyxNQUFNLEVBQUVDLE1BQU0sQ0FBQyxDQUN0REgsUUFBUSxDQUFDLENBQUM7RUFFYixPQUFPO0lBQ0xILElBQUksRUFBSkEsSUFBSTtJQUNKTyxJQUFJLEVBQUpBLElBQUk7SUFDSkgsVUFBVSxFQUFWQSxVQUFVO0lBQ1ZDLE1BQU0sRUFBTkEsTUFBTTtJQUNOQyxNQUFNLEVBQU5BO0VBQ0YsQ0FBQztBQUNIO0FBRU8sU0FBU0ksZUFBZUEsQ0FBQ1gsUUFBZ0IsRUFBRVksSUFBYyxFQUFXO0VBQ3pFLElBQU1DLFdBQVcsR0FBR0osaUJBQU0sQ0FBQ0MsVUFBVSxDQUNuQ1YsUUFBUSxFQUNSWSxJQUFJLENBQUNYLElBQUksRUFDVFcsSUFBSSxDQUFDUCxVQUFVLEVBQ2ZPLElBQUksQ0FBQ04sTUFBTSxFQUNYTSxJQUFJLENBQUNMLE1BQ1AsQ0FBQztFQUNELE9BQU9LLElBQUksQ0FBQ0osSUFBSSxLQUFLSyxXQUFXLENBQUNULFFBQVEsQ0FBQyxDQUFDO0FBQzdDO0FBRU8sU0FBU1UsU0FBU0EsQ0FBQ0YsSUFBVSxFQUFVO0VBQzVDLE9BQU9HLHdCQUFZLENBQUNDLElBQUksQ0FBQ0osSUFBSSxFQUFFSyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsY0FBYyxDQUFDO0FBQzVEIn0=","map":{"version":3,"names":["_crypto","_interopRequireDefault","require","_jsonwebtoken","_pbkdf","hashPassword","password","salt","crypto","randomBytes","toString","iterations","keylen","digest","hash","pbkdf2","pbkdf2Sync","passwordIsValid","user","attemptHash","createJWT","jsonwebtoken","sign","process","env","EXPRESS_SECRET"],"sourceRoot":"C:\\Users\\kasti\\workspace\\REACT-QUERY\\base-lazy-days\\server\\src\\","sources":["auth.ts"],"sourcesContent":["import crypto from 'crypto';\r\nimport jsonwebtoken from 'jsonwebtoken';\r\nimport pbkdf2 from 'pbkdf2';\r\n\r\nimport { NewUser, User } from '../../shared/types';\r\n\r\nexport interface PasswordHash {\r\n  salt: string;\r\n  hash: string;\r\n  iterations: number;\r\n  keylen: number;\r\n  digest: string;\r\n}\r\n\r\nexport type NewAuthUser = NewUser & PasswordHash;\r\nexport type AuthUser = User & PasswordHash;\r\n\r\nexport function hashPassword(password: string): PasswordHash {\r\n  const salt = crypto.randomBytes(128).toString('base64');\r\n  const iterations = 10000;\r\n  const keylen = 64;\r\n  const digest = 'sha512';\r\n  const hash = pbkdf2\r\n    .pbkdf2Sync(password, salt, iterations, keylen, digest)\r\n    .toString();\r\n\r\n  return {\r\n    salt,\r\n    hash,\r\n    iterations,\r\n    keylen,\r\n    digest,\r\n  };\r\n}\r\n\r\nexport function passwordIsValid(password: string, user: AuthUser): boolean {\r\n  const attemptHash = pbkdf2.pbkdf2Sync(\r\n    password,\r\n    user.salt,\r\n    user.iterations,\r\n    user.keylen,\r\n    user.digest,\r\n  );\r\n  return user.hash === attemptHash.toString();\r\n}\r\n\r\nexport function createJWT(user: User): string {\r\n  return jsonwebtoken.sign(user, process.env.EXPRESS_SECRET);\r\n}\r\n"],"mappings":";;;;;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,aAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,MAAA,GAAAH,sBAAA,CAAAC,OAAA;AAeO,SAASG,YAAYA,CAACC,QAAgB,EAAgB;EAC3D,IAAMC,IAAI,GAAGC,kBAAM,CAACC,WAAW,CAAC,GAAG,CAAC,CAACC,QAAQ,CAAC,QAAQ,CAAC;EACvD,IAAMC,UAAU,GAAG,KAAK;EACxB,IAAMC,MAAM,GAAG,EAAE;EACjB,IAAMC,MAAM,GAAG,QAAQ;EACvB,IAAMC,IAAI,GAAGC,iBAAM,CAChBC,UAAU,CAACV,QAAQ,EAAEC,IAAI,EAAEI,UAAU,EAAEC,MAAM,EAAEC,MAAM,CAAC,CACtDH,QAAQ,CAAC,CAAC;EAEb,OAAO;IACLH,IAAI,EAAJA,IAAI;IACJO,IAAI,EAAJA,IAAI;IACJH,UAAU,EAAVA,UAAU;IACVC,MAAM,EAANA,MAAM;IACNC,MAAM,EAANA;EACF,CAAC;AACH;AAEO,SAASI,eAAeA,CAACX,QAAgB,EAAEY,IAAc,EAAW;EACzE,IAAMC,WAAW,GAAGJ,iBAAM,CAACC,UAAU,CACnCV,QAAQ,EACRY,IAAI,CAACX,IAAI,EACTW,IAAI,CAACP,UAAU,EACfO,IAAI,CAACN,MAAM,EACXM,IAAI,CAACL,MACP,CAAC;EACD,OAAOK,IAAI,CAACJ,IAAI,KAAKK,WAAW,CAACT,QAAQ,CAAC,CAAC;AAC7C;AAEO,SAASU,SAASA,CAACF,IAAU,EAAU;EAC5C,OAAOG,wBAAY,CAACC,IAAI,CAACJ,IAAI,EAAEK,OAAO,CAACC,GAAG,CAACC,cAAc,CAAC;AAC5D"}},"mtime":1679227220376},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\db-func\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"filename\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\db-func\\\\appointmentUtils.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createAppointments = createAppointments;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _dayjs = _interopRequireDefault(require(\"dayjs\"));\nvar _ = _interopRequireDefault(require(\".\"));\n/* eslint-disable no-plusplus */\n/* eslint-disable max-lines-per-function */\n\n// utility function to make unpadded month/date numbers into padded\nfunction padNum(num) {\n  return num.toString().length === 1 ? \"0\".concat(num) : num.toString();\n}\n\n// utility function to make appointment from date and treatment type\nfunction makeAppointment(treatmentName, dateTime, existingAppointmentsById) {\n  var id = Number((0, _dayjs[\"default\"])(dateTime).unix());\n\n  // if the appointment is filled, don't make the recurring appointment\n  if (existingAppointmentsById[id]) return existingAppointmentsById[id];\n\n  // otherwise, make the recurring appointment\n  var appointment = {\n    id: id,\n    dateTime: dateTime.toDate(),\n    treatmentName: treatmentName\n  };\n\n  // assign some appointments as filled by nonexistent \"user 100\" based on datetime mod\n  if (Math.floor(Math.random() * 10) % 3 === 0) appointment.userId = 100;\n  return appointment;\n}\n\n// generate an appointments object with recurring appointments and add to db\n// (if not already there)\n// Meant to be run on server startup\nfunction createAppointments() {\n  return _createAppointments.apply(this, arguments);\n}\nfunction _createAppointments() {\n  _createAppointments = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n    var existingAppointments, existingAppointmentsById, allAppointments, month, year, monthsFromNow, monthString, startDate, lastDate, i, dayNum, thisDate, dayofWeek;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // eslint-disable-next-line no-console\n          console.log('Creating appointments...');\n          _context.next = 3;\n          return _[\"default\"].getAppointments();\n        case 3:\n          existingAppointments = _context.sent;\n          // make a map of appointments by id for easy access;\n          existingAppointmentsById = {};\n          existingAppointments.forEach(function (a) {\n            existingAppointmentsById[a.id] = a;\n          });\n          allAppointments = []; // start with today\n          month = (0, _dayjs[\"default\"])().month();\n          year = (0, _dayjs[\"default\"])().year(); // do this for three months; dayjs 0-indexes its months, hence starting at 1\n          monthsFromNow = 1;\n        case 10:\n          if (!(monthsFromNow < 4)) {\n            _context.next = 44;\n            break;\n          }\n          // make sure month is two digits;\n          monthString = padNum(month + monthsFromNow);\n          startDate = (0, _dayjs[\"default\"])(\"\".concat(year).concat(monthString, \"01\"));\n          lastDate = Number(startDate.endOf('month').format('DD'));\n          i = 0;\n        case 15:\n          if (!(i < lastDate)) {\n            _context.next = 41;\n            break;\n          }\n          dayNum = i + 1;\n          thisDate = (0, _dayjs[\"default\"])(\"\".concat(year).concat(monthString).concat(padNum(dayNum)));\n          dayofWeek = Number(thisDate.format('d'));\n          _context.t0 = dayofWeek;\n          _context.next = _context.t0 === 1 ? 22 : _context.t0 === 2 ? 25 : _context.t0 === 3 ? 28 : _context.t0 === 4 ? 31 : _context.t0 === 5 ? 34 : 37;\n          break;\n        case 22:\n          // Mondays: massage 10am, facial 2pm\n          allAppointments.push(makeAppointment('massage', thisDate.clone().add(10, 'hours'), existingAppointmentsById));\n          allAppointments.push(makeAppointment('facial', thisDate.clone().add(14, 'hours'), existingAppointmentsById));\n          return _context.abrupt(\"break\", 38);\n        case 25:\n          // Tuesdays: scrub 1pm, massage 3pm\n          allAppointments.push(makeAppointment('scrub', thisDate.clone().add(13, 'hours'), existingAppointmentsById));\n          allAppointments.push(makeAppointment('massage', thisDate.clone().add(15, 'hours'), existingAppointmentsById));\n          return _context.abrupt(\"break\", 38);\n        case 28:\n          // Wednesdays: facial: 11am, scrub 4pm\n          allAppointments.push(makeAppointment('facial', thisDate.clone().add(11, 'hours'), existingAppointmentsById));\n          allAppointments.push(makeAppointment('scrub', thisDate.clone().add(16, 'hours'), existingAppointmentsById));\n          return _context.abrupt(\"break\", 38);\n        case 31:\n          // Thursdays: scrub: 9am, scrub 1pm\n          allAppointments.push(makeAppointment('scrub', thisDate.clone().add(9, 'hours'), existingAppointmentsById));\n          allAppointments.push(makeAppointment('scrub', thisDate.clone().add(13, 'hours'), existingAppointmentsById));\n          return _context.abrupt(\"break\", 38);\n        case 34:\n          // Fridays: massage: 1pm, massage 3pm\n          allAppointments.push(makeAppointment('massage', thisDate.clone().add(13, 'hours'), existingAppointmentsById));\n          allAppointments.push(makeAppointment('massage', thisDate.clone().add(15, 'hours'), existingAppointmentsById));\n          return _context.abrupt(\"break\", 38);\n        case 37:\n          return _context.abrupt(\"break\", 38);\n        case 38:\n          i++;\n          _context.next = 15;\n          break;\n        case 41:\n          monthsFromNow++;\n          _context.next = 10;\n          break;\n        case 44:\n          _context.next = 46;\n          return _[\"default\"].writeAppointments(allAppointments);\n        case 46:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _createAppointments.apply(this, arguments);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGF5anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl8iLCJwYWROdW0iLCJudW0iLCJ0b1N0cmluZyIsImxlbmd0aCIsImNvbmNhdCIsIm1ha2VBcHBvaW50bWVudCIsInRyZWF0bWVudE5hbWUiLCJkYXRlVGltZSIsImV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZCIsImlkIiwiTnVtYmVyIiwiZGF5anMiLCJ1bml4IiwiYXBwb2ludG1lbnQiLCJ0b0RhdGUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ1c2VySWQiLCJjcmVhdGVBcHBvaW50bWVudHMiLCJfY3JlYXRlQXBwb2ludG1lbnRzIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsImV4aXN0aW5nQXBwb2ludG1lbnRzIiwiYWxsQXBwb2ludG1lbnRzIiwibW9udGgiLCJ5ZWFyIiwibW9udGhzRnJvbU5vdyIsIm1vbnRoU3RyaW5nIiwic3RhcnREYXRlIiwibGFzdERhdGUiLCJpIiwiZGF5TnVtIiwidGhpc0RhdGUiLCJkYXlvZldlZWsiLCJ3cmFwIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwiY29uc29sZSIsImxvZyIsImRiIiwiZ2V0QXBwb2ludG1lbnRzIiwic2VudCIsImZvckVhY2giLCJhIiwiZW5kT2YiLCJmb3JtYXQiLCJ0MCIsInB1c2giLCJjbG9uZSIsImFkZCIsImFicnVwdCIsIndyaXRlQXBwb2ludG1lbnRzIiwic3RvcCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxrYXN0aVxcd29ya3NwYWNlXFxSRUFDVC1RVUVSWVxcYmFzZS1sYXp5LWRheXNcXHNlcnZlclxcc3JjXFxkYi1mdW5jXFwiLCJzb3VyY2VzIjpbImFwcG9pbnRtZW50VXRpbHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tcGx1c3BsdXMgKi9cclxuLyogZXNsaW50LWRpc2FibGUgbWF4LWxpbmVzLXBlci1mdW5jdGlvbiAqL1xyXG5pbXBvcnQgZGF5anMgZnJvbSAnZGF5anMnO1xyXG5cclxuaW1wb3J0IHsgQXBwb2ludG1lbnQgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdHlwZXMnO1xyXG5pbXBvcnQgZGIgZnJvbSAnLic7XHJcblxyXG4vLyB1dGlsaXR5IGZ1bmN0aW9uIHRvIG1ha2UgdW5wYWRkZWQgbW9udGgvZGF0ZSBudW1iZXJzIGludG8gcGFkZGVkXHJcbmZ1bmN0aW9uIHBhZE51bShudW06IG51bWJlciB8IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIG51bS50b1N0cmluZygpLmxlbmd0aCA9PT0gMSA/IGAwJHtudW19YCA6IG51bS50b1N0cmluZygpO1xyXG59XHJcblxyXG4vLyB1dGlsaXR5IGZ1bmN0aW9uIHRvIG1ha2UgYXBwb2ludG1lbnQgZnJvbSBkYXRlIGFuZCB0cmVhdG1lbnQgdHlwZVxyXG5mdW5jdGlvbiBtYWtlQXBwb2ludG1lbnQoXHJcbiAgdHJlYXRtZW50TmFtZTogc3RyaW5nLFxyXG4gIGRhdGVUaW1lOiBkYXlqcy5EYXlqcyxcclxuICBleGlzdGluZ0FwcG9pbnRtZW50c0J5SWQ6IFJlY29yZDxudW1iZXIsIEFwcG9pbnRtZW50PixcclxuKTogQXBwb2ludG1lbnQge1xyXG4gIGNvbnN0IGlkID0gTnVtYmVyKGRheWpzKGRhdGVUaW1lKS51bml4KCkpO1xyXG5cclxuICAvLyBpZiB0aGUgYXBwb2ludG1lbnQgaXMgZmlsbGVkLCBkb24ndCBtYWtlIHRoZSByZWN1cnJpbmcgYXBwb2ludG1lbnRcclxuICBpZiAoZXhpc3RpbmdBcHBvaW50bWVudHNCeUlkW2lkXSkgcmV0dXJuIGV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZFtpZF07XHJcblxyXG4gIC8vIG90aGVyd2lzZSwgbWFrZSB0aGUgcmVjdXJyaW5nIGFwcG9pbnRtZW50XHJcbiAgY29uc3QgYXBwb2ludG1lbnQ6IEFwcG9pbnRtZW50ID0ge1xyXG4gICAgaWQsXHJcbiAgICBkYXRlVGltZTogZGF0ZVRpbWUudG9EYXRlKCksXHJcbiAgICB0cmVhdG1lbnROYW1lLFxyXG4gIH07XHJcblxyXG4gIC8vIGFzc2lnbiBzb21lIGFwcG9pbnRtZW50cyBhcyBmaWxsZWQgYnkgbm9uZXhpc3RlbnQgXCJ1c2VyIDEwMFwiIGJhc2VkIG9uIGRhdGV0aW1lIG1vZFxyXG4gIGlmIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCkgJSAzID09PSAwKSBhcHBvaW50bWVudC51c2VySWQgPSAxMDA7XHJcblxyXG4gIHJldHVybiBhcHBvaW50bWVudDtcclxufVxyXG5cclxuLy8gZ2VuZXJhdGUgYW4gYXBwb2ludG1lbnRzIG9iamVjdCB3aXRoIHJlY3VycmluZyBhcHBvaW50bWVudHMgYW5kIGFkZCB0byBkYlxyXG4vLyAoaWYgbm90IGFscmVhZHkgdGhlcmUpXHJcbi8vIE1lYW50IHRvIGJlIHJ1biBvbiBzZXJ2ZXIgc3RhcnR1cFxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQXBwb2ludG1lbnRzKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXHJcbiAgY29uc29sZS5sb2coJ0NyZWF0aW5nIGFwcG9pbnRtZW50cy4uLicpO1xyXG4gIGNvbnN0IGV4aXN0aW5nQXBwb2ludG1lbnRzID0gYXdhaXQgZGIuZ2V0QXBwb2ludG1lbnRzKCk7XHJcblxyXG4gIC8vIG1ha2UgYSBtYXAgb2YgYXBwb2ludG1lbnRzIGJ5IGlkIGZvciBlYXN5IGFjY2VzcztcclxuICBjb25zdCBleGlzdGluZ0FwcG9pbnRtZW50c0J5SWQgPSB7fTtcclxuICBleGlzdGluZ0FwcG9pbnRtZW50cy5mb3JFYWNoKChhKSA9PiB7XHJcbiAgICBleGlzdGluZ0FwcG9pbnRtZW50c0J5SWRbYS5pZF0gPSBhO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBhbGxBcHBvaW50bWVudHM6IEFwcG9pbnRtZW50W10gPSBbXTtcclxuXHJcbiAgLy8gc3RhcnQgd2l0aCB0b2RheVxyXG4gIGNvbnN0IG1vbnRoID0gZGF5anMoKS5tb250aCgpO1xyXG4gIGNvbnN0IHllYXIgPSBkYXlqcygpLnllYXIoKTtcclxuXHJcbiAgLy8gZG8gdGhpcyBmb3IgdGhyZWUgbW9udGhzOyBkYXlqcyAwLWluZGV4ZXMgaXRzIG1vbnRocywgaGVuY2Ugc3RhcnRpbmcgYXQgMVxyXG4gIGZvciAobGV0IG1vbnRoc0Zyb21Ob3cgPSAxOyBtb250aHNGcm9tTm93IDwgNDsgbW9udGhzRnJvbU5vdysrKSB7XHJcbiAgICAvLyBtYWtlIHN1cmUgbW9udGggaXMgdHdvIGRpZ2l0cztcclxuICAgIGNvbnN0IG1vbnRoU3RyaW5nID0gcGFkTnVtKG1vbnRoICsgbW9udGhzRnJvbU5vdyk7XHJcbiAgICBjb25zdCBzdGFydERhdGUgPSBkYXlqcyhgJHt5ZWFyfSR7bW9udGhTdHJpbmd9MDFgKTtcclxuICAgIGNvbnN0IGxhc3REYXRlID0gTnVtYmVyKHN0YXJ0RGF0ZS5lbmRPZignbW9udGgnKS5mb3JtYXQoJ0REJykpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGFzdERhdGU7IGkrKykge1xyXG4gICAgICBjb25zdCBkYXlOdW0gPSBpICsgMTtcclxuICAgICAgY29uc3QgdGhpc0RhdGUgPSBkYXlqcyhgJHt5ZWFyfSR7bW9udGhTdHJpbmd9JHtwYWROdW0oZGF5TnVtKX1gKTtcclxuICAgICAgY29uc3QgZGF5b2ZXZWVrID0gTnVtYmVyKHRoaXNEYXRlLmZvcm1hdCgnZCcpKTtcclxuICAgICAgc3dpdGNoIChkYXlvZldlZWspIHtcclxuICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAvLyBNb25kYXlzOiBtYXNzYWdlIDEwYW0sIGZhY2lhbCAycG1cclxuICAgICAgICAgIGFsbEFwcG9pbnRtZW50cy5wdXNoKFxyXG4gICAgICAgICAgICBtYWtlQXBwb2ludG1lbnQoXHJcbiAgICAgICAgICAgICAgJ21hc3NhZ2UnLFxyXG4gICAgICAgICAgICAgIHRoaXNEYXRlLmNsb25lKCkuYWRkKDEwLCAnaG91cnMnKSxcclxuICAgICAgICAgICAgICBleGlzdGluZ0FwcG9pbnRtZW50c0J5SWQsXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgYWxsQXBwb2ludG1lbnRzLnB1c2goXHJcbiAgICAgICAgICAgIG1ha2VBcHBvaW50bWVudChcclxuICAgICAgICAgICAgICAnZmFjaWFsJyxcclxuICAgICAgICAgICAgICB0aGlzRGF0ZS5jbG9uZSgpLmFkZCgxNCwgJ2hvdXJzJyksXHJcbiAgICAgICAgICAgICAgZXhpc3RpbmdBcHBvaW50bWVudHNCeUlkLFxyXG4gICAgICAgICAgICApLFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgIC8vIFR1ZXNkYXlzOiBzY3J1YiAxcG0sIG1hc3NhZ2UgM3BtXHJcbiAgICAgICAgICBhbGxBcHBvaW50bWVudHMucHVzaChcclxuICAgICAgICAgICAgbWFrZUFwcG9pbnRtZW50KFxyXG4gICAgICAgICAgICAgICdzY3J1YicsXHJcbiAgICAgICAgICAgICAgdGhpc0RhdGUuY2xvbmUoKS5hZGQoMTMsICdob3VycycpLFxyXG4gICAgICAgICAgICAgIGV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZCxcclxuICAgICAgICAgICAgKSxcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBhbGxBcHBvaW50bWVudHMucHVzaChcclxuICAgICAgICAgICAgbWFrZUFwcG9pbnRtZW50KFxyXG4gICAgICAgICAgICAgICdtYXNzYWdlJyxcclxuICAgICAgICAgICAgICB0aGlzRGF0ZS5jbG9uZSgpLmFkZCgxNSwgJ2hvdXJzJyksXHJcbiAgICAgICAgICAgICAgZXhpc3RpbmdBcHBvaW50bWVudHNCeUlkLFxyXG4gICAgICAgICAgICApLFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgIC8vIFdlZG5lc2RheXM6IGZhY2lhbDogMTFhbSwgc2NydWIgNHBtXHJcbiAgICAgICAgICBhbGxBcHBvaW50bWVudHMucHVzaChcclxuICAgICAgICAgICAgbWFrZUFwcG9pbnRtZW50KFxyXG4gICAgICAgICAgICAgICdmYWNpYWwnLFxyXG4gICAgICAgICAgICAgIHRoaXNEYXRlLmNsb25lKCkuYWRkKDExLCAnaG91cnMnKSxcclxuICAgICAgICAgICAgICBleGlzdGluZ0FwcG9pbnRtZW50c0J5SWQsXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgYWxsQXBwb2ludG1lbnRzLnB1c2goXHJcbiAgICAgICAgICAgIG1ha2VBcHBvaW50bWVudChcclxuICAgICAgICAgICAgICAnc2NydWInLFxyXG4gICAgICAgICAgICAgIHRoaXNEYXRlLmNsb25lKCkuYWRkKDE2LCAnaG91cnMnKSxcclxuICAgICAgICAgICAgICBleGlzdGluZ0FwcG9pbnRtZW50c0J5SWQsXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgLy8gVGh1cnNkYXlzOiBzY3J1YjogOWFtLCBzY3J1YiAxcG1cclxuICAgICAgICAgIGFsbEFwcG9pbnRtZW50cy5wdXNoKFxyXG4gICAgICAgICAgICBtYWtlQXBwb2ludG1lbnQoXHJcbiAgICAgICAgICAgICAgJ3NjcnViJyxcclxuICAgICAgICAgICAgICB0aGlzRGF0ZS5jbG9uZSgpLmFkZCg5LCAnaG91cnMnKSxcclxuICAgICAgICAgICAgICBleGlzdGluZ0FwcG9pbnRtZW50c0J5SWQsXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgYWxsQXBwb2ludG1lbnRzLnB1c2goXHJcbiAgICAgICAgICAgIG1ha2VBcHBvaW50bWVudChcclxuICAgICAgICAgICAgICAnc2NydWInLFxyXG4gICAgICAgICAgICAgIHRoaXNEYXRlLmNsb25lKCkuYWRkKDEzLCAnaG91cnMnKSxcclxuICAgICAgICAgICAgICBleGlzdGluZ0FwcG9pbnRtZW50c0J5SWQsXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgLy8gRnJpZGF5czogbWFzc2FnZTogMXBtLCBtYXNzYWdlIDNwbVxyXG4gICAgICAgICAgYWxsQXBwb2ludG1lbnRzLnB1c2goXHJcbiAgICAgICAgICAgIG1ha2VBcHBvaW50bWVudChcclxuICAgICAgICAgICAgICAnbWFzc2FnZScsXHJcbiAgICAgICAgICAgICAgdGhpc0RhdGUuY2xvbmUoKS5hZGQoMTMsICdob3VycycpLFxyXG4gICAgICAgICAgICAgIGV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZCxcclxuICAgICAgICAgICAgKSxcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICBhbGxBcHBvaW50bWVudHMucHVzaChcclxuICAgICAgICAgICAgbWFrZUFwcG9pbnRtZW50KFxyXG4gICAgICAgICAgICAgICdtYXNzYWdlJyxcclxuICAgICAgICAgICAgICB0aGlzRGF0ZS5jbG9uZSgpLmFkZCgxNSwgJ2hvdXJzJyksXHJcbiAgICAgICAgICAgICAgZXhpc3RpbmdBcHBvaW50bWVudHNCeUlkLFxyXG4gICAgICAgICAgICApLFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBhd2FpdCBkYi53cml0ZUFwcG9pbnRtZW50cyhhbGxBcHBvaW50bWVudHMpO1xyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBR0EsSUFBQUMs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","map":{"version":3,"names":["_dayjs","_interopRequireDefault","require","_","padNum","num","toString","length","concat","makeAppointment","treatmentName","dateTime","existingAppointmentsById","id","Number","dayjs","unix","appointment","toDate","Math","floor","random","userId","createAppointments","_createAppointments","apply","arguments","_asyncToGenerator2","_regenerator","mark","_callee","existingAppointments","allAppointments","month","year","monthsFromNow","monthString","startDate","lastDate","i","dayNum","thisDate","dayofWeek","wrap","_callee$","_context","prev","next","console","log","db","getAppointments","sent","forEach","a","endOf","format","t0","push","clone","add","abrupt","writeAppointments","stop"],"sourceRoot":"C:\\Users\\kasti\\workspace\\REACT-QUERY\\base-lazy-days\\server\\src\\db-func\\","sources":["appointmentUtils.ts"],"sourcesContent":["/* eslint-disable no-plusplus */\r\n/* eslint-disable max-lines-per-function */\r\nimport dayjs from 'dayjs';\r\n\r\nimport { Appointment } from '../../../shared/types';\r\nimport db from '.';\r\n\r\n// utility function to make unpadded month/date numbers into padded\r\nfunction padNum(num: number | string): string {\r\n  return num.toString().length === 1 ? `0${num}` : num.toString();\r\n}\r\n\r\n// utility function to make appointment from date and treatment type\r\nfunction makeAppointment(\r\n  treatmentName: string,\r\n  dateTime: dayjs.Dayjs,\r\n  existingAppointmentsById: Record<number, Appointment>,\r\n): Appointment {\r\n  const id = Number(dayjs(dateTime).unix());\r\n\r\n  // if the appointment is filled, don't make the recurring appointment\r\n  if (existingAppointmentsById[id]) return existingAppointmentsById[id];\r\n\r\n  // otherwise, make the recurring appointment\r\n  const appointment: Appointment = {\r\n    id,\r\n    dateTime: dateTime.toDate(),\r\n    treatmentName,\r\n  };\r\n\r\n  // assign some appointments as filled by nonexistent \"user 100\" based on datetime mod\r\n  if (Math.floor(Math.random() * 10) % 3 === 0) appointment.userId = 100;\r\n\r\n  return appointment;\r\n}\r\n\r\n// generate an appointments object with recurring appointments and add to db\r\n// (if not already there)\r\n// Meant to be run on server startup\r\nexport async function createAppointments(): Promise<void> {\r\n  // eslint-disable-next-line no-console\r\n  console.log('Creating appointments...');\r\n  const existingAppointments = await db.getAppointments();\r\n\r\n  // make a map of appointments by id for easy access;\r\n  const existingAppointmentsById = {};\r\n  existingAppointments.forEach((a) => {\r\n    existingAppointmentsById[a.id] = a;\r\n  });\r\n\r\n  const allAppointments: Appointment[] = [];\r\n\r\n  // start with today\r\n  const month = dayjs().month();\r\n  const year = dayjs().year();\r\n\r\n  // do this for three months; dayjs 0-indexes its months, hence starting at 1\r\n  for (let monthsFromNow = 1; monthsFromNow < 4; monthsFromNow++) {\r\n    // make sure month is two digits;\r\n    const monthString = padNum(month + monthsFromNow);\r\n    const startDate = dayjs(`${year}${monthString}01`);\r\n    const lastDate = Number(startDate.endOf('month').format('DD'));\r\n\r\n    for (let i = 0; i < lastDate; i++) {\r\n      const dayNum = i + 1;\r\n      const thisDate = dayjs(`${year}${monthString}${padNum(dayNum)}`);\r\n      const dayofWeek = Number(thisDate.format('d'));\r\n      switch (dayofWeek) {\r\n        case 1:\r\n          // Mondays: massage 10am, facial 2pm\r\n          allAppointments.push(\r\n            makeAppointment(\r\n              'massage',\r\n              thisDate.clone().add(10, 'hours'),\r\n              existingAppointmentsById,\r\n            ),\r\n          );\r\n          allAppointments.push(\r\n            makeAppointment(\r\n              'facial',\r\n              thisDate.clone().add(14, 'hours'),\r\n              existingAppointmentsById,\r\n            ),\r\n          );\r\n          break;\r\n        case 2:\r\n          // Tuesdays: scrub 1pm, massage 3pm\r\n          allAppointments.push(\r\n            makeAppointment(\r\n              'scrub',\r\n              thisDate.clone().add(13, 'hours'),\r\n              existingAppointmentsById,\r\n            ),\r\n          );\r\n          allAppointments.push(\r\n            makeAppointment(\r\n              'massage',\r\n              thisDate.clone().add(15, 'hours'),\r\n              existingAppointmentsById,\r\n            ),\r\n          );\r\n          break;\r\n        case 3:\r\n          // Wednesdays: facial: 11am, scrub 4pm\r\n          allAppointments.push(\r\n            makeAppointment(\r\n              'facial',\r\n              thisDate.clone().add(11, 'hours'),\r\n              existingAppointmentsById,\r\n            ),\r\n          );\r\n          allAppointments.push(\r\n            makeAppointment(\r\n              'scrub',\r\n              thisDate.clone().add(16, 'hours'),\r\n              existingAppointmentsById,\r\n            ),\r\n          );\r\n          break;\r\n        case 4:\r\n          // Thursdays: scrub: 9am, scrub 1pm\r\n          allAppointments.push(\r\n            makeAppointment(\r\n              'scrub',\r\n              thisDate.clone().add(9, 'hours'),\r\n              existingAppointmentsById,\r\n            ),\r\n          );\r\n          allAppointments.push(\r\n            makeAppointment(\r\n              'scrub',\r\n              thisDate.clone().add(13, 'hours'),\r\n              existingAppointmentsById,\r\n            ),\r\n          );\r\n          break;\r\n        case 5:\r\n          // Fridays: massage: 1pm, massage 3pm\r\n          allAppointments.push(\r\n            makeAppointment(\r\n              'massage',\r\n              thisDate.clone().add(13, 'hours'),\r\n              existingAppointmentsById,\r\n            ),\r\n          );\r\n          allAppointments.push(\r\n            makeAppointment(\r\n              'massage',\r\n              thisDate.clone().add(15, 'hours'),\r\n              existingAppointmentsById,\r\n            ),\r\n          );\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  }\r\n  await db.writeAppointments(allAppointments);\r\n}\r\n"],"mappings":"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"}},"mtime":1679227220376},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\db-func\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"filename\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\db-func\\\\index.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.filenames = exports[\"default\"] = void 0;\nexports.getAppointments = getAppointments;\nexports.getAppointmentsByMonthYear = getAppointmentsByMonthYear;\nexports.getStaff = getStaff;\nexports.getTreatments = getTreatments;\nexports.getUserById = getUserById;\nexports.getUsers = getUsers;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _dayjs = _interopRequireDefault(require(\"dayjs\"));\nvar _fastJsonPatch = _interopRequireDefault(require(\"fast-json-patch\"));\nvar _fs = require(\"fs\");\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; } // NOTE: in production this would connect to a database,\n// not JSON files. However, I didn't want to make you install\n// a particular database in order to use this app.\n//\n// This \"database\" is horribly inefficient and will be a problem\n// when Lazy Days Spa opens to hundreds of locations globally.\nvar dbPath = 'db';\nvar filenames = /*#__PURE__*/function (filenames) {\n  filenames[\"users\"] = \"users.json\";\n  filenames[\"appointments\"] = \"appointments.json\";\n  filenames[\"treatments\"] = \"treatments.json\";\n  filenames[\"staff\"] = \"staff.json\";\n  return filenames;\n}({});\n/* ****** Read from file ***** */\nexports.filenames = filenames;\nfunction getJSONfromFile(_x) {\n  return _getJSONfromFile.apply(this, arguments);\n}\n/* ****** Write to file ***** */\nfunction _getJSONfromFile() {\n  _getJSONfromFile = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(filename) {\n    var filePath, data;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          filePath = _path[\"default\"].join(dbPath, filename);\n          _context.next = 3;\n          return _fs.promises.readFile(filePath);\n        case 3:\n          data = _context.sent;\n          return _context.abrupt(\"return\", JSON.parse(data.toString()));\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _getJSONfromFile.apply(this, arguments);\n}\nfunction writeJSONToFile(_x2, _x3) {\n  return _writeJSONToFile.apply(this, arguments);\n}\n/* ****** Delete item ***** */\nfunction _writeJSONToFile() {\n  _writeJSONToFile = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(filename, data) {\n    var filePath, jsonData;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          filePath = _path[\"default\"].join(dbPath, filename);\n          jsonData = JSON.stringify(data);\n          _context2.next = 4;\n          return _fs.promises.writeFile(filePath, jsonData, {\n            flag: 'w'\n          });\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return _writeJSONToFile.apply(this, arguments);\n}\nfunction deleteItem(_x4, _x5) {\n  return _deleteItem.apply(this, arguments);\n}\n/* ****** Update item ***** */\nfunction _deleteItem() {\n  _deleteItem = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(filename, itemId) {\n    var items, foundItemArray, updatedItems;\n    return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return getJSONfromFile(filename);\n        case 3:\n          items = _context3.sent;\n          foundItemArray = items.filter(function (i) {\n            return i.id === itemId;\n          });\n          if (!(foundItemArray.length !== 1)) {\n            _context3.next = 7;\n            break;\n          }\n          throw new Error(\"Could not find item id \".concat(itemId, \" in \").concat(filename));\n        case 7:\n          updatedItems = items.filter(function (i) {\n            return i.id !== itemId;\n          });\n          _context3.next = 10;\n          return writeJSONToFile(filename, updatedItems);\n        case 10:\n          return _context3.abrupt(\"return\", itemId);\n        case 13:\n          _context3.prev = 13;\n          _context3.t0 = _context3[\"catch\"](0);\n          throw new Error(\"Could not delete item id \".concat(itemId, \" from \").concat(filename, \": \").concat(_context3.t0));\n        case 16:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 13]]);\n  }));\n  return _deleteItem.apply(this, arguments);\n}\nvar applyPatch = _fastJsonPatch[\"default\"].applyPatch;\n// eslint-disable-next-line max-lines-per-function\nfunction updateItem(_x6, _x7, _x8) {\n  return _updateItem.apply(this, arguments);\n}\nfunction _updateItem() {\n  _updateItem = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(itemId, filename,\n  // should be fast-json-patch Operation, but I can't destructure on import\n  itemPatch) {\n    var items, foundItems, updatedData;\n    return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _context4.next = 3;\n          return getJSONfromFile(filename);\n        case 3:\n          items = _context4.sent;\n          // find the item\n          foundItems = items.filter(function (item) {\n            return item.id === itemId;\n          });\n          if (!(foundItems.length !== 1)) {\n            _context4.next = 7;\n            break;\n          }\n          throw new Error(\"Could not find item with id \".concat(itemId));\n        case 7:\n          // apply the patch\n          updatedData = applyPatch(foundItems[0], itemPatch).newDocument; // write the new item data. Note: this whole function is horribly inefficient and\n          // would be much improved with a real db.\n          items.forEach(function (item, i) {\n            if (item.id === itemId) {\n              items[i] = updatedData;\n            }\n          });\n          _context4.next = 11;\n          return writeJSONToFile(filename, items);\n        case 11:\n          return _context4.abrupt(\"return\", updatedData);\n        case 14:\n          _context4.prev = 14;\n          _context4.t0 = _context4[\"catch\"](0);\n          throw new Error(\"Could not delete item id \".concat(itemId, \" from \").concat(filename, \": \").concat(_context4.t0));\n        case 17:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 14]]);\n  }));\n  return _updateItem.apply(this, arguments);\n}\nfunction getAppointments() {\n  return _getAppointments.apply(this, arguments);\n}\nfunction _getAppointments() {\n  _getAppointments = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5() {\n    return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          return _context5.abrupt(\"return\", getJSONfromFile(filenames.appointments));\n        case 1:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return _getAppointments.apply(this, arguments);\n}\nfunction getAppointmentsByMonthYear(_x9, _x10) {\n  return _getAppointmentsByMonthYear.apply(this, arguments);\n}\nfunction _getAppointmentsByMonthYear() {\n  _getAppointmentsByMonthYear = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(month, year) {\n    var appointmentDateMap, allAppointments;\n    return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          // yet another place where inefficiency is ridiculous compared to a real db\n          appointmentDateMap = {};\n          _context6.next = 3;\n          return getAppointments();\n        case 3:\n          allAppointments = _context6.sent;\n          // filter data and massage into format expected by client\n          allAppointments.forEach(function (appointment) {\n            var appointmentDate = (0, _dayjs[\"default\"])(appointment.dateTime);\n            if (\n            // zero-indexed month\n            appointmentDate.month() + 1 === Number(month) && appointmentDate.year() === Number(year)) {\n              var dayNum = (0, _dayjs[\"default\"])(appointment.dateTime).date();\n              if (appointmentDateMap[dayNum]) {\n                appointmentDateMap[dayNum].push(appointment);\n              } else {\n                appointmentDateMap[dayNum] = [appointment];\n              }\n            }\n          });\n          return _context6.abrupt(\"return\", appointmentDateMap);\n        case 6:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return _getAppointmentsByMonthYear.apply(this, arguments);\n}\nfunction getTreatments() {\n  return _getTreatments.apply(this, arguments);\n}\nfunction _getTreatments() {\n  _getTreatments = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee7() {\n    return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          return _context7.abrupt(\"return\", getJSONfromFile(filenames.treatments));\n        case 1:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7);\n  }));\n  return _getTreatments.apply(this, arguments);\n}\nfunction getStaff() {\n  return _getStaff.apply(this, arguments);\n}\nfunction _getStaff() {\n  _getStaff = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee8() {\n    return _regenerator[\"default\"].wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          return _context8.abrupt(\"return\", getJSONfromFile(filenames.staff));\n        case 1:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8);\n  }));\n  return _getStaff.apply(this, arguments);\n}\nfunction getUsers() {\n  return getJSONfromFile(filenames.users);\n}\nfunction getUserById(_x11) {\n  return _getUserById.apply(this, arguments);\n}\n/* ****** Add new user ***** */\nfunction _getUserById() {\n  _getUserById = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee9(userId) {\n    var users, userData;\n    return _regenerator[\"default\"].wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.next = 2;\n          return getUsers();\n        case 2:\n          users = _context9.sent;\n          userData = users.filter(function (u) {\n            return u.id === userId;\n          });\n          if (!(userData.length < 1)) {\n            _context9.next = 6;\n            break;\n          }\n          throw new Error('user not found');\n        case 6:\n          if (!(userData.length < 1)) {\n            _context9.next = 8;\n            break;\n          }\n          throw new Error('duplicate user found');\n        case 8:\n          return _context9.abrupt(\"return\", userData[0]);\n        case 9:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9);\n  }));\n  return _getUserById.apply(this, arguments);\n}\nfunction addUser(_x12) {\n  return _addUser.apply(this, arguments);\n}\n/* ****** Add new appoinment ***** */\nfunction _addUser() {\n  _addUser = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee10(newUserData) {\n    var users, ids, maxId, newUserId, newUser;\n    return _regenerator[\"default\"].wrap(function _callee10$(_context10) {\n      while (1) switch (_context10.prev = _context10.next) {\n        case 0:\n          _context10.next = 2;\n          return getUsers();\n        case 2:\n          users = _context10.sent;\n          // get the max id from the existing ids\n          ids = Object.values(users).map(function (u) {\n            return u.id;\n          });\n          maxId = ids.reduce(function (tempMaxId, itemId) {\n            return itemId > tempMaxId ? itemId : tempMaxId;\n          }, 0); // the new user will have an id of the max id plus 1\n          newUserId = maxId + 1;\n          newUser = _objectSpread(_objectSpread({}, newUserData), {}, {\n            id: newUserId\n          });\n          _context10.next = 9;\n          return writeJSONToFile(filenames.users, [].concat((0, _toConsumableArray2[\"default\"])(users), [newUser]));\n        case 9:\n          return _context10.abrupt(\"return\", newUser);\n        case 10:\n        case \"end\":\n          return _context10.stop();\n      }\n    }, _callee10);\n  }));\n  return _addUser.apply(this, arguments);\n}\nfunction writeAppointments(_x13) {\n  return _writeAppointments.apply(this, arguments);\n}\nfunction _writeAppointments() {\n  _writeAppointments = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee11(newAppointmentsArray) {\n    return _regenerator[\"default\"].wrap(function _callee11$(_context11) {\n      while (1) switch (_context11.prev = _context11.next) {\n        case 0:\n          _context11.next = 2;\n          return writeJSONToFile(filenames.appointments, newAppointmentsArray);\n        case 2:\n        case \"end\":\n          return _context11.stop();\n      }\n    }, _callee11);\n  }));\n  return _writeAppointments.apply(this, arguments);\n}\nvar _default = {\n  filenames: filenames,\n  writeAppointments: writeAppointments,\n  addUser: addUser,\n  deleteItem: deleteItem,\n  updateItem: updateItem,\n  getUsers: getUsers,\n  getUserById: getUserById,\n  getAppointments: getAppointments,\n  getAppointmentsByMonthYear: getAppointmentsByMonthYear,\n  getStaff: getStaff,\n  getTreatments: getTreatments\n};\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGF5anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9mYXN0SnNvblBhdGNoIiwiX2ZzIiwiX3BhdGgiLCJvd25LZXlzIiwib2JqZWN0IiwiZW51bWVyYWJsZU9ubHkiLCJrZXlzIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9scyIsImZpbHRlciIsInN5bSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwidGFyZ2V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNvdXJjZSIsImZvckVhY2giLCJrZXkiLCJfZGVmaW5lUHJvcGVydHkyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJkZWZpbmVQcm9wZXJ0eSIsImRiUGF0aCIsImZpbGVuYW1lcyIsImV4cG9ydHMiLCJnZXRKU09OZnJvbUZpbGUiLCJfeCIsIl9nZXRKU09OZnJvbUZpbGUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsImZpbGVuYW1lIiwiZmlsZVBhdGgiLCJkYXRhIiwid3JhcCIsIl9jYWxsZWUkIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsInBhdGgiLCJqb2luIiwiZnMiLCJyZWFkRmlsZSIsInNlbnQiLCJhYnJ1cHQiLCJKU09OIiwicGFyc2UiLCJ0b1N0cmluZyIsInN0b3AiLCJ3cml0ZUpTT05Ub0ZpbGUiLCJfeDIiLCJfeDMiLCJfd3JpdGVKU09OVG9GaWxlIiwiX2NhbGxlZTIiLCJqc29uRGF0YSIsIl9jYWxsZWUyJCIsIl9jb250ZXh0MiIsInN0cmluZ2lmeSIsIndyaXRlRmlsZSIsImZsYWciLCJkZWxldGVJdGVtIiwiX3g0IiwiX3g1IiwiX2RlbGV0ZUl0ZW0iLCJfY2FsbGVlMyIsIml0ZW1JZCIsIml0ZW1zIiwiZm91bmRJdGVtQXJyYXkiLCJ1cGRhdGVkSXRlbXMiLCJfY2FsbGVlMyQiLCJfY29udGV4dDMiLCJpZCIsIkVycm9yIiwiY29uY2F0IiwidDAiLCJhcHBseVBhdGNoIiwianNvblBhdGNoIiwidXBkYXRlSXRlbSIsIl94NiIsIl94NyIsIl94OCIsIl91cGRhdGVJdGVtIiwiX2NhbGxlZTQiLCJpdGVtUGF0Y2giLCJmb3VuZEl0ZW1zIiwidXBkYXRlZERhdGEiLCJfY2FsbGVlNCQiLCJfY29udGV4dDQiLCJpdGVtIiwibmV3RG9jdW1lbnQiLCJnZXRBcHBvaW50bWVudHMiLCJfZ2V0QXBwb2ludG1lbnRzIiwiX2NhbGxlZTUiLCJfY2FsbGVlNSQiLCJfY29udGV4dDUiLCJhcHBvaW50bWVudHMiLCJnZXRBcHBvaW50bWVudHNCeU1vbnRoWWVhciIsIl94OSIsIl94MTAiLCJfZ2V0QXBwb2ludG1lbnRzQnlNb250aFllYXIiLCJfY2FsbGVlNiIsIm1vbnRoIiwieWVhciIsImFwcG9pbnRtZW50RGF0ZU1hcCIsImFsbEFwcG9pbnRtZW50cyIsIl9jYWxsZWU2JCIsIl9jb250ZXh0NiIsImFwcG9pbnRtZW50IiwiYXBwb2ludG1lbnREYXRlIiwiZGF5anMiLCJkYXRlVGltZSIsIk51bWJlciIsImRheU51bSIsImRhdGUiLCJnZXRUcmVhdG1lbnRzIiwiX2dldFRyZWF0bWVudHMiLCJfY2FsbGVlNyIsIl9jYWxsZWU3JCIsIl9jb250ZXh0NyIsInRyZWF0bWVudHMiLCJnZXRTdGFmZiIsIl9nZXRTdGFmZiIsIl9jYWxsZWU4IiwiX2NhbGxlZTgkIiwiX2NvbnRleHQ4Iiwic3RhZmYiLCJnZXRVc2VycyIsInVzZXJzIiwiZ2V0VXNlckJ5SWQiLCJfeDExIiwiX2dldFVzZXJCeUlkIiwiX2NhbGxlZTkiLCJ1c2VySWQiLCJ1c2VyRGF0YSIsIl9jYWxsZWU5JCIsIl9jb250ZXh0OSIsInUiLCJhZGRVc2VyIiwiX3gxMiIsIl9hZGRVc2VyIiwiX2NhbGxlZTEwIiwibmV3VXNlckRhdGEiLCJpZHMiLCJtYXhJZCIsIm5ld1VzZXJJZCIsIm5ld1VzZXIiLCJfY2FsbGVlMTAkIiwiX2NvbnRleHQxMCIsInZhbHVlcyIsIm1hcCIsInJlZHVjZSIsInRlbXBNYXhJZCIsIl90b0NvbnN1bWFibGVBcnJheTIiLCJ3cml0ZUFwcG9pbnRtZW50cyIsIl94MTMiLCJfd3JpdGVBcHBvaW50bWVudHMiLCJfY2FsbGVlMTEiLCJuZXdBcHBvaW50bWVudHNBcnJheSIsIl9jYWxsZWUxMSQiLCJfY29udGV4dDExIiwiX2RlZmF1bHQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xca2FzdGlcXHdvcmtzcGFjZVxcUkVBQ1QtUVVFUllcXGJhc2UtbGF6eS1kYXlzXFxzZXJ2ZXJcXHNyY1xcZGItZnVuY1xcIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBOT1RFOiBpbiBwcm9kdWN0aW9uIHRoaXMgd291bGQgY29ubmVjdCB0byBhIGRhdGFiYXNlLFxyXG4vLyBub3QgSlNPTiBmaWxlcy4gSG93ZXZlciwgSSBkaWRuJ3Qgd2FudCB0byBtYWtlIHlvdSBpbnN0YWxsXHJcbi8vIGEgcGFydGljdWxhciBkYXRhYmFzZSBpbiBvcmRlciB0byB1c2UgdGhpcyBhcHAuXHJcbi8vXHJcbi8vIFRoaXMgXCJkYXRhYmFzZVwiIGlzIGhvcnJpYmx5IGluZWZmaWNpZW50IGFuZCB3aWxsIGJlIGEgcHJvYmxlbVxyXG4vLyB3aGVuIExhenkgRGF5cyBTcGEgb3BlbnMgdG8gaHVuZHJlZHMgb2YgbG9jYXRpb25zIGdsb2JhbGx5LlxyXG5pbXBvcnQgZGF5anMgZnJvbSAnZGF5anMnO1xyXG5pbXBvcnQganNvblBhdGNoLCB7IE9wZXJhdGlvbiB9IGZyb20gJ2Zhc3QtanNvbi1wYXRjaCc7XHJcbmltcG9ydCB7IHByb21pc2VzIGFzIGZzIH0gZnJvbSAnZnMnO1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuXHJcbmltcG9ydCB7XHJcbiAgQXBwb2ludG1lbnQsXHJcbiAgQXBwb2ludG1lbnREYXRlTWFwLFxyXG4gIFN0YWZmLFxyXG4gIFRyZWF0bWVudCxcclxufSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdHlwZXMnO1xyXG5pbXBvcnQgeyBBdXRoVXNlciwgTmV3QXV0aFVzZXIgfSBmcm9tICcuLi9hdXRoJztcclxuXHJcbnR5cGUgSnNvbkRhdGFUeXBlID0gQXV0aFVzZXIgfCBBcHBvaW50bWVudCB8IFRyZWF0bWVudCB8IFN0YWZmO1xyXG5cclxuY29uc3QgZGJQYXRoID0gJ2RiJztcclxuZXhwb3J0IGVudW0gZmlsZW5hbWVzIHtcclxuICB1c2VycyA9ICd1c2Vycy5qc29uJyxcclxuICBhcHBvaW50bWVudHMgPSAnYXBwb2ludG1lbnRzLmpzb24nLFxyXG4gIHRyZWF0bWVudHMgPSAndHJlYXRtZW50cy5qc29uJyxcclxuICBzdGFmZiA9ICdzdGFmZi5qc29uJyxcclxufVxyXG5cclxuLyogKioqKioqIFJlYWQgZnJvbSBmaWxlICoqKioqICovXHJcbmFzeW5jIGZ1bmN0aW9uIGdldEpTT05mcm9tRmlsZTxJdGVtVHlwZSBleHRlbmRzIEpzb25EYXRhVHlwZT4oXHJcbiAgZmlsZW5hbWU6IGZpbGVuYW1lcyxcclxuKTogUHJvbWlzZTxJdGVtVHlwZVtdPiB7XHJcbiAgY29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4oZGJQYXRoLCBmaWxlbmFtZSk7XHJcbiAgY29uc3QgZGF0YSA9IGF3YWl0IGZzLnJlYWRGaWxlKGZpbGVQYXRoKTtcclxuICByZXR1cm4gSlNPTi5wYXJzZShkYXRhLnRvU3RyaW5nKCkpO1xyXG59XHJcblxyXG4vKiAqKioqKiogV3JpdGUgdG8gZmlsZSAqKioqKiAqL1xyXG5hc3luYyBmdW5jdGlvbiB3cml0ZUpTT05Ub0ZpbGU8VCBleHRlbmRzIEpzb25EYXRhVHlwZT4oXHJcbiAgZmlsZW5hbWU6IGZpbGVuYW1lcyxcclxuICBkYXRhOiBBcnJheTxUPixcclxuKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgY29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4oZGJQYXRoLCBmaWxlbmFtZSk7XHJcbiAgY29uc3QganNvbkRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcclxuICBhd2FpdCBmcy53cml0ZUZpbGUoZmlsZVBhdGgsIGpzb25EYXRhLCB7IGZsYWc6ICd3JyB9KTtcclxufVxyXG5cclxuLyogKioqKioqIERlbGV0ZSBpdGVtICoqKioqICovXHJcbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUl0ZW08VCBleHRlbmRzIEpzb25EYXRhVHlwZT4oXHJcbiAgZmlsZW5hbWU6IGZpbGVuYW1lcyxcclxuICBpdGVtSWQ6IG51bWJlcixcclxuKTogUHJvbWlzZTxudW1iZXI+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgaXRlbXMgPSBhd2FpdCBnZXRKU09OZnJvbUZpbGU8VD4oZmlsZW5hbWUpO1xyXG4gICAgY29uc3QgZm91bmRJdGVtQXJyYXkgPSBpdGVtcy5maWx0ZXIoKGkpID0+IGkuaWQgPT09IGl0ZW1JZCk7XHJcbiAgICBpZiAoZm91bmRJdGVtQXJyYXkubGVuZ3RoICE9PSAxKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgaXRlbSBpZCAke2l0ZW1JZH0gaW4gJHtmaWxlbmFtZX1gKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHVwZGF0ZWRJdGVtcyA9IGl0ZW1zLmZpbHRlcigoaSkgPT4gaS5pZCAhPT0gaXRlbUlkKTtcclxuICAgIGF3YWl0IHdyaXRlSlNPTlRvRmlsZShmaWxlbmFtZSwgdXBkYXRlZEl0ZW1zKTtcclxuICAgIHJldHVybiBpdGVtSWQ7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICBgQ291bGQgbm90IGRlbGV0ZSBpdGVtIGlkICR7aXRlbUlkfSBmcm9tICR7ZmlsZW5hbWV9OiAke2V9YCxcclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG4vKiAqKioqKiogVXBkYXRlIGl0ZW0gKioqKiogKi9cclxuY29uc3QgeyBhcHBseVBhdGNoIH0gPSBqc29uUGF0Y2g7XHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGluZXMtcGVyLWZ1bmN0aW9uXHJcbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUl0ZW08RGF0YVR5cGUgZXh0ZW5kcyBKc29uRGF0YVR5cGU+KFxyXG4gIGl0ZW1JZDogbnVtYmVyLFxyXG4gIGZpbGVuYW1lOiBmaWxlbmFtZXMsXHJcbiAgLy8gc2hvdWxkIGJlIGZhc3QtanNvbi1wYXRjaCBPcGVyYXRpb24sIGJ1dCBJIGNhbid0IGRlc3RydWN0dXJlIG9uIGltcG9ydFxyXG4gIGl0ZW1QYXRjaDogT3BlcmF0aW9uW10sXHJcbik6IFByb21pc2U8RGF0YVR5cGU+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgaXRlbXMgPSBhd2FpdCBnZXRKU09OZnJvbUZpbGU8RGF0YVR5cGU+KGZpbGVuYW1lKTtcclxuXHJcbiAgICAvLyBmaW5kIHRoZSBpdGVtXHJcbiAgICBjb25zdCBmb3VuZEl0ZW1zID0gaXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkID09PSBpdGVtSWQpO1xyXG4gICAgaWYgKGZvdW5kSXRlbXMubGVuZ3RoICE9PSAxKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgaXRlbSB3aXRoIGlkICR7aXRlbUlkfWApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGFwcGx5IHRoZSBwYXRjaFxyXG4gICAgY29uc3QgdXBkYXRlZERhdGEgPSBhcHBseVBhdGNoKGZvdW5kSXRlbXNbMF0sIGl0ZW1QYXRjaCkubmV3RG9jdW1lbnQ7XHJcblxyXG4gICAgLy8gd3JpdGUgdGhlIG5ldyBpdGVtIGRhdGEuIE5vdGU6IHRoaXMgd2hvbGUgZnVuY3Rpb24gaXMgaG9ycmlibHkgaW5lZmZpY2llbnQgYW5kXHJcbiAgICAvLyB3b3VsZCBiZSBtdWNoIGltcHJvdmVkIHdpdGggYSByZWFsIGRiLlxyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSwgaSkgPT4ge1xyXG4gICAgICBpZiAoaXRlbS5pZCA9PT0gaXRlbUlkKSB7XHJcbiAgICAgICAgaXRlbXNbaV0gPSB1cGRhdGVkRGF0YTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgYXdhaXQgd3JpdGVKU09OVG9GaWxlKGZpbGVuYW1lLCBpdGVtcyk7XHJcbiAgICByZXR1cm4gdXBkYXRlZERhdGE7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICBgQ291bGQgbm90IGRlbGV0ZSBpdGVtIGlkICR7aXRlbUlkfSBmcm9tICR7ZmlsZW5hbWV9OiAke2V9YCxcclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXBwb2ludG1lbnRzKCk6IFByb21pc2U8QXBwb2ludG1lbnRbXT4ge1xyXG4gIHJldHVybiBnZXRKU09OZnJvbUZpbGU8QXBwb2ludG1lbnQ+KGZpbGVuYW1lcy5hcHBvaW50bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXBwb2ludG1lbnRzQnlNb250aFllYXIoXHJcbiAgbW9udGg6IHN0cmluZyxcclxuICB5ZWFyOiBzdHJpbmcsXHJcbik6IFByb21pc2U8QXBwb2ludG1lbnREYXRlTWFwPiB7XHJcbiAgLy8geWV0IGFub3RoZXIgcGxhY2Ugd2hlcmUgaW5lZmZpY2llbmN5IGlzIHJpZGljdWxvdXMgY29tcGFyZWQgdG8gYSByZWFsIGRiXHJcbiAgY29uc3QgYXBwb2ludG1lbnREYXRlTWFwOiBBcHBvaW50bWVudERhdGVNYXAgPSB7fTtcclxuICBjb25zdCBhbGxBcHBvaW50bWVudHMgPSBhd2FpdCBnZXRBcHBvaW50bWVudHMoKTtcclxuXHJcbiAgLy8gZmlsdGVyIGRhdGEgYW5kIG1hc3NhZ2UgaW50byBmb3JtYXQgZXhwZWN0ZWQgYnkgY2xpZW50XHJcbiAgYWxsQXBwb2ludG1lbnRzLmZvckVhY2goKGFwcG9pbnRtZW50KSA9PiB7XHJcbiAgICBjb25zdCBhcHBvaW50bWVudERhdGUgPSBkYXlqcyhhcHBvaW50bWVudC5kYXRlVGltZSk7XHJcbiAgICBpZiAoXHJcbiAgICAgIC8vIHplcm8taW5kZXhlZCBtb250aFxyXG4gICAgICBhcHBvaW50bWVudERhdGUubW9udGgoKSArIDEgPT09IE51bWJlcihtb250aCkgJiZcclxuICAgICAgYXBwb2ludG1lbnREYXRlLnllYXIoKSA9PT0gTnVtYmVyKHllYXIpXHJcbiAgICApIHtcclxuICAgICAgY29uc3QgZGF5TnVtID0gZGF5anMoYXBwb2ludG1lbnQuZGF0ZVRpbWUpLmRhdGUoKTtcclxuICAgICAgaWYgKGFwcG9pbnRtZW50RGF0ZU1hcFtkYXlOdW1dKSB7XHJcbiAgICAgICAgYXBwb2ludG1lbnREYXRlTWFwW2RheU51bV0ucHVzaChhcHBvaW50bWVudCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBwb2ludG1lbnREYXRlTWFwW2RheU51bV0gPSBbYXBwb2ludG1lbnRdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgcmV0dXJuIGFwcG9pbnRtZW50RGF0ZU1hcDtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFRyZWF0bWVudHMoKTogUHJvbWlzZTxUcmVhdG1lbnRbXT4ge1xyXG4gIHJldHVybiBnZXRKU09OZnJvbUZpbGU8VHJlYXRtZW50PihmaWxlbmFtZXMudHJlYXRtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTdGFmZigpOiBQcm9taXNlPFN0YWZmW10+IHtcclxuICByZXR1cm4gZ2V0SlNPTmZyb21GaWxlPFN0YWZmPihmaWxlbmFtZXMuc3RhZmYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlcnMoKTogUHJvbWlzZTxBdXRoVXNlcltdPiB7XHJcbiAgcmV0dXJuIGdldEpTT05mcm9tRmlsZTxBdXRoVXNlcj4oZmlsZW5hbWVzLnVzZXJzKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJCeUlkKHVzZXJJZDogbnVtYmVyKTogUHJvbWlzZTxBdXRoVXNlcj4ge1xyXG4gIGNvbnN0IHVzZXJzID0gYXdhaXQgZ2V0VXNlcnMoKTtcclxuICBjb25zdCB1c2VyRGF0YSA9IHVzZXJzLmZpbHRlcigodSkgPT4gdS5pZCA9PT0gdXNlcklkKTtcclxuICBpZiAodXNlckRhdGEubGVuZ3RoIDwgMSkgdGhyb3cgbmV3IEVycm9yKCd1c2VyIG5vdCBmb3VuZCcpO1xyXG4gIGlmICh1c2VyRGF0YS5sZW5ndGggPCAxKSB0aHJvdyBuZXcgRXJyb3IoJ2R1cGxpY2F0ZSB1c2VyIGZvdW5kJyk7XHJcbiAgcmV0dXJuIHVzZXJEYXRhWzBdO1xyXG59XHJcblxyXG4vKiAqKioqKiogQWRkIG5ldyB1c2VyICoqKioqICovXHJcbmFzeW5jIGZ1bmN0aW9uIGFkZFVzZXIobmV3VXNlckRhdGE6IE5ld0F1dGhVc2VyKTogUHJvbWlzZTxBdXRoVXNlcj4ge1xyXG4gIGNvbnN0IHVzZXJzID0gYXdhaXQgZ2V0VXNlcnMoKTtcclxuXHJcbiAgLy8gZ2V0IHRoZSBtYXggaWQgZnJvbSB0aGUgZXhpc3RpbmcgaWRzXHJcbiAgY29uc3QgaWRzOiBudW1iZXJbXSA9IE9iamVjdC52YWx1ZXModXNlcnMpLm1hcCgodSkgPT4gdS5pZCk7XHJcbiAgY29uc3QgbWF4SWQgPSBpZHMucmVkdWNlKCh0ZW1wTWF4SWQ6IG51bWJlciwgaXRlbUlkOiBudW1iZXIpID0+IHtcclxuICAgIHJldHVybiBpdGVtSWQgPiB0ZW1wTWF4SWQgPyBpdGVtSWQgOiB0ZW1wTWF4SWQ7XHJcbiAgfSwgMCk7XHJcblxyXG4gIC8vIHRoZSBuZXcgdXNlciB3aWxsIGhhdmUgYW4gaWQgb2YgdGhlIG1heCBpZCBwbHVzIDFcclxuICBjb25zdCBuZXdVc2VySWQgPSBtYXhJZCArIDE7XHJcblxyXG4gIGNvbnN0IG5ld1VzZXIgPSB7IC4uLm5ld1VzZXJEYXRhLCBpZDogbmV3VXNlcklkIH07XHJcbiAgYXdhaXQgd3JpdGVKU09OVG9GaWxlKGZpbGVuYW1lcy51c2VycywgWy4uLnVzZXJzLCBuZXdVc2VyXSk7XHJcbiAgcmV0dXJuIG5ld1VzZXI7XHJcbn1cclxuXHJcbi8qICoqKioqKiBBZGQgbmV3IGFwcG9pbm1lbnQgKioqKiogKi9cclxuYXN5bmMgZnVuY3Rpb24gd3JpdGVBcHBvaW50bWVudHMoXHJcbiAgbmV3QXBwb2ludG1lbnRzQXJyYXk6IEFwcG9pbnRtZW50W10sXHJcbik6IFByb21pc2U8dm9pZD4ge1xyXG4gIGF3YWl0IHdyaXRlSlNPTlRvRmlsZShmaWxlbmFtZXMuYXBwb2ludG1lbnRzLCBuZXdBcHBvaW50bWVudHNBcnJheSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBmaWxlbmFtZXMsXHJcbiAgd3JpdGVBcHBvaW50bWVudHMsXHJcbiAgYWRkVXNlcixcclxuICBkZWxldGVJdGVtLFxyXG4gIHVwZGF0ZUl0ZW0sXHJcbiAgZ2V0VXNlcnMsXHJcbiAgZ2V0VXNlckJ5SWQsXHJcbiAgZ2V0QXBwb2ludG1lbnRzLFxyXG4gIGdldEFwcG9pbnRtZW50c0J5TW9udGhZZWFyLFxyXG4gIGdldFN0YWZmLFxyXG4gIGdldFRyZWF0bWVudHMsXHJcbn07XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxjQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxLQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBd0IsU0FBQUksUUFBQUMsTUFBQSxFQUFBQyxjQUFBLFFBQUFDLElBQUEsR0FBQUMsTUFBQSxDQUFBRCxJQUFBLENBQUFGLE1BQUEsT0FBQUcsTUFBQSxDQUFBQyxxQkFBQSxRQUFBQyxPQUFBLEdBQUFGLE1BQUEsQ0FBQUMscUJBQUEsQ0FBQUosTUFBQSxHQUFBQyxjQUFBLEtBQUFJLE9BQUEsR0FBQUEsT0FBQSxDQUFBQyxNQUFBLFdBQUFDLEdBQUEsV0FBQUosTUFBQSxDQUFBSyx3QkFBQSxDQUFBUixNQUFBLEVBQUFPLEdBQUEs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","map":{"version":3,"names":["_dayjs","_interopRequireDefault","require","_fastJsonPatch","_fs","_path","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","dbPath","filenames","exports","getJSONfromFile","_x","_getJSONfromFile","_asyncToGenerator2","_regenerator","mark","_callee","filename","filePath","data","wrap","_callee$","_context","prev","next","path","join","fs","readFile","sent","abrupt","JSON","parse","toString","stop","writeJSONToFile","_x2","_x3","_writeJSONToFile","_callee2","jsonData","_callee2$","_context2","stringify","writeFile","flag","deleteItem","_x4","_x5","_deleteItem","_callee3","itemId","items","foundItemArray","updatedItems","_callee3$","_context3","id","Error","concat","t0","applyPatch","jsonPatch","updateItem","_x6","_x7","_x8","_updateItem","_callee4","itemPatch","foundItems","updatedData","_callee4$","_context4","item","newDocument","getAppointments","_getAppointments","_callee5","_callee5$","_context5","appointments","getAppointmentsByMonthYear","_x9","_x10","_getAppointmentsByMonthYear","_callee6","month","year","appointmentDateMap","allAppointments","_callee6$","_context6","appointment","appointmentDate","dayjs","dateTime","Number","dayNum","date","getTreatments","_getTreatments","_callee7","_callee7$","_context7","treatments","getStaff","_getStaff","_callee8","_callee8$","_context8","staff","getUsers","users","getUserById","_x11","_getUserById","_callee9","userId","userData","_callee9$","_context9","u","addUser","_x12","_addUser","_callee10","newUserData","ids","maxId","newUserId","newUser","_callee10$","_context10","values","map","reduce","tempMaxId","_toConsumableArray2","writeAppointments","_x13","_writeAppointments","_callee11","newAppointmentsArray","_callee11$","_context11","_default"],"sourceRoot":"C:\\Users\\kasti\\workspace\\REACT-QUERY\\base-lazy-days\\server\\src\\db-func\\","sources":["index.ts"],"sourcesContent":["// NOTE: in production this would connect to a database,\r\n// not JSON files. However, I didn't want to make you install\r\n// a particular database in order to use this app.\r\n//\r\n// This \"database\" is horribly inefficient and will be a problem\r\n// when Lazy Days Spa opens to hundreds of locations globally.\r\nimport dayjs from 'dayjs';\r\nimport jsonPatch, { Operation } from 'fast-json-patch';\r\nimport { promises as fs } from 'fs';\r\nimport path from 'path';\r\n\r\nimport {\r\n  Appointment,\r\n  AppointmentDateMap,\r\n  Staff,\r\n  Treatment,\r\n} from '../../../shared/types';\r\nimport { AuthUser, NewAuthUser } from '../auth';\r\n\r\ntype JsonDataType = AuthUser | Appointment | Treatment | Staff;\r\n\r\nconst dbPath = 'db';\r\nexport enum filenames {\r\n  users = 'users.json',\r\n  appointments = 'appointments.json',\r\n  treatments = 'treatments.json',\r\n  staff = 'staff.json',\r\n}\r\n\r\n/* ****** Read from file ***** */\r\nasync function getJSONfromFile<ItemType extends JsonDataType>(\r\n  filename: filenames,\r\n): Promise<ItemType[]> {\r\n  const filePath = path.join(dbPath, filename);\r\n  const data = await fs.readFile(filePath);\r\n  return JSON.parse(data.toString());\r\n}\r\n\r\n/* ****** Write to file ***** */\r\nasync function writeJSONToFile<T extends JsonDataType>(\r\n  filename: filenames,\r\n  data: Array<T>,\r\n): Promise<void> {\r\n  const filePath = path.join(dbPath, filename);\r\n  const jsonData = JSON.stringify(data);\r\n  await fs.writeFile(filePath, jsonData, { flag: 'w' });\r\n}\r\n\r\n/* ****** Delete item ***** */\r\nasync function deleteItem<T extends JsonDataType>(\r\n  filename: filenames,\r\n  itemId: number,\r\n): Promise<number> {\r\n  try {\r\n    const items = await getJSONfromFile<T>(filename);\r\n    const foundItemArray = items.filter((i) => i.id === itemId);\r\n    if (foundItemArray.length !== 1) {\r\n      throw new Error(`Could not find item id ${itemId} in ${filename}`);\r\n    }\r\n    const updatedItems = items.filter((i) => i.id !== itemId);\r\n    await writeJSONToFile(filename, updatedItems);\r\n    return itemId;\r\n  } catch (e) {\r\n    throw new Error(\r\n      `Could not delete item id ${itemId} from ${filename}: ${e}`,\r\n    );\r\n  }\r\n}\r\n\r\n/* ****** Update item ***** */\r\nconst { applyPatch } = jsonPatch;\r\n// eslint-disable-next-line max-lines-per-function\r\nasync function updateItem<DataType extends JsonDataType>(\r\n  itemId: number,\r\n  filename: filenames,\r\n  // should be fast-json-patch Operation, but I can't destructure on import\r\n  itemPatch: Operation[],\r\n): Promise<DataType> {\r\n  try {\r\n    const items = await getJSONfromFile<DataType>(filename);\r\n\r\n    // find the item\r\n    const foundItems = items.filter((item) => item.id === itemId);\r\n    if (foundItems.length !== 1) {\r\n      throw new Error(`Could not find item with id ${itemId}`);\r\n    }\r\n\r\n    // apply the patch\r\n    const updatedData = applyPatch(foundItems[0], itemPatch).newDocument;\r\n\r\n    // write the new item data. Note: this whole function is horribly inefficient and\r\n    // would be much improved with a real db.\r\n    items.forEach((item, i) => {\r\n      if (item.id === itemId) {\r\n        items[i] = updatedData;\r\n      }\r\n    });\r\n\r\n    await writeJSONToFile(filename, items);\r\n    return updatedData;\r\n  } catch (e) {\r\n    throw new Error(\r\n      `Could not delete item id ${itemId} from ${filename}: ${e}`,\r\n    );\r\n  }\r\n}\r\n\r\nexport async function getAppointments(): Promise<Appointment[]> {\r\n  return getJSONfromFile<Appointment>(filenames.appointments);\r\n}\r\n\r\nexport async function getAppointmentsByMonthYear(\r\n  month: string,\r\n  year: string,\r\n): Promise<AppointmentDateMap> {\r\n  // yet another place where inefficiency is ridiculous compared to a real db\r\n  const appointmentDateMap: AppointmentDateMap = {};\r\n  const allAppointments = await getAppointments();\r\n\r\n  // filter data and massage into format expected by client\r\n  allAppointments.forEach((appointment) => {\r\n    const appointmentDate = dayjs(appointment.dateTime);\r\n    if (\r\n      // zero-indexed month\r\n      appointmentDate.month() + 1 === Number(month) &&\r\n      appointmentDate.year() === Number(year)\r\n    ) {\r\n      const dayNum = dayjs(appointment.dateTime).date();\r\n      if (appointmentDateMap[dayNum]) {\r\n        appointmentDateMap[dayNum].push(appointment);\r\n      } else {\r\n        appointmentDateMap[dayNum] = [appointment];\r\n      }\r\n    }\r\n  });\r\n  return appointmentDateMap;\r\n}\r\n\r\nexport async function getTreatments(): Promise<Treatment[]> {\r\n  return getJSONfromFile<Treatment>(filenames.treatments);\r\n}\r\n\r\nexport async function getStaff(): Promise<Staff[]> {\r\n  return getJSONfromFile<Staff>(filenames.staff);\r\n}\r\n\r\nexport function getUsers(): Promise<AuthUser[]> {\r\n  return getJSONfromFile<AuthUser>(filenames.users);\r\n}\r\n\r\nexport async function getUserById(userId: number): Promise<AuthUser> {\r\n  const users = await getUsers();\r\n  const userData = users.filter((u) => u.id === userId);\r\n  if (userData.length < 1) throw new Error('user not found');\r\n  if (userData.length < 1) throw new Error('duplicate user found');\r\n  return userData[0];\r\n}\r\n\r\n/* ****** Add new user ***** */\r\nasync function addUser(newUserData: NewAuthUser): Promise<AuthUser> {\r\n  const users = await getUsers();\r\n\r\n  // get the max id from the existing ids\r\n  const ids: number[] = Object.values(users).map((u) => u.id);\r\n  const maxId = ids.reduce((tempMaxId: number, itemId: number) => {\r\n    return itemId > tempMaxId ? itemId : tempMaxId;\r\n  }, 0);\r\n\r\n  // the new user will have an id of the max id plus 1\r\n  const newUserId = maxId + 1;\r\n\r\n  const newUser = { ...newUserData, id: newUserId };\r\n  await writeJSONToFile(filenames.users, [...users, newUser]);\r\n  return newUser;\r\n}\r\n\r\n/* ****** Add new appoinment ***** */\r\nasync function writeAppointments(\r\n  newAppointmentsArray: Appointment[],\r\n): Promise<void> {\r\n  await writeJSONToFile(filenames.appointments, newAppointmentsArray);\r\n}\r\n\r\nexport default {\r\n  filenames,\r\n  writeAppointments,\r\n  addUser,\r\n  deleteItem,\r\n  updateItem,\r\n  getUsers,\r\n  getUserById,\r\n  getAppointments,\r\n  getAppointmentsByMonthYear,\r\n  getStaff,\r\n  getTreatments,\r\n};\r\n"],"mappings":";;;;;;;;;;;;;;;;;AAMA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,cAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,GAAA,GAAAF,OAAA;AACA,IAAAG,KAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAwB,SAAAI,QAAAC,MAAA,EAAAC,cAAA,QAAAC,IAAA,GAAAC,MAAA,CAAAD,IAAA,CAAAF,MAAA,OAAAG,MAAA,CAAAC,qBAAA,QAAAC,OAAA,GAAAF,MAAA,CAAAC,qBAAA,CAAAJ,MAAA,GAAAC,cAAA,KAAAI,OAAA,GAAAA,OAAA,CAAAC,MAAA,WAAAC,GAAA,WAAAJ,MAAA,CAAAK,wBAAA,CAAAR,MAAA,EAAAO,GAAA,EAAAE,UAAA,OAAAP,IAAA,CAAAQ,IAAA,CAAAC,KAAA,CAAAT,IAAA,EAAAG,OAAA,YAAAH,IAAA;AAAA,SAAAU,cAAAC,MAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAF,CAAA,UAAAG,MAAA,WAAAF,SAAA,CAAAD,CAAA,IAAAC,SAAA,CAAAD,CAAA,QAAAA,CAAA,OAAAf,OAAA,CAAAI,MAAA,CAAAc,MAAA,OAAAC,OAAA,WAAAC,GAAA,QAAAC,gBAAA,aAAAP,MAAA,EAAAM,GAAA,EAAAF,MAAA,CAAAE,GAAA,SAAAhB,MAAA,CAAAkB,yBAAA,GAAAlB,MAAA,CAAAmB,gBAAA,CAAAT,MAAA,EAAAV,MAAA,CAAAkB,yBAAA,CAAAJ,MAAA,KAAAlB,OAAA,CAAAI,MAAA,CAAAc,MAAA,GAAAC,OAAA,WAAAC,GAAA,IAAAhB,MAAA,CAAAoB,cAAA,CAAAV,MAAA,EAAAM,GAAA,EAAAhB,MAAA,CAAAK,wBAAA,CAAAS,MAAA,EAAAE,GAAA,iBAAAN,MAAA,IATxB;AACA;AACA;AACA;AACA;AACA;AAgBA,IAAMW,MAAM,GAAG,IAAI;AAAC,IACRC,SAAS,0BAATA,SAAS;EAATA,SAAS;EAATA,SAAS;EAATA,SAAS;EAATA,SAAS;EAAA,OAATA,SAAS;AAAA;AAOrB;AAAAC,OAAA,CAAAD,SAAA,GAAAA,SAAA;AAAA,SACeE,eAAeA,CAAAC,EAAA;EAAA,OAAAC,gBAAA,CAAAlB,KAAA,OAAAI,SAAA;AAAA;AAQ9B;AAAA,SAAAc,iBAAA;EAAAA,gBAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CARA,SAAAC,QACEC,QAAmB;IAAA,IAAAC,QAAA,EAAAC,IAAA;IAAA,OAAAL,YAAA,YAAAM,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAEbN,QAAQ,GAAGO,gBAAI,CAACC,IAAI,CAACnB,MAAM,EAAEU,QAAQ,CAAC;UAAAK,QAAA,CAAAE,IAAA;UAAA,OACzBG,YAAE,CAACC,QAAQ,CAACV,QAAQ,CAAC;QAAA;UAAlCC,IAAI,GAAAG,QAAA,CAAAO,IAAA;UAAA,OAAAP,QAAA,CAAAQ,MAAA,WACHC,IAAI,CAACC,KAAK,CAACb,IAAI,CAACc,QAAQ,CAAC,CAAC,CAAC;QAAA;QAAA;UAAA,OAAAX,QAAA,CAAAY,IAAA;MAAA;IAAA,GAAAlB,OAAA;EAAA,CACnC;EAAA,OAAAJ,gBAAA,CAAAlB,KAAA,OAAAI,SAAA;AAAA;AAAA,SAGcqC,eAAeA,CAAAC,GAAA,EAAAC,GAAA;EAAA,OAAAC,gBAAA,CAAA5C,KAAA,OAAAI,SAAA;AAAA;AAS9B;AAAA,SAAAwC,iBAAA;EAAAA,gBAAA,OAAAzB,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CATA,SAAAwB,SACEtB,QAAmB,EACnBE,IAAc;IAAA,IAAAD,QAAA,EAAAsB,QAAA;IAAA,OAAA1B,YAAA,YAAAM,IAAA,UAAAqB,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAAnB,IAAA,GAAAmB,SAAA,CAAAlB,IAAA;QAAA;UAERN,QAAQ,GAAGO,gBAAI,CAACC,IAAI,CAACnB,MAAM,EAAEU,QAAQ,CAAC;UACtCuB,QAAQ,GAAGT,IAAI,CAACY,SAAS,CAACxB,IAAI,CAAC;UAAAuB,SAAA,CAAAlB,IAAA;UAAA,OAC/BG,YAAE,CAACiB,SAAS,CAAC1B,QAAQ,EAAEsB,QAAQ,EAAE;YAAEK,IAAI,EAAE;UAAI,CAAC,CAAC;QAAA;QAAA;UAAA,OAAAH,SAAA,CAAAR,IAAA;MAAA;IAAA,GAAAK,QAAA;EAAA,CACtD;EAAA,OAAAD,gBAAA,CAAA5C,KAAA,OAAAI,SAAA;AAAA;AAAA,SAGcgD,UAAUA,CAAAC,GAAA,EAAAC,GAAA;EAAA,OAAAC,WAAA,CAAAvD,KAAA,OAAAI,SAAA;AAAA;AAoBzB;AAAA,SAAAmD,YAAA;EAAAA,WAAA,OAAApC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CApBA,SAAAmC,SACEjC,QAAmB,EACnBkC,MAAc;IAAA,IAAAC,KAAA,EAAAC,cAAA,EAAAC,YAAA;IAAA,OAAAxC,YAAA,YAAAM,IAAA,UAAAmC,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAAjC,IAAA,GAAAiC,SAAA,CAAAhC,IAAA;QAAA;UAAAgC,SAAA,CAAAjC,IAAA;UAAAiC,SAAA,CAAAhC,IAAA;UAAA,OAGQd,eAAe,CAAIO,QAAQ,CAAC;QAAA;UAA1CmC,KAAK,GAAAI,SAAA,CAAA3B,IAAA;UACLwB,cAAc,GAAGD,KAAK,CAAC/D,MAAM,CAAC,UAACQ,CAAC;YAAA,OAAKA,CAAC,CAAC4D,EAAE,KAAKN,MAAM;UAAA,EAAC;UAAA,MACvDE,cAAc,CAACtD,MAAM,KAAK,CAAC;YAAAyD,SAAA,CAAAhC,IAAA;YAAA;UAAA;UAAA,MACvB,IAAIkC,KAAK,2BAAAC,MAAA,CAA2BR,MAAM,UAAAQ,MAAA,CAAO1C,QAAQ,CAAE,CAAC;QAAA;UAE9DqC,YAAY,GAAGF,KAAK,CAAC/D,MAAM,CAAC,UAACQ,CAAC;YAAA,OAAKA,CAAC,CAAC4D,EAAE,KAAKN,MAAM;UAAA,EAAC;UAAAK,SAAA,CAAAhC,IAAA;UAAA,OACnDW,eAAe,CAAClB,QAAQ,EAAEqC,YAAY,CAAC;QAAA;UAAA,OAAAE,SAAA,CAAA1B,MAAA,WACtCqB,MAAM;QAAA;UAAAK,SAAA,CAAAjC,IAAA;UAAAiC,SAAA,CAAAI,EAAA,GAAAJ,SAAA;UAAA,MAEP,IAAIE,KAAK,6BAAAC,MAAA,CACeR,MAAM,YAAAQ,MAAA,CAAS1C,QAAQ,QAAA0C,MAAA,CAAAH,SAAA,CAAAI,EAAA,CACrD,CAAC;QAAA;QAAA;UAAA,OAAAJ,SAAA,CAAAtB,IAAA;MAAA;IAAA,GAAAgB,QAAA;EAAA,CAEJ;EAAA,OAAAD,WAAA,CAAAvD,KAAA,OAAAI,SAAA;AAAA;AAGD,IAAQ+D,UAAU,GAAKC,yBAAS,CAAxBD,UAAU;AAClB;AAAA,SACeE,UAAUA,CAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA;EAAA,OAAAC,WAAA,CAAAzE,KAAA,OAAAI,SAAA;AAAA;AAAA,SAAAqE,YAAA;EAAAA,WAAA,OAAAtD,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAzB,SAAAqD,SACEjB,MAAc,EACdlC,QAAmB;EACnB;EACAoD,SAAsB;IAAA,IAAAjB,KAAA,EAAAkB,UAAA,EAAAC,WAAA;IAAA,OAAAzD,YAAA,YAAAM,IAAA,UAAAoD,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAAlD,IAAA,GAAAkD,SAAA,CAAAjD,IAAA;QAAA;UAAAiD,SAAA,CAAAlD,IAAA;UAAAkD,SAAA,CAAAjD,IAAA;UAAA,OAGAd,eAAe,CAAWO,QAAQ,CAAC;QAAA;UAAjDmC,KAAK,GAAAqB,SAAA,CAAA5C,IAAA;UAEX;UACMyC,UAAU,GAAGlB,KAAK,CAAC/D,MAAM,CAAC,UAACqF,IAAI;YAAA,OAAKA,IAAI,CAACjB,EAAE,KAAKN,MAAM;UAAA,EAAC;UAAA,MACzDmB,UAAU,CAACvE,MAAM,KAAK,CAAC;YAAA0E,SAAA,CAAAjD,IAAA;YAAA;UAAA;UAAA,MACnB,IAAIkC,KAAK,gCAAAC,MAAA,CAAgCR,MAAM,CAAE,CAAC;QAAA;UAG1D;UACMoB,WAAW,GAAGV,UAAU,CAACS,UAAU,CAAC,CAAC,CAAC,EAAED,SAAS,CAAC,CAACM,WAAW,EAEpE;UACA;UACAvB,KAAK,CAACnD,OAAO,CAAC,UAACyE,IAAI,EAAE7E,CAAC,EAAK;YACzB,IAAI6E,IAAI,CAACjB,EAAE,KAAKN,MAAM,EAAE;cACtBC,KAAK,CAACvD,CAAC,CAAC,GAAG0E,WAAW;YACxB;UACF,CAAC,CAAC;UAACE,SAAA,CAAAjD,IAAA;UAAA,OAEGW,eAAe,CAAClB,QAAQ,EAAEmC,KAAK,CAAC;QAAA;UAAA,OAAAqB,SAAA,CAAA3C,MAAA,WAC/ByC,WAAW;QAAA;UAAAE,SAAA,CAAAlD,IAAA;UAAAkD,SAAA,CAAAb,EAAA,GAAAa,SAAA;UAAA,MAEZ,IAAIf,KAAK,6BAAAC,MAAA,CACeR,MAAM,YAAAQ,MAAA,CAAS1C,QAAQ,QAAA0C,MAAA,CAAAc,SAAA,CAAAb,EAAA,CACrD,CAAC;QAAA;QAAA;UAAA,OAAAa,SAAA,CAAAvC,IAAA;MAAA;IAAA,GAAAkC,QAAA;EAAA,CAEJ;EAAA,OAAAD,WAAA,CAAAzE,KAAA,OAAAI,SAAA;AAAA;AAAA,SAEqB8E,eAAeA,CAAA;EAAA,OAAAC,gBAAA,CAAAnF,KAAA,OAAAI,SAAA;AAAA;AAAA,SAAA+E,iBAAA;EAAAA,gBAAA,OAAAhE,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAA9B,SAAA+D,SAAA;IAAA,OAAAhE,YAAA,YAAAM,IAAA,UAAA2D,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAAzD,IAAA,GAAAyD,SAAA,CAAAxD,IAAA;QAAA;UAAA,OAAAwD,SAAA,CAAAlD,MAAA,WACEpB,eAAe,CAAcF,SAAS,CAACyE,YAAY,CAAC;QAAA;QAAA;UAAA,OAAAD,SAAA,CAAA9C,IAAA;MAAA;IAAA,GAAA4C,QAAA;EAAA,CAC5D;EAAA,OAAAD,gBAAA,CAAAnF,KAAA,OAAAI,SAAA;AAAA;AAAA,SAEqBoF,0BAA0BA,CAAAC,GAAA,EAAAC,IAAA;EAAA,OAAAC,2BAAA,CAAA3F,KAAA,OAAAI,SAAA;AAAA;AAAA,SAAAuF,4BAAA;EAAAA,2BAAA,OAAAxE,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAzC,SAAAuE,SACLC,KAAa,EACbC,IAAY;IAAA,IAAAC,kBAAA,EAAAC,eAAA;IAAA,OAAA5E,YAAA,YAAAM,IAAA,UAAAuE,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAArE,IAAA,GAAAqE,SAAA,CAAApE,IAAA;QAAA;UAEZ;UACMiE,kBAAsC,GAAG,CAAC,CAAC;UAAAG,SAAA,CAAApE,IAAA;UAAA,OACnBoD,eAAe,CAAC,CAAC;QAAA;UAAzCc,eAAe,GAAAE,SAAA,CAAA/D,IAAA;UAErB;UACA6D,eAAe,CAACzF,OAAO,CAAC,UAAC4F,WAAW,EAAK;YACvC,IAAMC,eAAe,GAAG,IAAAC,iBAAK,EAACF,WAAW,CAACG,QAAQ,CAAC;YACnD;YACE;YACAF,eAAe,CAACP,KAAK,CAAC,CAAC,GAAG,CAAC,KAAKU,MAAM,CAACV,KAAK,CAAC,IAC7CO,eAAe,CAACN,IAAI,CAAC,CAAC,KAAKS,MAAM,CAACT,IAAI,CAAC,EACvC;cACA,IAAMU,MAAM,GAAG,IAAAH,iBAAK,EAACF,WAAW,CAACG,QAAQ,CAAC,CAACG,IAAI,CAAC,CAAC;cACjD,IAAIV,kBAAkB,CAACS,MAAM,CAAC,EAAE;gBAC9BT,kBAAkB,CAACS,MAAM,CAAC,CAACzG,IAAI,CAACoG,WAAW,CAAC;cAC9C,CAAC,MAAM;gBACLJ,kBAAkB,CAACS,MAAM,CAAC,GAAG,CAACL,WAAW,CAAC;cAC5C;YACF;UACF,CAAC,CAAC;UAAC,OAAAD,SAAA,CAAA9D,MAAA,WACI2D,kBAAkB;QAAA;QAAA;UAAA,OAAAG,SAAA,CAAA1D,IAAA;MAAA;IAAA,GAAAoD,QAAA;EAAA,CAC1B;EAAA,OAAAD,2BAAA,CAAA3F,KAAA,OAAAI,SAAA;AAAA;AAAA,SAEqBsG,aAAaA,CAAA;EAAA,OAAAC,cAAA,CAAA3G,KAAA,OAAAI,SAAA;AAAA;AAAA,SAAAuG,eAAA;EAAAA,cAAA,OAAAxF,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAA5B,SAAAuF,SAAA;IAAA,OAAAxF,YAAA,YAAAM,IAAA,UAAAmF,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAAjF,IAAA,GAAAiF,SAAA,CAAAhF,IAAA;QAAA;UAAA,OAAAgF,SAAA,CAAA1E,MAAA,WACEpB,eAAe,CAAYF,SAAS,CAACiG,UAAU,CAAC;QAAA;QAAA;UAAA,OAAAD,SAAA,CAAAtE,IAAA;MAAA;IAAA,GAAAoE,QAAA;EAAA,CACxD;EAAA,OAAAD,cAAA,CAAA3G,KAAA,OAAAI,SAAA;AAAA;AAAA,SAEqB4G,QAAQA,CAAA;EAAA,OAAAC,SAAA,CAAAjH,KAAA,OAAAI,SAAA;AAAA;AAAA,SAAA6G,UAAA;EAAAA,SAAA,OAAA9F,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAvB,SAAA6F,SAAA;IAAA,OAAA9F,YAAA,YAAAM,IAAA,UAAAyF,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAAvF,IAAA,GAAAuF,SAAA,CAAAtF,IAAA;QAAA;UAAA,OAAAsF,SAAA,CAAAhF,MAAA,WACEpB,eAAe,CAAQF,SAAS,CAACuG,KAAK,CAAC;QAAA;QAAA;UAAA,OAAAD,SAAA,CAAA5E,IAAA;MAAA;IAAA,GAAA0E,QAAA;EAAA,CAC/C;EAAA,OAAAD,SAAA,CAAAjH,KAAA,OAAAI,SAAA;AAAA;AAEM,SAASkH,QAAQA,CAAA,EAAwB;EAC9C,OAAOtG,eAAe,CAAWF,SAAS,CAACyG,KAAK,CAAC;AACnD;AAAC,SAEqBC,WAAWA,CAAAC,IAAA;EAAA,OAAAC,YAAA,CAAA1H,KAAA,OAAAI,SAAA;AAAA;AAQjC;AAAA,SAAAsH,aAAA;EAAAA,YAAA,OAAAvG,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CARO,SAAAsG,SAA2BC,MAAc;IAAA,IAAAL,KAAA,EAAAM,QAAA;IAAA,OAAAzG,YAAA,YAAAM,IAAA,UAAAoG,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAAlG,IAAA,GAAAkG,SAAA,CAAAjG,IAAA;QAAA;UAAAiG,SAAA,CAAAjG,IAAA;UAAA,OAC1BwF,QAAQ,CAAC,CAAC;QAAA;UAAxBC,KAAK,GAAAQ,SAAA,CAAA5F,IAAA;UACL0F,QAAQ,GAAGN,KAAK,CAAC5H,MAAM,CAAC,UAACqI,CAAC;YAAA,OAAKA,CAAC,CAACjE,EAAE,KAAK6D,MAAM;UAAA,EAAC;UAAA,MACjDC,QAAQ,CAACxH,MAAM,GAAG,CAAC;YAAA0H,SAAA,CAAAjG,IAAA;YAAA;UAAA;UAAA,MAAQ,IAAIkC,KAAK,CAAC,gBAAgB,CAAC;QAAA;UAAA,MACtD6D,QAAQ,CAACxH,MAAM,GAAG,CAAC;YAAA0H,SAAA,CAAAjG,IAAA;YAAA;UAAA;UAAA,MAAQ,IAAIkC,KAAK,CAAC,sBAAsB,CAAC;QAAA;UAAA,OAAA+D,SAAA,CAAA3F,MAAA,WACzDyF,QAAQ,CAAC,CAAC,CAAC;QAAA;QAAA;UAAA,OAAAE,SAAA,CAAAvF,IAAA;MAAA;IAAA,GAAAmF,QAAA;EAAA,CACnB;EAAA,OAAAD,YAAA,CAAA1H,KAAA,OAAAI,SAAA;AAAA;AAAA,SAGc6H,OAAOA,CAAAC,IAAA;EAAA,OAAAC,QAAA,CAAAnI,KAAA,OAAAI,SAAA;AAAA;AAiBtB;AAAA,SAAA+H,SAAA;EAAAA,QAAA,OAAAhH,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAjBA,SAAA+G,UAAuBC,WAAwB;IAAA,IAAAd,KAAA,EAAAe,GAAA,EAAAC,KAAA,EAAAC,SAAA,EAAAC,OAAA;IAAA,OAAArH,YAAA,YAAAM,IAAA,UAAAgH,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAA9G,IAAA,GAAA8G,UAAA,CAAA7G,IAAA;QAAA;UAAA6G,UAAA,CAAA7G,IAAA;UAAA,OACzBwF,QAAQ,CAAC,CAAC;QAAA;UAAxBC,KAAK,GAAAoB,UAAA,CAAAxG,IAAA;UAEX;UACMmG,GAAa,GAAG9I,MAAM,CAACoJ,MAAM,CAACrB,KAAK,CAAC,CAACsB,GAAG,CAAC,UAACb,CAAC;YAAA,OAAKA,CAAC,CAACjE,EAAE;UAAA,EAAC;UACrDwE,KAAK,GAAGD,GAAG,CAACQ,MAAM,CAAC,UAACC,SAAiB,EAAEtF,MAAc,EAAK;YAC9D,OAAOA,MAAM,GAAGsF,SAAS,GAAGtF,MAAM,GAAGsF,SAAS;UAChD,CAAC,EAAE,CAAC,CAAC,EAEL;UACMP,SAAS,GAAGD,KAAK,GAAG,CAAC;UAErBE,OAAO,GAAAxI,aAAA,CAAAA,aAAA,KAAQoI,WAAW;YAAEtE,EAAE,EAAEyE;UAAS;UAAAG,UAAA,CAAA7G,IAAA;UAAA,OACzCW,eAAe,CAAC3B,SAAS,CAACyG,KAAK,KAAAtD,MAAA,KAAA+E,mBAAA,aAAMzB,KAAK,IAAEkB,OAAO,EAAC,CAAC;QAAA;UAAA,OAAAE,UAAA,CAAAvG,MAAA,WACpDqG,OAAO;QAAA;QAAA;UAAA,OAAAE,UAAA,CAAAnG,IAAA;MAAA;IAAA,GAAA4F,SAAA;EAAA,CACf;EAAA,OAAAD,QAAA,CAAAnI,KAAA,OAAAI,SAAA;AAAA;AAAA,SAGc6I,iBAAiBA,CAAAC,IAAA;EAAA,OAAAC,kBAAA,CAAAnJ,KAAA,OAAAI,SAAA;AAAA;AAAA,SAAA+I,mBAAA;EAAAA,kBAAA,OAAAhI,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAhC,SAAA+H,UACEC,oBAAmC;IAAA,OAAAjI,YAAA,YAAAM,IAAA,UAAA4H,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAA1H,IAAA,GAAA0H,UAAA,CAAAzH,IAAA;QAAA;UAAAyH,UAAA,CAAAzH,IAAA;UAAA,OAE7BW,eAAe,CAAC3B,SAAS,CAACyE,YAAY,EAAE8D,oBAAoB,CAAC;QAAA;QAAA;UAAA,OAAAE,UAAA,CAAA/G,IAAA;MAAA;IAAA,GAAA4G,SAAA;EAAA,CACpE;EAAA,OAAAD,kBAAA,CAAAnJ,KAAA,OAAAI,SAAA;AAAA;AAAA,IAAAoJ,QAAA,GAEc;EACb1I,SAAS,EAATA,SAAS;EACTmI,iBAAiB,EAAjBA,iBAAiB;EACjBhB,OAAO,EAAPA,OAAO;EACP7E,UAAU,EAAVA,UAAU;EACViB,UAAU,EAAVA,UAAU;EACViD,QAAQ,EAARA,QAAQ;EACRE,WAAW,EAAXA,WAAW;EACXtC,eAAe,EAAfA,eAAe;EACfM,0BAA0B,EAA1BA,0BAA0B;EAC1BwB,QAAQ,EAARA,QAAQ;EACRN,aAAa,EAAbA;AACF,CAAC;AAAA3F,OAAA,cAAAyI,QAAA"}},"mtime":1679227220377},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"filename\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\middlewares\\\\index.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateUser = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _dbFunc = _interopRequireDefault(require(\"../db-func\"));\n// middleware for validating user\n// eslint-disable-next-line consistent-return\nvar validateUser = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res, next) {\n    var _req$auth, requestedId;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          // check that the token matches the id url param (decoded token resides in req.user)\n          requestedId = Number(req.params.id);\n          if (!(((_req$auth = req.auth) === null || _req$auth === void 0 ? void 0 : _req$auth.id) !== requestedId)) {\n            _context.next = 6;\n            break;\n          }\n          res.status(401).send();\n          _context.next = 9;\n          break;\n        case 6:\n          _context.next = 8;\n          return _dbFunc[\"default\"].getUserById(requestedId);\n        case 8:\n          next();\n        case 9:\n          _context.next = 14;\n          break;\n        case 11:\n          _context.prev = 11;\n          _context.t0 = _context[\"catch\"](0);\n          next(_context.t0);\n        case 14:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 11]]);\n  }));\n  return function validateUser(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexports.validateUser = validateUser;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGJGdW5jIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJ2YWxpZGF0ZVVzZXIiLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJyZXEiLCJyZXMiLCJuZXh0IiwiX3JlcSRhdXRoIiwicmVxdWVzdGVkSWQiLCJ3cmFwIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInByZXYiLCJOdW1iZXIiLCJwYXJhbXMiLCJpZCIsImF1dGgiLCJzdGF0dXMiLCJzZW5kIiwiZGIiLCJnZXRVc2VyQnlJZCIsInQwIiwic3RvcCIsIl94IiwiX3gyIiwiX3gzIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXGthc3RpXFx3b3Jrc3BhY2VcXFJFQUNULVFVRVJZXFxiYXNlLWxhenktZGF5c1xcc2VydmVyXFxzcmNcXG1pZGRsZXdhcmVzXFwiLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRGdW5jdGlvbiwgUmVxdWVzdCwgUmVxdWVzdEhhbmRsZXIgfSBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IHsgUGFyYW1zRGljdGlvbmFyeSB9IGZyb20gJ2V4cHJlc3Mtc2VydmUtc3RhdGljLWNvcmUnO1xyXG5pbXBvcnQgeyBPcGVyYXRpb24gfSBmcm9tICdmYXN0LWpzb24tcGF0Y2gnO1xyXG5cclxuaW1wb3J0IGRiIGZyb20gJy4uL2RiLWZ1bmMnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBpZFBhcmFtc0ludGVyZmFjZSBleHRlbmRzIFBhcmFtc0RpY3Rpb25hcnkge1xyXG4gIGlkOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VXaXRoTWVzc2FnZSB7XHJcbiAgbWVzc2FnZTogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBhdGNoUmVxdWVzdCBleHRlbmRzIFJlcXVlc3Qge1xyXG4gIHBhdGNoPzogT3BlcmF0aW9uW107XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIEF1dGhSZXF1ZXN0ID0gUmVxdWVzdDxcclxuICBpZFBhcmFtc0ludGVyZmFjZSxcclxuICBSZXNwb25zZVdpdGhNZXNzYWdlLFxyXG4gIFBhdGNoUmVxdWVzdCxcclxuICBxcy5QYXJzZWRRcyxcclxuICBOZXh0RnVuY3Rpb25cclxuPjtcclxuXHJcbi8vIG1pZGRsZXdhcmUgZm9yIHZhbGlkYXRpbmcgdXNlclxyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlVXNlcjogUmVxdWVzdEhhbmRsZXI8XHJcbiAgaWRQYXJhbXNJbnRlcmZhY2UsXHJcbiAgUmVzcG9uc2VXaXRoTWVzc2FnZSxcclxuICBQYXRjaFJlcXVlc3QsXHJcbiAgcXMuUGFyc2VkUXMsXHJcbiAgTmV4dEZ1bmN0aW9uXHJcbj4gPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICB0cnkge1xyXG4gICAgLy8gY2hlY2sgdGhhdCB0aGUgdG9rZW4gbWF0Y2hlcyB0aGUgaWQgdXJsIHBhcmFtIChkZWNvZGVkIHRva2VuIHJlc2lkZXMgaW4gcmVxLnVzZXIpXHJcbiAgICBjb25zdCByZXF1ZXN0ZWRJZCA9IE51bWJlcihyZXEucGFyYW1zLmlkKTtcclxuICAgIGlmIChyZXEuYXV0aD8uaWQgIT09IHJlcXVlc3RlZElkKSB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBmaW5kIHRoZSB1c2VyOyB3aWxsIHRocm93IGVycm9yIGlmIHVzZXIgZG9lc24ndCBleGlzdFxyXG4gICAgICBhd2FpdCBkYi5nZXRVc2VyQnlJZChyZXF1ZXN0ZWRJZCk7XHJcbiAgICAgIG5leHQoKTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgbmV4dChlcnJvcik7XHJcbiAgfVxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUlBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQXNCQTtBQUNBO0FBQ08sSUFBTUMsWUFNWjtFQUFBLElBQUFDLElBQUEsT0FBQUMsa0JBQUEsMkJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFHLFNBQUFDLFFBQU9DLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJO0lBQUEsSUFBQUMsU0FBQSxFQUFBQyxXQUFBO0lBQUEsT0FBQVAsWUFBQSxZQUFBUSxJQUFBLFVBQUFDLFNBQUFDLFFBQUE7TUFBQSxrQkFBQUEsUUFBQSxDQUFBQyxJQUFBLEdBQUFELFFBQUEsQ0FBQUwsSUFBQTtRQUFBO1VBQUFLLFFBQUEsQ0FBQUMsSUFBQTtVQUVyQjtVQUNNSixXQUFXLEdBQUdLLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDVSxNQUFNLENBQUNDLEVBQUUsQ0FBQztVQUFBLE1BQ3JDLEVBQUFSLFNBQUEsR0FBQUgsR0FBRyxDQUFDWSxJQUFJLGNBQUFULFNBQUEsdUJBQVJBLFNBQUEsQ0FBVVEsRUFBRSxNQUFLUCxXQUFXO1lBQUFHLFFBQUEsQ0FBQUwsSUFBQTtZQUFBO1VBQUE7VUFDOUJELEdBQUcsQ0FBQ1ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUMsQ0FBQztVQUFDUCxRQUFBLENBQUFMLElBQUE7VUFBQTtRQUFBO1VBQUFLLFFBQUEsQ0FBQUwsSUFBQTtVQUFBLE9BR2pCYSxrQkFBRSxDQUFDQyxXQUFXLENBQUNaLFdBQVcsQ0FBQztRQUFBO1VBQ2pDRixJQUFJLENBQUMsQ0FBQztRQUFDO1VBQUFLLFFBQUEsQ0FBQUwsSUFBQTtVQUFBO1FBQUE7VUFBQUssUUFBQSxDQUFBQyxJQUFBO1VBQUFELFFBQUEsQ0FBQVUsRUFBQSxHQUFBVixRQUFBO1VBR1RMLElBQUksQ0FBQUssUUFBQSxDQUFBVSxFQUFNLENBQUM7UUFBQztRQUFBO1VBQUEsT0FBQVYsUUFBQSxDQUFBVyxJQUFBO01BQUE7SUFBQSxHQUFBbkIsT0FBQTtFQUFBLENBRWY7RUFBQSxnQkFwQllMLFlBTVpBLENBQUF5QixFQUFBLEVBQUFDLEdBQUEsRUFBQUMsR0FBQTtJQUFBLE9BQUExQixJQUFBLENBQUEyQixLQUFBLE9BQUFDLFNBQUE7RUFBQTtBQUFBLEdBY0E7QUFBQ0MsT0FBQSxDQUFBOUIsWUFBQSxHQUFBQSxZQUFBIn0=","map":{"version":3,"names":["_dbFunc","_interopRequireDefault","require","validateUser","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","next","_req$auth","requestedId","wrap","_callee$","_context","prev","Number","params","id","auth","status","send","db","getUserById","t0","stop","_x","_x2","_x3","apply","arguments","exports"],"sourceRoot":"C:\\Users\\kasti\\workspace\\REACT-QUERY\\base-lazy-days\\server\\src\\middlewares\\","sources":["index.ts"],"sourcesContent":["import { NextFunction, Request, RequestHandler } from 'express';\r\nimport { ParamsDictionary } from 'express-serve-static-core';\r\nimport { Operation } from 'fast-json-patch';\r\n\r\nimport db from '../db-func';\r\n\r\nexport interface idParamsInterface extends ParamsDictionary {\r\n  id: string;\r\n}\r\n\r\nexport interface ResponseWithMessage {\r\n  message: string;\r\n}\r\n\r\nexport interface PatchRequest extends Request {\r\n  patch?: Operation[];\r\n}\r\n\r\nexport type AuthRequest = Request<\r\n  idParamsInterface,\r\n  ResponseWithMessage,\r\n  PatchRequest,\r\n  qs.ParsedQs,\r\n  NextFunction\r\n>;\r\n\r\n// middleware for validating user\r\n// eslint-disable-next-line consistent-return\r\nexport const validateUser: RequestHandler<\r\n  idParamsInterface,\r\n  ResponseWithMessage,\r\n  PatchRequest,\r\n  qs.ParsedQs,\r\n  NextFunction\r\n> = async (req, res, next) => {\r\n  try {\r\n    // check that the token matches the id url param (decoded token resides in req.user)\r\n    const requestedId = Number(req.params.id);\r\n    if (req.auth?.id !== requestedId) {\r\n      res.status(401).send();\r\n    } else {\r\n      // find the user; will throw error if user doesn't exist\r\n      await db.getUserById(requestedId);\r\n      next();\r\n    }\r\n  } catch (error) {\r\n    next(error);\r\n  }\r\n};\r\n"],"mappings":";;;;;;;;;AAIA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAsBA;AACA;AACO,IAAMC,YAMZ;EAAA,IAAAC,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAG,SAAAC,QAAOC,GAAG,EAAEC,GAAG,EAAEC,IAAI;IAAA,IAAAC,SAAA,EAAAC,WAAA;IAAA,OAAAP,YAAA,YAAAQ,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAL,IAAA;QAAA;UAAAK,QAAA,CAAAC,IAAA;UAErB;UACMJ,WAAW,GAAGK,MAAM,CAACT,GAAG,CAACU,MAAM,CAACC,EAAE,CAAC;UAAA,MACrC,EAAAR,SAAA,GAAAH,GAAG,CAACY,IAAI,cAAAT,SAAA,uBAARA,SAAA,CAAUQ,EAAE,MAAKP,WAAW;YAAAG,QAAA,CAAAL,IAAA;YAAA;UAAA;UAC9BD,GAAG,CAACY,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,CAAC;UAACP,QAAA,CAAAL,IAAA;UAAA;QAAA;UAAAK,QAAA,CAAAL,IAAA;UAAA,OAGjBa,kBAAE,CAACC,WAAW,CAACZ,WAAW,CAAC;QAAA;UACjCF,IAAI,CAAC,CAAC;QAAC;UAAAK,QAAA,CAAAL,IAAA;UAAA;QAAA;UAAAK,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAU,EAAA,GAAAV,QAAA;UAGTL,IAAI,CAAAK,QAAA,CAAAU,EAAM,CAAC;QAAC;QAAA;UAAA,OAAAV,QAAA,CAAAW,IAAA;MAAA;IAAA,GAAAnB,OAAA;EAAA,CAEf;EAAA,gBApBYL,YAMZA,CAAAyB,EAAA,EAAAC,GAAA,EAAAC,GAAA;IAAA,OAAA1B,IAAA,CAAA2B,KAAA,OAAAC,SAAA;EAAA;AAAA,GAcA;AAACC,OAAA,CAAA9B,YAAA,GAAAA,YAAA"}},"mtime":1679227220378},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\route-methods\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"filename\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\route-methods\\\\appointment.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nexports.get = get;\nexports.update = update;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _dbFunc = _interopRequireDefault(require(\"../db-func\"));\n// month and year are required arguments\nfunction get(_x, _x2) {\n  return _get.apply(this, arguments);\n}\nfunction _get() {\n  _get = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var _req$params, month, year, appointments;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _req$params = req.params, month = _req$params.month, year = _req$params.year;\n          if (!(!month || !year)) {\n            _context.next = 3;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: 'month and year are required to get appointments'\n          }));\n        case 3:\n          _context.prev = 3;\n          _context.next = 6;\n          return _dbFunc[\"default\"].getAppointmentsByMonthYear(month, year);\n        case 6:\n          appointments = _context.sent;\n          return _context.abrupt(\"return\", res.status(200).json(appointments));\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context[\"catch\"](3);\n          return _context.abrupt(\"return\", res.status(500).json({\n            message: \"could not get appointments for \".concat(month, \" / \").concat(year, \": \").concat(_context.t0)\n          }));\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[3, 10]]);\n  }));\n  return _get.apply(this, arguments);\n}\nfunction update(_x3, _x4) {\n  return _update.apply(this, arguments);\n}\nfunction _update() {\n  _update = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var id, patch, updatedAppointment;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          id = req.params.id;\n          patch = req.body.data;\n          _context2.next = 5;\n          return _dbFunc[\"default\"].updateItem(Number(id), _dbFunc[\"default\"].filenames.appointments, patch);\n        case 5:\n          updatedAppointment = _context2.sent;\n          return _context2.abrupt(\"return\", res.status(200).json({\n            appointment: updatedAppointment\n          }));\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2[\"catch\"](0);\n          return _context2.abrupt(\"return\", res.status(500).json({\n            message: \"could not update appointment: \".concat(_context2.t0)\n          }));\n        case 12:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 9]]);\n  }));\n  return _update.apply(this, arguments);\n}\nvar _default = {\n  get: get,\n  update: update\n};\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGJGdW5jIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJnZXQiLCJfeCIsIl94MiIsIl9nZXQiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWdlbmVyYXRvciIsIm1hcmsiLCJfY2FsbGVlIiwicmVxIiwicmVzIiwiX3JlcSRwYXJhbXMiLCJtb250aCIsInllYXIiLCJhcHBvaW50bWVudHMiLCJ3cmFwIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwicGFyYW1zIiwiYWJydXB0Iiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJkYiIsImdldEFwcG9pbnRtZW50c0J5TW9udGhZZWFyIiwic2VudCIsInQwIiwiY29uY2F0Iiwic3RvcCIsInVwZGF0ZSIsIl94MyIsIl94NCIsIl91cGRhdGUiLCJfY2FsbGVlMiIsImlkIiwicGF0Y2giLCJ1cGRhdGVkQXBwb2ludG1lbnQiLCJfY2FsbGVlMiQiLCJfY29udGV4dDIiLCJib2R5IiwiZGF0YSIsInVwZGF0ZUl0ZW0iLCJOdW1iZXIiLCJmaWxlbmFtZXMiLCJhcHBvaW50bWVudCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxrYXN0aVxcd29ya3NwYWNlXFxSRUFDVC1RVUVSWVxcYmFzZS1sYXp5LWRheXNcXHNlcnZlclxcc3JjXFxyb3V0ZS1tZXRob2RzXFwiLCJzb3VyY2VzIjpbImFwcG9pbnRtZW50LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnZXhwcmVzcyc7XHJcblxyXG5pbXBvcnQgeyBBcHBvaW50bWVudCB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC90eXBlcyc7XHJcbmltcG9ydCBkYiBmcm9tICcuLi9kYi1mdW5jJztcclxuXHJcbi8vIG1vbnRoIGFuZCB5ZWFyIGFyZSByZXF1aXJlZCBhcmd1bWVudHNcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpOiBQcm9taXNlPFJlc3BvbnNlPiB7XHJcbiAgY29uc3QgeyBtb250aCwgeWVhciB9ID0gcmVxLnBhcmFtcztcclxuICBpZiAoIW1vbnRoIHx8ICF5ZWFyKSB7XHJcbiAgICByZXR1cm4gcmVzXHJcbiAgICAgIC5zdGF0dXMoNDAwKVxyXG4gICAgICAuanNvbih7IG1lc3NhZ2U6ICdtb250aCBhbmQgeWVhciBhcmUgcmVxdWlyZWQgdG8gZ2V0IGFwcG9pbnRtZW50cycgfSk7XHJcbiAgfVxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBhcHBvaW50bWVudHMgPSBhd2FpdCBkYi5nZXRBcHBvaW50bWVudHNCeU1vbnRoWWVhcihtb250aCwgeWVhcik7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oYXBwb2ludG1lbnRzKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBtZXNzYWdlOiBgY291bGQgbm90IGdldCBhcHBvaW50bWVudHMgZm9yICR7bW9udGh9IC8gJHt5ZWFyfTogJHtlfWAsXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGUocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKTogUHJvbWlzZTxSZXNwb25zZT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xyXG4gICAgY29uc3QgcGF0Y2ggPSByZXEuYm9keS5kYXRhO1xyXG4gICAgY29uc3QgdXBkYXRlZEFwcG9pbnRtZW50ID0gYXdhaXQgZGIudXBkYXRlSXRlbTxBcHBvaW50bWVudD4oXHJcbiAgICAgIE51bWJlcihpZCksXHJcbiAgICAgIGRiLmZpbGVuYW1lcy5hcHBvaW50bWVudHMsXHJcbiAgICAgIHBhdGNoLFxyXG4gICAgKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IGFwcG9pbnRtZW50OiB1cGRhdGVkQXBwb2ludG1lbnQgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlc1xyXG4gICAgICAuc3RhdHVzKDUwMClcclxuICAgICAgLmpzb24oeyBtZXNzYWdlOiBgY291bGQgbm90IHVwZGF0ZSBhcHBvaW50bWVudDogJHtlfWAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgZ2V0LFxyXG4gIHVwZGF0ZSxcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUdBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBO0FBQUEsU0FDc0JDLEdBQUdBLENBQUFDLEVBQUEsRUFBQUMsR0FBQTtFQUFBLE9BQUFDLElBQUEsQ0FBQUMsS0FBQSxPQUFBQyxTQUFBO0FBQUE7QUFBQSxTQUFBRixLQUFBO0VBQUFBLElBQUEsT0FBQUcsa0JBQUEsMkJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFsQixTQUFBQyxRQUFtQkMsR0FBWSxFQUFFQyxHQUFhO0lBQUEsSUFBQUMsV0FBQSxFQUFBQyxLQUFBLEVBQUFDLElBQUEsRUFBQUMsWUFBQTtJQUFBLE9BQUFSLFlBQUEsWUFBQVMsSUFBQSxVQUFBQyxTQUFBQyxRQUFBO01BQUEsa0JBQUFBLFFBQUEsQ0FBQUMsSUFBQSxHQUFBRCxRQUFBLENBQUFFLElBQUE7UUFBQTtVQUFBUixXQUFBLEdBQzNCRixHQUFHLENBQUNXLE1BQU0sRUFBMUJSLEtBQUssR0FBQUQsV0FBQSxDQUFMQyxLQUFLLEVBQUVDLElBQUksR0FBQUYsV0FBQSxDQUFKRSxJQUFJO1VBQUEsTUFDZixDQUFDRCxLQUFLLElBQUksQ0FBQ0MsSUFBSTtZQUFBSSxRQUFBLENBQUFFLElBQUE7WUFBQTtVQUFBO1VBQUEsT0FBQUYsUUFBQSxDQUFBSSxNQUFBLFdBQ1ZYLEdBQUcsQ0FDUFksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUNYQyxJQUFJLENBQUM7WUFBRUMsT0FB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","map":{"version":3,"names":["_dbFunc","_interopRequireDefault","require","get","_x","_x2","_get","apply","arguments","_asyncToGenerator2","_regenerator","mark","_callee","req","res","_req$params","month","year","appointments","wrap","_callee$","_context","prev","next","params","abrupt","status","json","message","db","getAppointmentsByMonthYear","sent","t0","concat","stop","update","_x3","_x4","_update","_callee2","id","patch","updatedAppointment","_callee2$","_context2","body","data","updateItem","Number","filenames","appointment","_default","exports"],"sourceRoot":"C:\\Users\\kasti\\workspace\\REACT-QUERY\\base-lazy-days\\server\\src\\route-methods\\","sources":["appointment.ts"],"sourcesContent":["import { Request, Response } from 'express';\r\n\r\nimport { Appointment } from '../../../shared/types';\r\nimport db from '../db-func';\r\n\r\n// month and year are required arguments\r\nexport async function get(req: Request, res: Response): Promise<Response> {\r\n  const { month, year } = req.params;\r\n  if (!month || !year) {\r\n    return res\r\n      .status(400)\r\n      .json({ message: 'month and year are required to get appointments' });\r\n  }\r\n  try {\r\n    const appointments = await db.getAppointmentsByMonthYear(month, year);\r\n    return res.status(200).json(appointments);\r\n  } catch (e) {\r\n    return res.status(500).json({\r\n      message: `could not get appointments for ${month} / ${year}: ${e}`,\r\n    });\r\n  }\r\n}\r\n\r\nexport async function update(req: Request, res: Response): Promise<Response> {\r\n  try {\r\n    const { id } = req.params;\r\n    const patch = req.body.data;\r\n    const updatedAppointment = await db.updateItem<Appointment>(\r\n      Number(id),\r\n      db.filenames.appointments,\r\n      patch,\r\n    );\r\n    return res.status(200).json({ appointment: updatedAppointment });\r\n  } catch (e) {\r\n    return res\r\n      .status(500)\r\n      .json({ message: `could not update appointment: ${e}` });\r\n  }\r\n}\r\n\r\nexport default {\r\n  get,\r\n  update,\r\n};\r\n"],"mappings":"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"}},"mtime":1679227220379},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\route-methods\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"filename\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\route-methods\\\\staff.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nexports.get = get;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _dbFunc = _interopRequireDefault(require(\"../db-func\"));\nfunction get(_x, _x2) {\n  return _get.apply(this, arguments);\n}\nfunction _get() {\n  _get = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var staff;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _dbFunc[\"default\"].getStaff();\n        case 3:\n          staff = _context.sent;\n          return _context.abrupt(\"return\", res.status(200).json(staff));\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n          return _context.abrupt(\"return\", res.status(500).json({\n            message: \"could not get staff: \".concat(_context.t0)\n          }));\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 7]]);\n  }));\n  return _get.apply(this, arguments);\n}\nvar _default = {\n  get: get\n};\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGJGdW5jIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJnZXQiLCJfeCIsIl94MiIsIl9nZXQiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWdlbmVyYXRvciIsIm1hcmsiLCJfY2FsbGVlIiwicmVxIiwicmVzIiwic3RhZmYiLCJ3cmFwIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwiZGIiLCJnZXRTdGFmZiIsInNlbnQiLCJhYnJ1cHQiLCJzdGF0dXMiLCJqc29uIiwidDAiLCJtZXNzYWdlIiwiY29uY2F0Iiwic3RvcCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxrYXN0aVxcd29ya3NwYWNlXFxSRUFDVC1RVUVSWVxcYmFzZS1sYXp5LWRheXNcXHNlcnZlclxcc3JjXFxyb3V0ZS1tZXRob2RzXFwiLCJzb3VyY2VzIjpbInN0YWZmLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnZXhwcmVzcyc7XHJcblxyXG5pbXBvcnQgZGIgZnJvbSAnLi4vZGItZnVuYyc7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0KHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSk6IFByb21pc2U8UmVzcG9uc2U+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc3RhZmYgPSBhd2FpdCBkYi5nZXRTdGFmZigpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHN0YWZmKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBgY291bGQgbm90IGdldCBzdGFmZjogJHtlfWAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgZ2V0LFxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBNEIsU0FFTkMsR0FBR0EsQ0FBQUMsRUFBQSxFQUFBQyxHQUFBO0VBQUEsT0FBQUMsSUFBQSxDQUFBQyxLQUFBLE9BQUFDLFNBQUE7QUFBQTtBQUFBLFNBQUFGLEtBQUE7RUFBQUEsSUFBQSxPQUFBRyxrQkFBQSwyQkFBQUMsWUFBQSxZQUFBQyxJQUFBLENBQWxCLFNBQUFDLFFBQW1CQyxHQUFZLEVBQUVDLEdBQWE7SUFBQSxJQUFBQyxLQUFBO0lBQUEsT0FBQUwsWUFBQSxZQUFBTSxJQUFBLFVBQUFDLFNBQUFDLFFBQUE7TUFBQSxrQkFBQUEsUUFBQSxDQUFBQyxJQUFBLEdBQUFELFFBQUEsQ0FBQUUsSUFBQTtRQUFBO1VBQUFGLFFBQUEsQ0FBQUMsSUFBQTtVQUFBRCxRQUFBLENBQUFFLElBQUE7VUFBQSxPQUU3QkMsa0JBQUUsQ0FBQ0MsUUFBUSxDQUFDLENBQUM7UUFBQTtVQUEzQlAsS0FBSyxHQUFBRyxRQUFBLENBQUFLLElBQUE7VUFBQSxPQUFBTCxRQUFBLENBQUFNLE1BQUEsV0FDSlYsR0FBRyxDQUFDVyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ1gsS0FBSyxDQUFDO1FBQUE7VUFBQUcsUUFBQSxDQUFBQyxJQUFBO1VBQUFELFFBQUEsQ0FBQVMsRUFBQSxHQUFBVCxRQUFBO1VBQUEsT0FBQUEsUUFBQSxDQUFBTSxNQUFBLFdBRTNCVixHQUFHLENBQUNXLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQUVFLE9BQU8sMEJBQUFDLE1BQUEsQ0FBQVgsUUFBQSxDQUFBUyxFQUFBO1VBQThCLENBQUMsQ0FBQztRQUFBO1FBQUE7VUFBQSxPQUFBVCxRQUFBLENBQUFZLElBQUE7TUFBQTtJQUFBLEdBQUFsQixPQUFBO0VBQUEsQ0FFeEU7RUFBQSxPQUFBTixJQUFBLENBQUFDLEtBQUEsT0FBQUMsU0FBQTtBQUFBO0FBQUEsSUFBQXVCLFFBQUEsR0FFYztFQUNiNUIsR0FBRyxFQUFIQTtBQUNGLENBQUM7QUFBQTZCLE9BQUEsY0FBQUQsUUFBQSJ9","map":{"version":3,"names":["_dbFunc","_interopRequireDefault","require","get","_x","_x2","_get","apply","arguments","_asyncToGenerator2","_regenerator","mark","_callee","req","res","staff","wrap","_callee$","_context","prev","next","db","getStaff","sent","abrupt","status","json","t0","message","concat","stop","_default","exports"],"sourceRoot":"C:\\Users\\kasti\\workspace\\REACT-QUERY\\base-lazy-days\\server\\src\\route-methods\\","sources":["staff.ts"],"sourcesContent":["import { Request, Response } from 'express';\r\n\r\nimport db from '../db-func';\r\n\r\nexport async function get(req: Request, res: Response): Promise<Response> {\r\n  try {\r\n    const staff = await db.getStaff();\r\n    return res.status(200).json(staff);\r\n  } catch (e) {\r\n    return res.status(500).json({ message: `could not get staff: ${e}` });\r\n  }\r\n}\r\n\r\nexport default {\r\n  get,\r\n};\r\n"],"mappings":";;;;;;;;;;AAEA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA4B,SAENC,GAAGA,CAAAC,EAAA,EAAAC,GAAA;EAAA,OAAAC,IAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,KAAA;EAAAA,IAAA,OAAAG,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAlB,SAAAC,QAAmBC,GAAY,EAAEC,GAAa;IAAA,IAAAC,KAAA;IAAA,OAAAL,YAAA,YAAAM,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAE,IAAA;UAAA,OAE7BC,kBAAE,CAACC,QAAQ,CAAC,CAAC;QAAA;UAA3BP,KAAK,GAAAG,QAAA,CAAAK,IAAA;UAAA,OAAAL,QAAA,CAAAM,MAAA,WACJV,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACX,KAAK,CAAC;QAAA;UAAAG,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAS,EAAA,GAAAT,QAAA;UAAA,OAAAA,QAAA,CAAAM,MAAA,WAE3BV,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEE,OAAO,0BAAAC,MAAA,CAAAX,QAAA,CAAAS,EAAA;UAA8B,CAAC,CAAC;QAAA;QAAA;UAAA,OAAAT,QAAA,CAAAY,IAAA;MAAA;IAAA,GAAAlB,OAAA;EAAA,CAExE;EAAA,OAAAN,IAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,IAAAuB,QAAA,GAEc;EACb5B,GAAG,EAAHA;AACF,CAAC;AAAA6B,OAAA,cAAAD,QAAA"}},"mtime":1679227220380},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\route-methods\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"filename\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\route-methods\\\\treatment.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nexports.get = get;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _dbFunc = _interopRequireDefault(require(\"../db-func\"));\nfunction get(_x, _x2) {\n  return _get.apply(this, arguments);\n}\nfunction _get() {\n  _get = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var treatments;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _dbFunc[\"default\"].getTreatments();\n        case 3:\n          treatments = _context.sent;\n          return _context.abrupt(\"return\", res.status(200).json(treatments));\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n          return _context.abrupt(\"return\", res.status(500).json({\n            message: \"could not get treatments: \".concat(_context.t0)\n          }));\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 7]]);\n  }));\n  return _get.apply(this, arguments);\n}\nvar _default = {\n  get: get\n};\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGJGdW5jIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJnZXQiLCJfeCIsIl94MiIsIl9nZXQiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWdlbmVyYXRvciIsIm1hcmsiLCJfY2FsbGVlIiwicmVxIiwicmVzIiwidHJlYXRtZW50cyIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJkYiIsImdldFRyZWF0bWVudHMiLCJzZW50IiwiYWJydXB0Iiwic3RhdHVzIiwianNvbiIsInQwIiwibWVzc2FnZSIsImNvbmNhdCIsInN0b3AiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xca2FzdGlcXHdvcmtzcGFjZVxcUkVBQ1QtUVVFUllcXGJhc2UtbGF6eS1kYXlzXFxzZXJ2ZXJcXHNyY1xccm91dGUtbWV0aG9kc1xcIiwic291cmNlcyI6WyJ0cmVhdG1lbnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICdleHByZXNzJztcclxuXHJcbmltcG9ydCBkYiBmcm9tICcuLi9kYi1mdW5jJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXQocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKTogUHJvbWlzZTxSZXNwb25zZT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB0cmVhdG1lbnRzID0gYXdhaXQgZGIuZ2V0VHJlYXRtZW50cygpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHRyZWF0bWVudHMpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IGBjb3VsZCBub3QgZ2V0IHRyZWF0bWVudHM6ICR7ZX1gIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGdldCxcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQTRCLFNBRU5DLEdBQUdBLENBQUFDLEVBQUEsRUFBQUMsR0FBQTtFQUFBLE9BQUFDLElBQUEsQ0FBQUMsS0FBQSxPQUFBQyxTQUFBO0FBQUE7QUFBQSxTQUFBRixLQUFBO0VBQUFBLElBQUEsT0FBQUcsa0JBQUEsMkJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFsQixTQUFBQyxRQUFtQkMsR0FBWSxFQUFFQyxHQUFhO0lBQUEsSUFBQUMsVUFBQTtJQUFBLE9BQUFMLFlBQUEsWUFBQU0sSUFBQSxVQUFBQyxTQUFBQyxRQUFBO01BQUEsa0JBQUFBLFFBQUEsQ0FBQUMsSUFBQSxHQUFBRCxRQUFBLENBQUFFLElBQUE7UUFBQTtVQUFBRixRQUFBLENBQUFDLElBQUE7VUFBQUQsUUFBQSxDQUFBRSxJQUFBO1VBQUEsT0FFeEJDLGtCQUFFLENBQUNDLGFBQWEsQ0FBQyxDQUFDO1FBQUE7VUFBckNQLFVBQVUsR0FBQUcsUUFBQSxDQUFBSyxJQUFBO1VBQUEsT0FBQUwsUUFBQSxDQUFBTSxNQUFBLFdBQ1RWLEdBQUcsQ0FBQ1csTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNYLFVBQVUsQ0FBQztRQUFBO1VBQUFHLFFBQUEsQ0FBQUMsSUFBQTtVQUFBRCxRQUFBLENBQUFTLEVBQUEsR0FBQVQsUUFBQTtVQUFBLE9BQUFBLFFBQUEsQ0FBQU0sTUFBQSxXQUVoQ1YsR0FBRyxDQUFDVyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztZQUFFRSxPQUFPLCtCQUFBQyxNQUFBLENBQUFYLFFBQUEsQ0FBQVMsRUFBQTtVQUFtQyxDQUFDLENBQUM7UUFBQTtRQUFBO1VBQUEsT0FBQVQsUUFBQSxDQUFBWSxJQUFBO01BQUE7SUFBQSxHQUFBbEIsT0FBQTtFQUFBLENBRTdFO0VBQUEsT0FBQU4sSUFBQSxDQUFBQyxLQUFBLE9BQUFDLFNBQUE7QUFBQTtBQUFBLElBQUF1QixRQUFBLEdBRWM7RUFDYjVCLEdBQUcsRUFBSEE7QUFDRixDQUFDO0FBQUE2QixPQUFBLGNBQUFELFFBQUEifQ==","map":{"version":3,"names":["_dbFunc","_interopRequireDefault","require","get","_x","_x2","_get","apply","arguments","_asyncToGenerator2","_regenerator","mark","_callee","req","res","treatments","wrap","_callee$","_context","prev","next","db","getTreatments","sent","abrupt","status","json","t0","message","concat","stop","_default","exports"],"sourceRoot":"C:\\Users\\kasti\\workspace\\REACT-QUERY\\base-lazy-days\\server\\src\\route-methods\\","sources":["treatment.ts"],"sourcesContent":["import { Request, Response } from 'express';\r\n\r\nimport db from '../db-func';\r\n\r\nexport async function get(req: Request, res: Response): Promise<Response> {\r\n  try {\r\n    const treatments = await db.getTreatments();\r\n    return res.status(200).json(treatments);\r\n  } catch (e) {\r\n    return res.status(500).json({ message: `could not get treatments: ${e}` });\r\n  }\r\n}\r\n\r\nexport default {\r\n  get,\r\n};\r\n"],"mappings":";;;;;;;;;;AAEA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA4B,SAENC,GAAGA,CAAAC,EAAA,EAAAC,GAAA;EAAA,OAAAC,IAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,KAAA;EAAAA,IAAA,OAAAG,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAlB,SAAAC,QAAmBC,GAAY,EAAEC,GAAa;IAAA,IAAAC,UAAA;IAAA,OAAAL,YAAA,YAAAM,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAE,IAAA;UAAA,OAExBC,kBAAE,CAACC,aAAa,CAAC,CAAC;QAAA;UAArCP,UAAU,GAAAG,QAAA,CAAAK,IAAA;UAAA,OAAAL,QAAA,CAAAM,MAAA,WACTV,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACX,UAAU,CAAC;QAAA;UAAAG,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAS,EAAA,GAAAT,QAAA;UAAA,OAAAA,QAAA,CAAAM,MAAA,WAEhCV,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEE,OAAO,+BAAAC,MAAA,CAAAX,QAAA,CAAAS,EAAA;UAAmC,CAAC,CAAC;QAAA;QAAA;UAAA,OAAAT,QAAA,CAAAY,IAAA;MAAA;IAAA,GAAAlB,OAAA;EAAA,CAE7E;EAAA,OAAAN,IAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,IAAAuB,QAAA,GAEc;EACb5B,GAAG,EAAHA;AACF,CAAC;AAAA6B,OAAA,cAAAD,QAAA"}},"mtime":1679227220380},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\route-methods\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"filename\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\route-methods\\\\user.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.auth = auth;\nexports.create = create;\nexports[\"default\"] = void 0;\nexports.get = get;\nexports.getUserAppointments = getUserAppointments;\nexports.remove = remove;\nexports.update = update;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\nvar _auth2 = require(\"../auth\");\nvar _dbFunc = _interopRequireDefault(require(\"../db-func\"));\nvar _excluded = [\"salt\", \"keylen\", \"iterations\", \"hash\", \"digest\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction removePasswordandAddToken(user) {\n  // use \"object rest operator\" to remove properties in a typescript-friendly way\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  var salt = user.salt,\n    keylen = user.keylen,\n    iterations = user.iterations,\n    hash = user.hash,\n    digest = user.digest,\n    cleanUser = (0, _objectWithoutProperties2[\"default\"])(user, _excluded);\n\n  // create token\n  var token = (0, _auth2.createJWT)(cleanUser);\n\n  // return user with token\n  return _objectSpread(_objectSpread({}, cleanUser), {}, {\n    token: token\n  });\n}\n\n// eslint-disable-next-line max-lines-per-function\nfunction get(_x, _x2) {\n  return _get.apply(this, arguments);\n}\nfunction _get() {\n  _get = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var userData, user;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          if (req.auth) {\n            _context.next = 3;\n            break;\n          }\n          throw new Error('Cannot get user without login');\n        case 3:\n          _context.next = 5;\n          return _dbFunc[\"default\"].getUserById(req.auth.id);\n        case 5:\n          userData = _context.sent;\n          // remove password data from user object\n          user = removePasswordandAddToken(userData); // return user and appointments\n          return _context.abrupt(\"return\", res.status(200).json({\n            user: user\n          }));\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context[\"catch\"](0);\n          return _context.abrupt(\"return\", res.status(500).json({\n            message: \"could not get user: \".concat(_context.t0)\n          }));\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 10]]);\n  }));\n  return _get.apply(this, arguments);\n}\nfunction getUserAppointments(_x3, _x4) {\n  return _getUserAppointments.apply(this, arguments);\n}\nfunction _getUserAppointments() {\n  _getUserAppointments = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var paramId, appointments, userAppointments;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          paramId = Number(req.params.id);\n          _context2.prev = 1;\n          _context2.next = 4;\n          return _dbFunc[\"default\"].getAppointments();\n        case 4:\n          appointments = _context2.sent;\n          userAppointments = Object.values(appointments).filter(function (a) {\n            return a.userId === paramId;\n          });\n          return _context2.abrupt(\"return\", res.status(200).json({\n            appointments: userAppointments\n          }));\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2[\"catch\"](1);\n          return _context2.abrupt(\"return\", res.status(500).json({\n            message: \"could not get user appointments for id \".concat(paramId, \": \").concat(_context2.t0)\n          }));\n        case 12:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[1, 9]]);\n  }));\n  return _getUserAppointments.apply(this, arguments);\n}\nfunction create(_x5, _x6) {\n  return _create.apply(this, arguments);\n}\nfunction _create() {\n  _create = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    var _req$body, email, password, existingUsers, takenEmail, userPasswordData, newUser, user;\n    return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _req$body = req.body, email = _req$body.email, password = _req$body.password;\n          _context3.next = 4;\n          return _dbFunc[\"default\"].getUsers();\n        case 4:\n          existingUsers = _context3.sent;\n          takenEmail = existingUsers.map(function (u) {\n            return u.email;\n          }).includes(email);\n          if (!takenEmail) {\n            _context3.next = 8;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: 'Email is already in use'\n          }));\n        case 8:\n          userPasswordData = (0, _auth2.hashPassword)(password);\n          _context3.next = 11;\n          return _dbFunc[\"default\"].addUser(_objectSpread({\n            email: email\n          }, userPasswordData));\n        case 11:\n          newUser = _context3.sent;\n          user = removePasswordandAddToken(newUser);\n          return _context3.abrupt(\"return\", res.status(201).json({\n            user: user\n          }));\n        case 16:\n          _context3.prev = 16;\n          _context3.t0 = _context3[\"catch\"](0);\n          return _context3.abrupt(\"return\", res.status(500).json({\n            message: \"could not add user: \".concat(_context3.t0)\n          }));\n        case 19:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 16]]);\n  }));\n  return _create.apply(this, arguments);\n}\nfunction remove(_x7, _x8) {\n  return _remove.apply(this, arguments);\n}\nfunction _remove() {\n  _remove = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(req, res) {\n    var id;\n    return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          id = req.params.id;\n          _context4.next = 4;\n          return _dbFunc[\"default\"].deleteItem(_dbFunc[\"default\"].filenames.users, Number(id));\n        case 4:\n          return _context4.abrupt(\"return\", res.status(204));\n        case 7:\n          _context4.prev = 7;\n          _context4.t0 = _context4[\"catch\"](0);\n          return _context4.abrupt(\"return\", res.status(500).json({\n            message: \"could not delete user: \".concat(_context4.t0)\n          }));\n        case 10:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 7]]);\n  }));\n  return _remove.apply(this, arguments);\n}\nfunction update(_x9, _x10) {\n  return _update.apply(this, arguments);\n}\nfunction _update() {\n  _update = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res) {\n    var id, patch, updatedUser, user;\n    return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          id = req.params.id;\n          patch = req.body.patch;\n          if (patch) {\n            _context5.next = 5;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).json({\n            message: 'this endpoint requires a patch in the body'\n          }));\n        case 5:\n          _context5.next = 7;\n          return _dbFunc[\"default\"].updateItem(Number(id), _dbFunc[\"default\"].filenames.users, patch);\n        case 7:\n          updatedUser = _context5.sent;\n          user = removePasswordandAddToken(updatedUser);\n          return _context5.abrupt(\"return\", res.status(200).json({\n            user: user\n          }));\n        case 12:\n          _context5.prev = 12;\n          _context5.t0 = _context5[\"catch\"](0);\n          return _context5.abrupt(\"return\", res.status(500).json({\n            message: \"could not update appointment: \".concat(_context5.t0)\n          }));\n        case 15:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[0, 12]]);\n  }));\n  return _update.apply(this, arguments);\n}\nfunction auth(_x11, _x12) {\n  return _auth.apply(this, arguments);\n}\nfunction _auth() {\n  _auth = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(req, res) {\n    var _req$body2, email, password, users, validUser, user;\n    return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          _req$body2 = req.body, email = _req$body2.email, password = _req$body2.password; // auth user\n          _context6.next = 3;\n          return _dbFunc[\"default\"].getUsers();\n        case 3:\n          users = _context6.sent;\n          validUser = users.reduce(function (foundUser, user) {\n            return user.email === email && (0, _auth2.passwordIsValid)(password, user) ? user : foundUser;\n          }, null);\n          if (validUser) {\n            _context6.next = 7;\n            break;\n          }\n          return _context6.abrupt(\"return\", res.status(400).json({\n            message: 'Invalid login'\n          }));\n        case 7:\n          // create jwt\n          user = removePasswordandAddToken(validUser);\n          return _context6.abrupt(\"return\", res.status(200).json({\n            user: user\n          }));\n        case 9:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return _auth.apply(this, arguments);\n}\nvar _default = {\n  get: get,\n  getUserAppointments: getUserAppointments,\n  create: create,\n  remove: remove,\n  update: update,\n  auth: auth\n};\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXV0aDIiLCJyZXF1aXJlIiwiX2RiRnVuYyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfZXhjbHVkZWQiLCJvd25LZXlzIiwib2JqZWN0IiwiZW51bWVyYWJsZU9ubHkiLCJrZXlzIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9scyIsImZpbHRlciIsInN5bSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwidGFyZ2V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNvdXJjZSIsImZvckVhY2giLCJrZXkiLCJfZGVmaW5lUHJvcGVydHkyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJkZWZpbmVQcm9wZXJ0eSIsInJlbW92ZVBhc3N3b3JkYW5kQWRkVG9rZW4iLCJ1c2VyIiwic2FsdCIsImtleWxlbiIsIml0ZXJhdGlvbnMiLCJoYXNoIiwiZGlnZXN0IiwiY2xlYW5Vc2VyIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiIsInRva2VuIiwiY3JlYXRlSldUIiwiZ2V0IiwiX3giLCJfeDIiLCJfZ2V0IiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJyZXEiLCJyZXMiLCJ1c2VyRGF0YSIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJhdXRoIiwiRXJyb3IiLCJkYiIsImdldFVzZXJCeUlkIiwiaWQiLCJzZW50IiwiYWJydXB0Iiwic3RhdHVzIiwianNvbiIsInQwIiwibWVzc2FnZSIsImNvbmNhdCIsInN0b3AiLCJnZXRVc2VyQXBwb2ludG1lbnRzIiwiX3gzIiwiX3g0IiwiX2dldFVzZXJBcHBvaW50bWVudHMiLCJfY2FsbGVlMiIsInBhcmFtSWQiLCJhcHBvaW50bWVudHMiLCJ1c2VyQXBwb2ludG1lbnRzIiwiX2NhbGxlZTIkIiwiX2NvbnRleHQyIiwiTnVtYmVyIiwicGFyYW1zIiwiZ2V0QXBwb2ludG1lbnRzIiwidmFsdWVzIiwiYSIsInVzZXJJZCIsImNyZWF0ZSIsIl94NSIsIl94NiIsIl9jcmVhdGUiLCJfY2FsbGVlMyIsIl9yZXEkYm9keSIsImVtYWlsIiwicGFzc3dvcmQiLCJleGlzdGluZ1VzZXJzIiwidGFrZW5FbWFpbCIsInVzZXJQYXNzd29yZERhdGEiLCJuZXdVc2VyIiwiX2NhbGxlZTMkIiwiX2NvbnRleHQzIiwiYm9keSIsImdldFVzZXJzIiwibWFwIiwidSIsImluY2x1ZGVzIiwiaGFzaFBhc3N3b3JkIiwiYWRkVXNlciIsInJlbW92ZSIsIl94NyIsIl94OCIsIl9yZW1vdmUiLCJfY2FsbGVlNCIsIl9jYWxsZWU0JCIsIl9jb250ZXh0NCIsImRlbGV0ZUl0ZW0iLCJmaWxlbmFtZXMiLCJ1c2VycyIsInVwZGF0ZSIsIl94OSIsIl94MTAiLCJfdXBkYXRlIiwiX2NhbGxlZTUiLCJwYXRjaCIsInVwZGF0ZWRVc2VyIiwiX2NhbGxlZTUkIiwiX2NvbnRleHQ1IiwidXBkYXRlSXRlbSIsIl94MTEiLCJfeDEyIiwiX2F1dGgiLCJfY2FsbGVlNiIsIl9yZXEkYm9keTIiLCJ2YWxpZFVzZXIiLCJfY2FsbGVlNiQiLCJfY29udGV4dDYiLCJyZWR1Y2UiLCJmb3VuZFVzZXIiLCJwYXNzd29yZElzVmFsaWQiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xca2FzdGlcXHdvcmtzcGFjZVxcUkVBQ1QtUVVFUllcXGJhc2UtbGF6eS1kYXlzXFxzZXJ2ZXJcXHNyY1xccm91dGUtbWV0aG9kc1xcIiwic291cmNlcyI6WyJ1c2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnZXhwcmVzcyc7XHJcblxyXG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL3R5cGVzJztcclxuaW1wb3J0IHsgQXV0aFVzZXIsIGNyZWF0ZUpXVCwgaGFzaFBhc3N3b3JkLCBwYXNzd29yZElzVmFsaWQgfSBmcm9tICcuLi9hdXRoJztcclxuaW1wb3J0IGRiIGZyb20gJy4uL2RiLWZ1bmMnO1xyXG5pbXBvcnQgeyBBdXRoUmVxdWVzdCB9IGZyb20gJy4uL21pZGRsZXdhcmVzJztcclxuXHJcbmZ1bmN0aW9uIHJlbW92ZVBhc3N3b3JkYW5kQWRkVG9rZW4odXNlcjogQXV0aFVzZXIpOiBVc2VyIHtcclxuICAvLyB1c2UgXCJvYmplY3QgcmVzdCBvcGVyYXRvclwiIHRvIHJlbW92ZSBwcm9wZXJ0aWVzIGluIGEgdHlwZXNjcmlwdC1mcmllbmRseSB3YXlcclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXHJcbiAgY29uc3QgeyBzYWx0LCBrZXlsZW4sIGl0ZXJhdGlvbnMsIGhhc2gsIGRpZ2VzdCwgLi4uY2xlYW5Vc2VyIH0gPSB1c2VyO1xyXG5cclxuICAvLyBjcmVhdGUgdG9rZW5cclxuICBjb25zdCB0b2tlbiA9IGNyZWF0ZUpXVChjbGVhblVzZXIpO1xyXG5cclxuICAvLyByZXR1cm4gdXNlciB3aXRoIHRva2VuXHJcbiAgcmV0dXJuIHsgLi4uY2xlYW5Vc2VyLCB0b2tlbiB9O1xyXG59XHJcblxyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxpbmVzLXBlci1mdW5jdGlvblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0KHJlcTogQXV0aFJlcXVlc3QsIHJlczogUmVzcG9uc2UpOiBQcm9taXNlPFJlc3BvbnNlPiB7XHJcbiAgdHJ5IHtcclxuICAgIGlmICghcmVxLmF1dGgpIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGdldCB1c2VyIHdpdGhvdXQgbG9naW4nKTtcclxuXHJcbiAgICAvLyBnZXQgZnJlc2ggdXNlciBkYXRhXHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IGF3YWl0IGRiLmdldFVzZXJCeUlkKHJlcS5hdXRoLmlkKTtcclxuXHJcbiAgICAvLyByZW1vdmUgcGFzc3dvcmQgZGF0YSBmcm9tIHVzZXIgb2JqZWN0XHJcbiAgICBjb25zdCB1c2VyID0gcmVtb3ZlUGFzc3dvcmRhbmRBZGRUb2tlbih1c2VyRGF0YSk7XHJcblxyXG4gICAgLy8gcmV0dXJuIHVzZXIgYW5kIGFwcG9pbnRtZW50c1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlciB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBgY291bGQgbm90IGdldCB1c2VyOiAke2V9YCB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyQXBwb2ludG1lbnRzKFxyXG4gIHJlcTogQXV0aFJlcXVlc3QsXHJcbiAgcmVzOiBSZXNwb25zZSxcclxuKTogUHJvbWlzZTxSZXNwb25zZT4ge1xyXG4gIGNvbnN0IHBhcmFtSWQgPSBOdW1iZXIocmVxLnBhcmFtcy5pZCk7XHJcbiAgdHJ5IHtcclxuICAgIC8vIGdldCB1c2VyJ3MgYXBwb2ludG1lbnRzXHJcbiAgICBjb25zdCBhcHBvaW50bWVudHMgPSBhd2FpdCBkYi5nZXRBcHBvaW50bWVudHMoKTtcclxuICAgIGNvbnN0IHVzZXJBcHBvaW50bWVudHMgPSBPYmplY3QudmFsdWVzKGFwcG9pbnRtZW50cykuZmlsdGVyKFxyXG4gICAgICAoYSkgPT4gYS51c2VySWQgPT09IHBhcmFtSWQsXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgYXBwb2ludG1lbnRzOiB1c2VyQXBwb2ludG1lbnRzLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgbWVzc2FnZTogYGNvdWxkIG5vdCBnZXQgdXNlciBhcHBvaW50bWVudHMgZm9yIGlkICR7cGFyYW1JZH06ICR7ZX1gLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSk6IFByb21pc2U8UmVzcG9uc2U+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xyXG4gICAgY29uc3QgZXhpc3RpbmdVc2VycyA9IGF3YWl0IGRiLmdldFVzZXJzKCk7XHJcbiAgICBjb25zdCB0YWtlbkVtYWlsID0gZXhpc3RpbmdVc2Vycy5tYXAoKHUpID0+IHUuZW1haWwpLmluY2x1ZGVzKGVtYWlsKTtcclxuICAgIGlmICh0YWtlbkVtYWlsKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdFbWFpbCBpcyBhbHJlYWR5IGluIHVzZScgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdXNlclBhc3N3b3JkRGF0YSA9IGhhc2hQYXNzd29yZChwYXNzd29yZCk7XHJcbiAgICBjb25zdCBuZXdVc2VyID0gYXdhaXQgZGIuYWRkVXNlcih7XHJcbiAgICAgIGVtYWlsLFxyXG4gICAgICAuLi51c2VyUGFzc3dvcmREYXRhLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgdXNlciA9IHJlbW92ZVBhc3N3b3JkYW5kQWRkVG9rZW4obmV3VXNlcik7XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgdXNlciB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBgY291bGQgbm90IGFkZCB1c2VyOiAke2V9YCB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW1vdmUoXHJcbiAgcmVxOiBBdXRoUmVxdWVzdCxcclxuICByZXM6IFJlc3BvbnNlLFxyXG4pOiBQcm9taXNlPFJlc3BvbnNlPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICBhd2FpdCBkYi5kZWxldGVJdGVtPEF1dGhVc2VyPihkYi5maWxlbmFtZXMudXNlcnMsIE51bWJlcihpZCkpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjA0KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBgY291bGQgbm90IGRlbGV0ZSB1c2VyOiAke2V9YCB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGUoXHJcbiAgcmVxOiBBdXRoUmVxdWVzdCxcclxuICByZXM6IFJlc3BvbnNlLFxyXG4pOiBQcm9taXNlPFJlc3BvbnNlPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XHJcbiAgICBjb25zdCB7IHBhdGNoIH0gPSByZXEuYm9keTtcclxuICAgIGlmICghcGF0Y2gpIHtcclxuICAgICAgcmV0dXJuIHJlc1xyXG4gICAgICAgIC5zdGF0dXMoNDAwKVxyXG4gICAgICAgIC5qc29uKHsgbWVzc2FnZTogJ3RoaXMgZW5kcG9pbnQgcmVxdWlyZXMgYSBwYXRjaCBpbiB0aGUgYm9keScgfSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IGRiLnVwZGF0ZUl0ZW08QXV0aFVzZXI+KFxyXG4gICAgICBOdW1iZXIoaWQpLFxyXG4gICAgICBkYi5maWxlbmFtZXMudXNlcnMsXHJcbiAgICAgIHBhdGNoLFxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCB1c2VyID0gcmVtb3ZlUGFzc3dvcmRhbmRBZGRUb2tlbih1cGRhdGVkVXNlcik7XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlciB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzXHJcbiAgICAgIC5zdGF0dXMoNTAwKVxyXG4gICAgICAuanNvbih7IG1lc3NhZ2U6IGBjb3VsZCBub3QgdXBkYXRlIGFwcG9pbnRtZW50OiAke2V9YCB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhdXRoKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSk6IFByb21pc2U8UmVzcG9uc2U+IHtcclxuICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XHJcblxyXG4gIC8vIGF1dGggdXNlclxyXG4gIGNvbnN0IHVzZXJzID0gYXdhaXQgZGIuZ2V0VXNlcnMoKTtcclxuICBjb25zdCB2YWxpZFVzZXIgPSB1c2Vycy5yZWR1Y2UoXHJcbiAgICAoZm91bmRVc2VyOiBBdXRoVXNlciB8IG51bGwsIHVzZXIpID0+XHJcbiAgICAgIHVzZXIuZW1haWwgPT09IGVtYWlsICYmIHBhc3N3b3JkSXNWYWxpZChwYXNzd29yZCwgdXNlcilcclxuICAgICAgICA/IHVzZXJcclxuICAgICAgICA6IGZvdW5kVXNlcixcclxuICAgIG51bGwsXHJcbiAgKTtcclxuXHJcbiAgaWYgKCF2YWxpZFVzZXIpIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnZhbGlkIGxvZ2luJyB9KTtcclxuXHJcbiAgLy8gY3JlYXRlIGp3dFxyXG4gIGNvbnN0IHVzZXIgPSByZW1vdmVQYXNzd29yZGFuZEFkZFRva2VuKHZhbGlkVXNlcik7XHJcblxyXG4gIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IHVzZXIgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBnZXQsXHJcbiAgZ2V0VXNlckFwcG9pbnRtZW50cyxcclxuICBjcmVhdGUsXHJcbiAgcmVtb3ZlLFxyXG4gIHVwZGF0ZSxcclxuICBhdXRoLFxyXG59O1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR0EsSUFBQUEsTUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBQyxzQkFBQSxD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","map":{"version":3,"names":["_auth2","require","_dbFunc","_interopRequireDefault","_excluded","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","removePasswordandAddToken","user","salt","keylen","iterations","hash","digest","cleanUser","_objectWithoutProperties2","token","createJWT","get","_x","_x2","_get","_asyncToGenerator2","_regenerator","mark","_callee","req","res","userData","wrap","_callee$","_context","prev","next","auth","Error","db","getUserById","id","sent","abrupt","status","json","t0","message","concat","stop","getUserAppointments","_x3","_x4","_getUserAppointments","_callee2","paramId","appointments","userAppointments","_callee2$","_context2","Number","params","getAppointments","values","a","userId","create","_x5","_x6","_create","_callee3","_req$body","email","password","existingUsers","takenEmail","userPasswordData","newUser","_callee3$","_context3","body","getUsers","map","u","includes","hashPassword","addUser","remove","_x7","_x8","_remove","_callee4","_callee4$","_context4","deleteItem","filenames","users","update","_x9","_x10","_update","_callee5","patch","updatedUser","_callee5$","_context5","updateItem","_x11","_x12","_auth","_callee6","_req$body2","validUser","_callee6$","_context6","reduce","foundUser","passwordIsValid","_default","exports"],"sourceRoot":"C:\\Users\\kasti\\workspace\\REACT-QUERY\\base-lazy-days\\server\\src\\route-methods\\","sources":["user.ts"],"sourcesContent":["import { Request, Response } from 'express';\r\n\r\nimport { User } from '../../../shared/types';\r\nimport { AuthUser, createJWT, hashPassword, passwordIsValid } from '../auth';\r\nimport db from '../db-func';\r\nimport { AuthRequest } from '../middlewares';\r\n\r\nfunction removePasswordandAddToken(user: AuthUser): User {\r\n  // use \"object rest operator\" to remove properties in a typescript-friendly way\r\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n  const { salt, keylen, iterations, hash, digest, ...cleanUser } = user;\r\n\r\n  // create token\r\n  const token = createJWT(cleanUser);\r\n\r\n  // return user with token\r\n  return { ...cleanUser, token };\r\n}\r\n\r\n// eslint-disable-next-line max-lines-per-function\r\nexport async function get(req: AuthRequest, res: Response): Promise<Response> {\r\n  try {\r\n    if (!req.auth) throw new Error('Cannot get user without login');\r\n\r\n    // get fresh user data\r\n    const userData = await db.getUserById(req.auth.id);\r\n\r\n    // remove password data from user object\r\n    const user = removePasswordandAddToken(userData);\r\n\r\n    // return user and appointments\r\n    return res.status(200).json({ user });\r\n  } catch (e) {\r\n    return res.status(500).json({ message: `could not get user: ${e}` });\r\n  }\r\n}\r\n\r\nexport async function getUserAppointments(\r\n  req: AuthRequest,\r\n  res: Response,\r\n): Promise<Response> {\r\n  const paramId = Number(req.params.id);\r\n  try {\r\n    // get user's appointments\r\n    const appointments = await db.getAppointments();\r\n    const userAppointments = Object.values(appointments).filter(\r\n      (a) => a.userId === paramId,\r\n    );\r\n    return res.status(200).json({\r\n      appointments: userAppointments,\r\n    });\r\n  } catch (e) {\r\n    return res.status(500).json({\r\n      message: `could not get user appointments for id ${paramId}: ${e}`,\r\n    });\r\n  }\r\n}\r\n\r\nexport async function create(req: Request, res: Response): Promise<Response> {\r\n  try {\r\n    const { email, password } = req.body;\r\n    const existingUsers = await db.getUsers();\r\n    const takenEmail = existingUsers.map((u) => u.email).includes(email);\r\n    if (takenEmail) {\r\n      return res.status(400).json({ message: 'Email is already in use' });\r\n    }\r\n\r\n    const userPasswordData = hashPassword(password);\r\n    const newUser = await db.addUser({\r\n      email,\r\n      ...userPasswordData,\r\n    });\r\n\r\n    const user = removePasswordandAddToken(newUser);\r\n\r\n    return res.status(201).json({ user });\r\n  } catch (e) {\r\n    return res.status(500).json({ message: `could not add user: ${e}` });\r\n  }\r\n}\r\n\r\nexport async function remove(\r\n  req: AuthRequest,\r\n  res: Response,\r\n): Promise<Response> {\r\n  try {\r\n    const { id } = req.params;\r\n    await db.deleteItem<AuthUser>(db.filenames.users, Number(id));\r\n    return res.status(204);\r\n  } catch (e) {\r\n    return res.status(500).json({ message: `could not delete user: ${e}` });\r\n  }\r\n}\r\n\r\nexport async function update(\r\n  req: AuthRequest,\r\n  res: Response,\r\n): Promise<Response> {\r\n  try {\r\n    const { id } = req.params;\r\n    const { patch } = req.body;\r\n    if (!patch) {\r\n      return res\r\n        .status(400)\r\n        .json({ message: 'this endpoint requires a patch in the body' });\r\n    }\r\n    const updatedUser = await db.updateItem<AuthUser>(\r\n      Number(id),\r\n      db.filenames.users,\r\n      patch,\r\n    );\r\n\r\n    const user = removePasswordandAddToken(updatedUser);\r\n\r\n    return res.status(200).json({ user });\r\n  } catch (e) {\r\n    return res\r\n      .status(500)\r\n      .json({ message: `could not update appointment: ${e}` });\r\n  }\r\n}\r\n\r\nexport async function auth(req: Request, res: Response): Promise<Response> {\r\n  const { email, password } = req.body;\r\n\r\n  // auth user\r\n  const users = await db.getUsers();\r\n  const validUser = users.reduce(\r\n    (foundUser: AuthUser | null, user) =>\r\n      user.email === email && passwordIsValid(password, user)\r\n        ? user\r\n        : foundUser,\r\n    null,\r\n  );\r\n\r\n  if (!validUser) return res.status(400).json({ message: 'Invalid login' });\r\n\r\n  // create jwt\r\n  const user = removePasswordandAddToken(validUser);\r\n\r\n  return res.status(200).json({ user });\r\n}\r\n\r\nexport default {\r\n  get,\r\n  getUserAppointments,\r\n  create,\r\n  remove,\r\n  update,\r\n  auth,\r\n};\r\n"],"mappings":"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"}},"mtime":1679227220381},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"filename\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\\\\src\\\\auth.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\kasti\\\\workspace\\\\REACT-QUERY\\\\base-lazy-days\\\\server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createJWT = createJWT;\nexports.hashPassword = hashPassword;\nexports.passwordIsValid = passwordIsValid;\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _pbkdf = _interopRequireDefault(require(\"pbkdf2\"));\nfunction hashPassword(password) {\n  var salt = _crypto[\"default\"].randomBytes(128).toString('base64');\n  var iterations = 10000;\n  var keylen = 64;\n  var digest = 'sha512';\n  var hash = _pbkdf[\"default\"].pbkdf2Sync(password, salt, iterations, keylen, digest).toString();\n  return {\n    salt: salt,\n    hash: hash,\n    iterations: iterations,\n    keylen: keylen,\n    digest: digest\n  };\n}\nfunction passwordIsValid(password, user) {\n  var attemptHash = _pbkdf[\"default\"].pbkdf2Sync(password, user.salt, user.iterations, user.keylen, user.digest);\n  return user.hash === attemptHash.toString();\n}\nfunction createJWT(user) {\n  return _jsonwebtoken[\"default\"].sign(user, process.env.EXPRESS_SECRET);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY3J5cHRvIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfanNvbndlYnRva2VuIiwiX3Bia2RmIiwiaGFzaFBhc3N3b3JkIiwicGFzc3dvcmQiLCJzYWx0IiwiY3J5cHRvIiwicmFuZG9tQnl0ZXMiLCJ0b1N0cmluZyIsIml0ZXJhdGlvbnMiLCJrZXlsZW4iLCJkaWdlc3QiLCJoYXNoIiwicGJrZGYyIiwicGJrZGYyU3luYyIsInBhc3N3b3JkSXNWYWxpZCIsInVzZXIiLCJhdHRlbXB0SGFzaCIsImNyZWF0ZUpXVCIsImpzb253ZWJ0b2tlbiIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiRVhQUkVTU19TRUNSRVQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xca2FzdGlcXHdvcmtzcGFjZVxcUkVBQ1QtUVVFUllcXGJhc2UtbGF6eS1kYXlzXFxzZXJ2ZXJcXHNyY1xcIiwic291cmNlcyI6WyJhdXRoLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcclxuaW1wb3J0IGpzb253ZWJ0b2tlbiBmcm9tICdqc29ud2VidG9rZW4nO1xyXG5pbXBvcnQgcGJrZGYyIGZyb20gJ3Bia2RmMic7XHJcblxyXG5pbXBvcnQgeyBOZXdVc2VyLCBVc2VyIH0gZnJvbSAnLi4vLi4vc2hhcmVkL3R5cGVzJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGFzc3dvcmRIYXNoIHtcclxuICBzYWx0OiBzdHJpbmc7XHJcbiAgaGFzaDogc3RyaW5nO1xyXG4gIGl0ZXJhdGlvbnM6IG51bWJlcjtcclxuICBrZXlsZW46IG51bWJlcjtcclxuICBkaWdlc3Q6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgTmV3QXV0aFVzZXIgPSBOZXdVc2VyICYgUGFzc3dvcmRIYXNoO1xyXG5leHBvcnQgdHlwZSBBdXRoVXNlciA9IFVzZXIgJiBQYXNzd29yZEhhc2g7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGFzaFBhc3N3b3JkKHBhc3N3b3JkOiBzdHJpbmcpOiBQYXNzd29yZEhhc2gge1xyXG4gIGNvbnN0IHNhbHQgPSBjcnlwdG8ucmFuZG9tQnl0ZXMoMTI4KS50b1N0cmluZygnYmFzZTY0Jyk7XHJcbiAgY29uc3QgaXRlcmF0aW9ucyA9IDEwMDAwO1xyXG4gIGNvbnN0IGtleWxlbiA9IDY0O1xyXG4gIGNvbnN0IGRpZ2VzdCA9ICdzaGE1MTInO1xyXG4gIGNvbnN0IGhhc2ggPSBwYmtkZjJcclxuICAgIC5wYmtkZjJTeW5jKHBhc3N3b3JkLCBzYWx0LCBpdGVyYXRpb25zLCBrZXlsZW4sIGRpZ2VzdClcclxuICAgIC50b1N0cmluZygpO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgc2FsdCxcclxuICAgIGhhc2gsXHJcbiAgICBpdGVyYXRpb25zLFxyXG4gICAga2V5bGVuLFxyXG4gICAgZGlnZXN0LFxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwYXNzd29yZElzVmFsaWQocGFzc3dvcmQ6IHN0cmluZywgdXNlcjogQXV0aFVzZXIpOiBib29sZWFuIHtcclxuICBjb25zdCBhdHRlbXB0SGFzaCA9IHBia2RmMi5wYmtkZjJTeW5jKFxyXG4gICAgcGFzc3dvcmQsXHJcbiAgICB1c2VyLnNhbHQsXHJcbiAgICB1c2VyLml0ZXJhdGlvbnMsXHJcbiAgICB1c2VyLmtleWxlbixcclxuICAgIHVzZXIuZGlnZXN0LFxyXG4gICk7XHJcbiAgcmV0dXJuIHVzZXIuaGFzaCA9PT0gYXR0ZW1wdEhhc2gudG9TdHJpbmcoKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUpXVCh1c2VyOiBVc2VyKTogc3RyaW5nIHtcclxuICByZXR1cm4ganNvbndlYnRva2VuLnNpZ24odXNlciwgcHJvY2Vzcy5lbnYuRVhQUkVTU19TRUNSRVQpO1xyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsYUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsTUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBZU8sU0FBU0csWUFBWUEsQ0FBQ0MsUUFBZ0IsRUFBZ0I7RUFDM0QsSUFBTUMsSUFBSSxHQUFHQyxrQkFBTSxDQUFDQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUNDLFFBQVEsQ0FBQyxRQUFRLENBQUM7RUFDdkQsSUFBTUMsVUFBVSxHQUFHLEtBQUs7RUFDeEIsSUFBTUMsTUFBTSxHQUFHLEVBQUU7RUFDakIsSUFBTUMsTUFBTSxHQUFHLFFBQVE7RUFDdkIsSUFBTUMsSUFBSSxHQUFHQyxpQkFBTSxDQUNoQkMsVUFBVSxDQUFDVixRQUFRLEVBQUVDLElBQUksRUFBRUksVUFBVSxFQUFFQyxNQUFNLEVBQUVDLE1BQU0sQ0FBQyxDQUN0REgsUUFBUSxDQUFDLENBQUM7RUFFYixPQUFPO0lBQ0xILElBQUksRUFBSkEsSUFBSTtJQUNKTyxJQUFJLEVBQUpBLElBQUk7SUFDSkgsVUFBVSxFQUFWQSxVQUFVO0lBQ1ZDLE1BQU0sRUFBTkEsTUFBTTtJQUNOQyxNQUFNLEVBQU5BO0VBQ0YsQ0FBQztBQUNIO0FBRU8sU0FBU0ksZUFBZUEsQ0FBQ1gsUUFBZ0IsRUFBRVksSUFBYyxFQUFXO0VBQ3pFLElBQU1DLFdBQVcsR0FBR0osaUJBQU0sQ0FBQ0MsVUFBVSxDQUNuQ1YsUUFBUSxFQUNSWSxJQUFJLENBQUNYLElBQUksRUFDVFcsSUFBSSxDQUFDUCxVQUFVLEVBQ2ZPLElBQUksQ0FBQ04sTUFBTSxFQUNYTSxJQUFJLENBQUNMLE1BQ1AsQ0FBQztFQUNELE9BQU9LLElBQUksQ0FBQ0osSUFBSSxLQUFLSyxXQUFXLENBQUNULFFBQVEsQ0FBQyxDQUFDO0FBQzdDO0FBRU8sU0FBU1UsU0FBU0EsQ0FBQ0YsSUFBVSxFQUFVO0VBQzVDLE9BQU9HLHdCQUFZLENBQUNDLElBQUksQ0FBQ0osSUFBSSxFQUFFSyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsY0FBYyxDQUFDO0FBQzVEIn0=","map":{"version":3,"names":["_crypto","_interopRequireDefault","require","_jsonwebtoken","_pbkdf","hashPassword","password","salt","crypto","randomBytes","toString","iterations","keylen","digest","hash","pbkdf2","pbkdf2Sync","passwordIsValid","user","attemptHash","createJWT","jsonwebtoken","sign","process","env","EXPRESS_SECRET"],"sourceRoot":"C:\\Users\\kasti\\workspace\\REACT-QUERY\\base-lazy-days\\server\\src\\","sources":["auth.ts"],"sourcesContent":["import crypto from 'crypto';\r\nimport jsonwebtoken from 'jsonwebtoken';\r\nimport pbkdf2 from 'pbkdf2';\r\n\r\nimport { NewUser, User } from '../../shared/types';\r\n\r\nexport interface PasswordHash {\r\n  salt: string;\r\n  hash: string;\r\n  iterations: number;\r\n  keylen: number;\r\n  digest: string;\r\n}\r\n\r\nexport type NewAuthUser = NewUser & PasswordHash;\r\nexport type AuthUser = User & PasswordHash;\r\n\r\nexport function hashPassword(password: string): PasswordHash {\r\n  const salt = crypto.randomBytes(128).toString('base64');\r\n  const iterations = 10000;\r\n  const keylen = 64;\r\n  const digest = 'sha512';\r\n  const hash = pbkdf2\r\n    .pbkdf2Sync(password, salt, iterations, keylen, digest)\r\n    .toString();\r\n\r\n  return {\r\n    salt,\r\n    hash,\r\n    iterations,\r\n    keylen,\r\n    digest,\r\n  };\r\n}\r\n\r\nexport function passwordIsValid(password: string, user: AuthUser): boolean {\r\n  const attemptHash = pbkdf2.pbkdf2Sync(\r\n    password,\r\n    user.salt,\r\n    user.iterations,\r\n    user.keylen,\r\n    user.digest,\r\n  );\r\n  return user.hash === attemptHash.toString();\r\n}\r\n\r\nexport function createJWT(user: User): string {\r\n  return jsonwebtoken.sign(user, process.env.EXPRESS_SECRET);\r\n}\r\n"],"mappings":";;;;;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,aAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,MAAA,GAAAH,sBAAA,CAAAC,OAAA;AAeO,SAASG,YAAYA,CAACC,QAAgB,EAAgB;EAC3D,IAAMC,IAAI,GAAGC,kBAAM,CAACC,WAAW,CAAC,GAAG,CAAC,CAACC,QAAQ,CAAC,QAAQ,CAAC;EACvD,IAAMC,UAAU,GAAG,KAAK;EACxB,IAAMC,MAAM,GAAG,EAAE;EACjB,IAAMC,MAAM,GAAG,QAAQ;EACvB,IAAMC,IAAI,GAAGC,iBAAM,CAChBC,UAAU,CAACV,QAAQ,EAAEC,IAAI,EAAEI,UAAU,EAAEC,MAAM,EAAEC,MAAM,CAAC,CACtDH,QAAQ,CAAC,CAAC;EAEb,OAAO;IACLH,IAAI,EAAJA,IAAI;IACJO,IAAI,EAAJA,IAAI;IACJH,UAAU,EAAVA,UAAU;IACVC,MAAM,EAANA,MAAM;IACNC,MAAM,EAANA;EACF,CAAC;AACH;AAEO,SAASI,eAAeA,CAACX,QAAgB,EAAEY,IAAc,EAAW;EACzE,IAAMC,WAAW,GAAGJ,iBAAM,CAACC,UAAU,CACnCV,QAAQ,EACRY,IAAI,CAACX,IAAI,EACTW,IAAI,CAACP,UAAU,EACfO,IAAI,CAACN,MAAM,EACXM,IAAI,CAACL,MACP,CAAC;EACD,OAAOK,IAAI,CAACJ,IAAI,KAAKK,WAAW,CAACT,QAAQ,CAAC,CAAC;AAC7C;AAEO,SAASU,SAASA,CAACF,IAAU,EAAU;EAC5C,OAAOG,wBAAY,CAACC,IAAI,CAACJ,IAAI,EAAEK,OAAO,CAACC,GAAG,CAACC,cAAc,CAAC;AAC5D"}},"mtime":1679227220376},"{\"assumptions\":{},\"sourceRoot\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server\",\"filename\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/server.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.startUp = exports[\"default\"] = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\nvar _express = _interopRequireWildcard(require(\"express\"));\nvar _expressJwt = _interopRequireDefault(require(\"express-jwt\"));\nvar _appointmentUtils = require(\"./db-func/appointmentUtils\");\nvar _index = require(\"./middlewares/index\");\nvar _appointment = _interopRequireDefault(require(\"./route-methods/appointment\"));\nvar _staff = _interopRequireDefault(require(\"./route-methods/staff\"));\nvar _treatment = _interopRequireDefault(require(\"./route-methods/treatment\"));\nvar _user = _interopRequireDefault(require(\"./route-methods/user\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n_dotenv[\"default\"].config();\nif (!process.env.EXPRESS_SECRET) {\n  // eslint-disable-next-line no-console\n  console.error('EXPRESS_SECRET must be defined in .env\\nEXITING.');\n  process.exit(-1);\n}\n\n// typing for Express request with jwt\n\nvar app = (0, _express[\"default\"])();\n\n// CORS for react app, assuming port 3000\napp.use((0, _cors[\"default\"])({\n  origin: 'http://localhost:3000',\n  credentials: true\n}));\n\n/* ********* middlewares ********* */\n// use middleware to serve static images\napp.use(_express[\"default\"][\"static\"]('public'));\n\n// middleware for parsing json body\napp.use((0, _express.json)());\napp.use('/user/:id', (0, _expressJwt[\"default\"])({\n  // process.env.EXPRESS_SECRET is checked for truthiness on app startup\n  // the || is to satisfy typescript\n  secret: process.env.EXPRESS_SECRET || 'NOT SO SECRET',\n  algorithms: ['HS256'],\n  requestProperty: 'auth'\n}));\napp.use('/user/:id', _index.validateUser);\n\n// note: should really validate user for editing appointments\n// I'm lazy and not implementing this. Spa managers beware!\n\n/* *********** routes ********* */\n\n// verify login\napp.post('/signin', _user[\"default\"].auth);\n\n// user profile protected by jwt\napp.get('/user/:id', _user[\"default\"].get);\napp.get('/user/:id/appointments', _user[\"default\"].getUserAppointments);\napp[\"delete\"]('/user/:id', _user[\"default\"].remove);\napp.patch('/user/:id', _user[\"default\"].update);\n\n// adding user\napp.post('/user', _user[\"default\"].create);\napp.get('/appointments/:year/:month', _appointment[\"default\"].get);\napp.patch('/appointment/:id', _appointment[\"default\"].update);\napp.get('/treatments', _treatment[\"default\"].get);\napp.get('/staff', _staff[\"default\"].get);\n/* *********** END: routes ********* */\n\nvar startUp = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return (0, _appointmentUtils.createAppointments)();\n        case 2:\n          // eslint-disable-next-line no-console\n          app.listen(3030, function () {\n            return console.log('Spa server listening on port 3030!');\n          });\n        case 3:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function startUp() {\n    return _ref.apply(this, arguments);\n  };\n}();\nexports.startUp = startUp;\nvar _default = app;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29ycyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2RvdGVudiIsIl9leHByZXNzIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfZXhwcmVzc0p3dCIsIl9hcHBvaW50bWVudFV0aWxzIiwiX2luZGV4IiwiX2FwcG9pbnRtZW50IiwiX3N0YWZmIiwiX3RyZWF0bWVudCIsIl91c2VyIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwibm9kZUludGVyb3AiLCJXZWFrTWFwIiwiY2FjaGVCYWJlbEludGVyb3AiLCJjYWNoZU5vZGVJbnRlcm9wIiwib2JqIiwiX19lc01vZHVsZSIsIl90eXBlb2YiLCJjYWNoZSIsImhhcyIsImdldCIsIm5ld09iaiIsImhhc1Byb3BlcnR5RGVzY3JpcHRvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZGVzYyIsInNldCIsImRvdGVudiIsImNvbmZpZyIsInByb2Nlc3MiLCJlbnYiLCJFWFBSRVNTX1NFQ1JFVCIsImNvbnNvbGUiLCJlcnJvciIsImV4aXQiLCJhcHAiLCJleHByZXNzIiwidXNlIiwiY29ycyIsIm9yaWdpbiIsImNyZWRlbnRpYWxzIiwianNvbiIsImp3dCIsInNlY3JldCIsImFsZ29yaXRobXMiLCJyZXF1ZXN0UHJvcGVydHkiLCJ2YWxpZGF0ZVVzZXIiLCJwb3N0IiwidXNlclJvdXRlcyIsImF1dGgiLCJnZXRVc2VyQXBwb2ludG1lbnRzIiwicmVtb3ZlIiwicGF0Y2giLCJ1cGRhdGUiLCJjcmVhdGUiLCJhcHBvaW50bWVudFJvdXRlcyIsInRyZWF0bWVudFJvdXRlcyIsInN0YWZmUm91dGVzIiwic3RhcnRVcCIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJjcmVhdGVBcHBvaW50bWVudHMiLCJsaXN0ZW4iLCJsb2ciLCJzdG9wIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJleHBvcnRzIiwiX2RlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9saW9ya2FzdGVuYmF1bS9SZXBvcy9rc3QtYXBwb2ludG1lbnRzLW1hbmFnZXItYXBwL3NlcnZlci9zcmMvIiwic291cmNlcyI6WyJzZXJ2ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XG5pbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5pbXBvcnQgZXhwcmVzcywgeyBqc29uIH0gZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgand0IGZyb20gJ2V4cHJlc3Mtand0JztcblxuaW1wb3J0IHsgVXNlciBhcyBVc2VyVHlwZSB9IGZyb20gJy4uLy4uL3NoYXJlZC90eXBlcyc7XG5pbXBvcnQgeyBjcmVhdGVBcHBvaW50bWVudHMgfSBmcm9tICcuL2RiLWZ1bmMvYXBwb2ludG1lbnRVdGlscyc7XG5pbXBvcnQgeyB2YWxpZGF0ZVVzZXIgfSBmcm9tICcuL21pZGRsZXdhcmVzL2luZGV4JztcbmltcG9ydCBhcHBvaW50bWVudFJvdXRlcyBmcm9tICcuL3JvdXRlLW1ldGhvZHMvYXBwb2ludG1lbnQnO1xuaW1wb3J0IHN0YWZmUm91dGVzIGZyb20gJy4vcm91dGUtbWV0aG9kcy9zdGFmZic7XG5pbXBvcnQgdHJlYXRtZW50Um91dGVzIGZyb20gJy4vcm91dGUtbWV0aG9kcy90cmVhdG1lbnQnO1xuaW1wb3J0IHVzZXJSb3V0ZXMgZnJvbSAnLi9yb3V0ZS1tZXRob2RzL3VzZXInO1xuXG5kb3RlbnYuY29uZmlnKCk7XG5pZiAoIXByb2Nlc3MuZW52LkVYUFJFU1NfU0VDUkVUKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gIGNvbnNvbGUuZXJyb3IoJ0VYUFJFU1NfU0VDUkVUIG11c3QgYmUgZGVmaW5lZCBpbiAuZW52XFxuRVhJVElORy4nKTtcbiAgcHJvY2Vzcy5leGl0KC0xKTtcbn1cblxuLy8gdHlwaW5nIGZvciBFeHByZXNzIHJlcXVlc3Qgd2l0aCBqd3RcbmRlY2xhcmUgZ2xvYmFsIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2VcbiAgbmFtZXNwYWNlIEV4cHJlc3Mge1xuICAgIGludGVyZmFjZSBSZXF1ZXN0IHtcbiAgICAgIGF1dGg/OiBVc2VyVHlwZTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuXG4vLyBDT1JTIGZvciByZWFjdCBhcHAsIGFzc3VtaW5nIHBvcnQgMzAwMFxuYXBwLnVzZShcbiAgY29ycyh7XG4gICAgb3JpZ2luOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwJyxcbiAgICBjcmVkZW50aWFsczogdHJ1ZSxcbiAgfSksXG4pO1xuXG4vKiAqKioqKioqKiogbWlkZGxld2FyZXMgKioqKioqKioqICovXG4vLyB1c2UgbWlkZGxld2FyZSB0byBzZXJ2ZSBzdGF0aWMgaW1hZ2VzXG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKCdwdWJsaWMnKSk7XG5cbi8vIG1pZGRsZXdhcmUgZm9yIHBhcnNpbmcganNvbiBib2R5XG5hcHAudXNlKGpzb24oKSk7XG5cbmFwcC51c2UoXG4gICcvdXNlci86aWQnLFxuICBqd3Qoe1xuICAgIC8vIHByb2Nlc3MuZW52LkVYUFJFU1NfU0VDUkVUIGlzIGNoZWNrZWQgZm9yIHRydXRoaW5lc3Mgb24gYXBwIHN0YXJ0dXBcbiAgICAvLyB0aGUgfHwgaXMgdG8gc2F0aXNmeSB0eXBlc2NyaXB0XG4gICAgc2VjcmV0OiBwcm9jZXNzLmVudi5FWFBSRVNTX1NFQ1JFVCB8fCAnTk9UIFNPIFNFQ1JFVCcsXG4gICAgYWxnb3JpdGhtczogWydIUzI1NiddLFxuICAgIHJlcXVlc3RQcm9wZXJ0eTogJ2F1dGgnLFxuICB9KSxcbik7XG5hcHAudXNlKCcvdXNlci86aWQnLCB2YWxpZGF0ZVVzZXIpO1xuXG4vLyBub3RlOiBzaG91bGQgcmVhbGx5IHZhbGlkYXRlIHVzZXIgZm9yIGVkaXRpbmcgYXBwb2ludG1lbnRzXG4vLyBJJ20gbGF6eSBhbmQgbm90IGltcGxlbWVudGluZyB0aGlzLiBTcGEgbWFuYWdlcnMgYmV3YXJlIVxuXG4vKiAqKioqKioqKioqKiByb3V0ZXMgKioqKioqKioqICovXG5cbi8vIHZlcmlmeSBsb2dpblxuYXBwLnBvc3QoJy9zaWduaW4nLCB1c2VyUm91dGVzLmF1dGgpO1xuXG4vLyB1c2VyIHByb2ZpbGUgcHJvdGVjdGVkIGJ5IGp3dFxuYXBwLmdldCgnL3VzZXIvOmlkJywgdXNlclJvdXRlcy5nZXQpO1xuYXBwLmdldCgnL3VzZXIvOmlkL2FwcG9pbnRtZW50cycsIHVzZXJSb3V0ZXMuZ2V0VXNlckFwcG9pbnRtZW50cyk7XG5hcHAuZGVsZXRlKCcvdXNlci86aWQnLCB1c2VyUm91dGVzLnJlbW92ZSk7XG5hcHAucGF0Y2goJy91c2VyLzppZCcsIHVzZXJSb3V0ZXMudXBkYXRlKTtcblxuLy8gYWRkaW5nIHVzZXJcbmFwcC5wb3N0KCcvdXNlcicsIHVzZXJSb3V0ZXMuY3JlYXRlKTtcblxuYXBwLmdldCgnL2FwcG9pbnRtZW50cy86eWVhci86bW9udGgnLCBhcHBvaW50bWVudFJvdXRlcy5nZXQpO1xuYXBwLnBhdGNoKCcvYXBwb2ludG1lbnQvOmlkJywgYXBwb2ludG1lbnRSb3V0ZXMudXBkYXRlKTtcblxuYXBwLmdldCgnL3RyZWF0bWVudHMnLCB0cmVhdG1lbnRSb3V0ZXMuZ2V0KTtcbmFwcC5nZXQoJy9zdGFmZicsIHN0YWZmUm91dGVzLmdldCk7XG4vKiAqKioqKioqKioqKiBFTkQ6IHJvdXRlcyAqKioqKioqKiogKi9cblxuZXhwb3J0IGNvbnN0IHN0YXJ0VXAgPSBhc3luYyAoKSA9PiB7XG4gIC8vIGNyZWF0ZSBhcHBvaW50bWVudHMgcmVsZXZhbnQgdG8gY3VycmVudCBkYXRlXG4gIGF3YWl0IGNyZWF0ZUFwcG9pbnRtZW50cygpO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gIGFwcC5saXN0ZW4oMzAzMCwgKCkgPT4gY29uc29sZS5sb2coJ1NwYSBzZXJ2ZXIgbGlzdGVuaW5nIG9uIHBvcnQgMzAzMCEnKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBhcHA7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxJQUFBQSxLQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxRQUFBLEdBQUFDLHVCQUFBLENBQUFILE9BQUE7QUFDQSxJQUFBSSxXQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFHQSxJQUFBSyxpQkFBQSxHQUFBTCxPQUFBO0FBQ0EsSUFBQU0sTUFBQSxHQUFBTixPQUFBO0FBQ0EsSUFBQU8sWUFBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVEsTUFBQSxHQUFBVCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVMsVUFBQSxHQUFBVixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVUsS0FBQSxHQUFBWCxzQkFBQSxDQUFBQyxPQUFBO0FBQThDLFNBQUFXLHlCQUFBQyxXQUFBLGVBQUFDLE9BQUEsa0NBQUFDLGlCQUFBLE9BQUFELE9BQUEsUUFBQUUsZ0JBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSx5QkFBQUMsV0FBQSxXQUFBQSxXQUFBLEdBQUFHLGdCQUFBLEdBQUFELGlCQUFBLEtBQUFGLFdBQUE7QUFBQSxTQUFBVCx3QkFBQWEsR0FBQSxFQUFBSixXQUFBLFNBQUFBLFdBQUEsSUFBQUksR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsV0FBQUQsR0FBQSxRQUFBQSxHQUFBLGFBQUFFLE9BQUEsQ0FBQUYsR0FBQSx5QkFBQUEsR0FBQSx1Q0FBQUEsR0FBQSxVQUFBRyxLQUFBLEdBQUFSLHdCQUFBLENBQUFDLFdBQUEsT0FBQU8sS0FBQSxJQUFB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","map":{"version":3,"names":["_cors","_interopRequireDefault","require","_dotenv","_express","_interopRequireWildcard","_expressJwt","_appointmentUtils","_index","_appointment","_staff","_treatment","_user","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","dotenv","config","process","env","EXPRESS_SECRET","console","error","exit","app","express","use","cors","origin","credentials","json","jwt","secret","algorithms","requestProperty","validateUser","post","userRoutes","auth","getUserAppointments","remove","patch","update","create","appointmentRoutes","treatmentRoutes","staffRoutes","startUp","_ref","_asyncToGenerator2","_regenerator","mark","_callee","wrap","_callee$","_context","prev","next","createAppointments","listen","log","stop","apply","arguments","exports","_default"],"sourceRoot":"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/","sources":["server.ts"],"sourcesContent":["import cors from 'cors';\nimport dotenv from 'dotenv';\nimport express, { json } from 'express';\nimport jwt from 'express-jwt';\n\nimport { User as UserType } from '../../shared/types';\nimport { createAppointments } from './db-func/appointmentUtils';\nimport { validateUser } from './middlewares/index';\nimport appointmentRoutes from './route-methods/appointment';\nimport staffRoutes from './route-methods/staff';\nimport treatmentRoutes from './route-methods/treatment';\nimport userRoutes from './route-methods/user';\n\ndotenv.config();\nif (!process.env.EXPRESS_SECRET) {\n  // eslint-disable-next-line no-console\n  console.error('EXPRESS_SECRET must be defined in .env\\nEXITING.');\n  process.exit(-1);\n}\n\n// typing for Express request with jwt\ndeclare global {\n  // eslint-disable-next-line @typescript-eslint/no-namespace\n  namespace Express {\n    interface Request {\n      auth?: UserType;\n    }\n  }\n}\n\nconst app = express();\n\n// CORS for react app, assuming port 3000\napp.use(\n  cors({\n    origin: 'http://localhost:3000',\n    credentials: true,\n  }),\n);\n\n/* ********* middlewares ********* */\n// use middleware to serve static images\napp.use(express.static('public'));\n\n// middleware for parsing json body\napp.use(json());\n\napp.use(\n  '/user/:id',\n  jwt({\n    // process.env.EXPRESS_SECRET is checked for truthiness on app startup\n    // the || is to satisfy typescript\n    secret: process.env.EXPRESS_SECRET || 'NOT SO SECRET',\n    algorithms: ['HS256'],\n    requestProperty: 'auth',\n  }),\n);\napp.use('/user/:id', validateUser);\n\n// note: should really validate user for editing appointments\n// I'm lazy and not implementing this. Spa managers beware!\n\n/* *********** routes ********* */\n\n// verify login\napp.post('/signin', userRoutes.auth);\n\n// user profile protected by jwt\napp.get('/user/:id', userRoutes.get);\napp.get('/user/:id/appointments', userRoutes.getUserAppointments);\napp.delete('/user/:id', userRoutes.remove);\napp.patch('/user/:id', userRoutes.update);\n\n// adding user\napp.post('/user', userRoutes.create);\n\napp.get('/appointments/:year/:month', appointmentRoutes.get);\napp.patch('/appointment/:id', appointmentRoutes.update);\n\napp.get('/treatments', treatmentRoutes.get);\napp.get('/staff', staffRoutes.get);\n/* *********** END: routes ********* */\n\nexport const startUp = async () => {\n  // create appointments relevant to current date\n  await createAppointments();\n\n  // eslint-disable-next-line no-console\n  app.listen(3030, () => console.log('Spa server listening on port 3030!'));\n};\n\nexport default app;\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAC,uBAAA,CAAAH,OAAA;AACA,IAAAI,WAAA,GAAAL,sBAAA,CAAAC,OAAA;AAGA,IAAAK,iBAAA,GAAAL,OAAA;AACA,IAAAM,MAAA,GAAAN,OAAA;AACA,IAAAO,YAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,MAAA,GAAAT,sBAAA,CAAAC,OAAA;AACA,IAAAS,UAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,KAAA,GAAAX,sBAAA,CAAAC,OAAA;AAA8C,SAAAW,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,yBAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAT,wBAAAa,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,aAAAE,OAAA,CAAAF,GAAA,yBAAAA,GAAA,uCAAAA,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,cAAAN,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAE9CW,kBAAM,CAACC,MAAM,CAAC,CAAC;AACf,IAAI,CAACC,OAAO,CAACC,GAAG,CAACC,cAAc,EAAE;EAC/B;EACAC,OAAO,CAACC,KAAK,CAAC,kDAAkD,CAAC;EACjEJ,OAAO,CAACK,IAAI,CAAC,CAAC,CAAC,CAAC;AAClB;;AAEA;;AAUA,IAAMC,GAAG,GAAG,IAAAC,mBAAO,EAAC,CAAC;;AAErB;AACAD,GAAG,CAACE,GAAG,CACL,IAAAC,gBAAI,EAAC;EACHC,MAAM,EAAE,uBAAuB;EAC/BC,WAAW,EAAE;AACf,CAAC,CACH,CAAC;;AAED;AACA;AACAL,GAAG,CAACE,GAAG,CAACD,mBAAO,UAAO,CAAC,QAAQ,CAAC,CAAC;;AAEjC;AACAD,GAAG,CAACE,GAAG,CAAC,IAAAI,aAAI,EAAC,CAAC,CAAC;AAEfN,GAAG,CAACE,GAAG,CACL,WAAW,EACX,IAAAK,sBAAG,EAAC;EACF;EACA;EACAC,MAAM,EAAEd,OAAO,CAACC,GAAG,CAACC,cAAc,IAAI,eAAe;EACrDa,UAAU,EAAE,CAAC,OAAO,CAAC;EACrBC,eAAe,EAAE;AACnB,CAAC,CACH,CAAC;AACDV,GAAG,CAACE,GAAG,CAAC,WAAW,EAAES,mBAAY,CAAC;;AAElC;AACA;;AAEA;;AAEA;AACAX,GAAG,CAACY,IAAI,CAAC,SAAS,EAAEC,gBAAU,CAACC,IAAI,CAAC;;AAEpC;AACAd,GAAG,CAACpB,GAAG,CAAC,WAAW,EAAEiC,gBAAU,CAACjC,GAAG,CAAC;AACpCoB,GAAG,CAACpB,GAAG,CAAC,wBAAwB,EAAEiC,gBAAU,CAACE,mBAAmB,CAAC;AACjEf,GAAG,UAAO,CAAC,WAAW,EAAEa,gBAAU,CAACG,MAAM,CAAC;AAC1ChB,GAAG,CAACiB,KAAK,CAAC,WAAW,EAAEJ,gBAAU,CAACK,MAAM,CAAC;;AAEzC;AACAlB,GAAG,CAACY,IAAI,CAAC,OAAO,EAAEC,gBAAU,CAACM,MAAM,CAAC;AAEpCnB,GAAG,CAACpB,GAAG,CAAC,4BAA4B,EAAEwC,uBAAiB,CAACxC,GAAG,CAAC;AAC5DoB,GAAG,CAACiB,KAAK,CAAC,kBAAkB,EAAEG,uBAAiB,CAACF,MAAM,CAAC;AAEvDlB,GAAG,CAACpB,GAAG,CAAC,aAAa,EAAEyC,qBAAe,CAACzC,GAAG,CAAC;AAC3CoB,GAAG,CAACpB,GAAG,CAAC,QAAQ,EAAE0C,iBAAW,CAAC1C,GAAG,CAAC;AAClC;;AAEO,IAAM2C,OAAO;EAAA,IAAAC,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAG,SAAAC,QAAA;IAAA,OAAAF,YAAA,YAAAG,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAF,QAAA,CAAAE,IAAA;UAAA,OAEf,IAAAC,oCAAkB,EAAC,CAAC;QAAA;UAE1B;UACAlC,GAAG,CAACmC,MAAM,CAAC,IAAI,EAAE;YAAA,OAAMtC,OAAO,CAACuC,GAAG,CAAC,oCAAoC,CAAC;UAAA,EAAC;QAAC;QAAA;UAAA,OAAAL,QAAA,CAAAM,IAAA;MAAA;IAAA,GAAAT,OAAA;EAAA,CAC3E;EAAA,gBANYL,OAAOA,CAAA;IAAA,OAAAC,IAAA,CAAAc,KAAA,OAAAC,SAAA;EAAA;AAAA,GAMnB;AAACC,OAAA,CAAAjB,OAAA,GAAAA,OAAA;AAAA,IAAAkB,QAAA,GAEazC,GAAG;AAAAwC,OAAA,cAAAC,QAAA"}},"mtime":1685356796086},"{\"assumptions\":{},\"sourceRoot\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/db-func/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server\",\"filename\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/db-func/appointmentUtils.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createAppointments = createAppointments;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _dayjs = _interopRequireDefault(require(\"dayjs\"));\nvar _ = _interopRequireDefault(require(\".\"));\n/* eslint-disable no-plusplus */\n/* eslint-disable max-lines-per-function */\n\n// utility function to make unpadded month/date numbers into padded\nfunction padNum(num) {\n  return num.toString().length === 1 ? \"0\".concat(num) : num.toString();\n}\n\n// utility function to make appointment from date and treatment type\nfunction makeAppointment(treatmentName, dateTime, existingAppointmentsById) {\n  var id = Number((0, _dayjs[\"default\"])(dateTime).unix());\n\n  // if the appointment is filled, don't make the recurring appointment\n  if (existingAppointmentsById[id]) return existingAppointmentsById[id];\n\n  // otherwise, make the recurring appointment\n  var appointment = {\n    id: id,\n    dateTime: dateTime.toDate(),\n    treatmentName: treatmentName\n  };\n\n  // assign some appointments as filled by nonexistent \"user 100\" based on datetime mod\n  if (Math.floor(Math.random() * 10) % 3 === 0) appointment.userId = 100;\n  return appointment;\n}\n\n// generate an appointments object with recurring appointments and add to db\n// (if not already there)\n// Meant to be run on server startup\nfunction createAppointments() {\n  return _createAppointments.apply(this, arguments);\n}\nfunction _createAppointments() {\n  _createAppointments = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n    var existingAppointments, existingAppointmentsById, allAppointments, month, year, monthsFromNow, monthString, startDate, lastDate, i, dayNum, thisDate, dayofWeek;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // eslint-disable-next-line no-console\n          console.log('Creating appointments...');\n          _context.next = 3;\n          return _[\"default\"].getAppointments();\n        case 3:\n          existingAppointments = _context.sent;\n          // make a map of appointments by id for easy access;\n          existingAppointmentsById = {};\n          existingAppointments.forEach(function (a) {\n            existingAppointmentsById[a.id] = a;\n          });\n          allAppointments = []; // start with today\n          month = (0, _dayjs[\"default\"])().month();\n          year = (0, _dayjs[\"default\"])().year(); // do this for three months; dayjs 0-indexes its months, hence starting at 1\n          monthsFromNow = 1;\n        case 10:\n          if (!(monthsFromNow < 4)) {\n            _context.next = 44;\n            break;\n          }\n          // make sure month is two digits;\n          monthString = padNum(month + monthsFromNow);\n          startDate = (0, _dayjs[\"default\"])(\"\".concat(year).concat(monthString, \"01\"));\n          lastDate = Number(startDate.endOf('month').format('DD'));\n          i = 0;\n        case 15:\n          if (!(i < lastDate)) {\n            _context.next = 41;\n            break;\n          }\n          dayNum = i + 1;\n          thisDate = (0, _dayjs[\"default\"])(\"\".concat(year).concat(monthString).concat(padNum(dayNum)));\n          dayofWeek = Number(thisDate.format('d'));\n          _context.t0 = dayofWeek;\n          _context.next = _context.t0 === 1 ? 22 : _context.t0 === 2 ? 25 : _context.t0 === 3 ? 28 : _context.t0 === 4 ? 31 : _context.t0 === 5 ? 34 : 37;\n          break;\n        case 22:\n          // Mondays: massage 10am, facial 2pm\n          allAppointments.push(makeAppointment('massage', thisDate.clone().add(10, 'hours'), existingAppointmentsById));\n          allAppointments.push(makeAppointment('facial', thisDate.clone().add(14, 'hours'), existingAppointmentsById));\n          return _context.abrupt(\"break\", 38);\n        case 25:\n          // Tuesdays: scrub 1pm, massage 3pm\n          allAppointments.push(makeAppointment('scrub', thisDate.clone().add(13, 'hours'), existingAppointmentsById));\n          allAppointments.push(makeAppointment('massage', thisDate.clone().add(15, 'hours'), existingAppointmentsById));\n          return _context.abrupt(\"break\", 38);\n        case 28:\n          // Wednesdays: facial: 11am, scrub 4pm\n          allAppointments.push(makeAppointment('facial', thisDate.clone().add(11, 'hours'), existingAppointmentsById));\n          allAppointments.push(makeAppointment('scrub', thisDate.clone().add(16, 'hours'), existingAppointmentsById));\n          return _context.abrupt(\"break\", 38);\n        case 31:\n          // Thursdays: scrub: 9am, scrub 1pm\n          allAppointments.push(makeAppointment('scrub', thisDate.clone().add(9, 'hours'), existingAppointmentsById));\n          allAppointments.push(makeAppointment('scrub', thisDate.clone().add(13, 'hours'), existingAppointmentsById));\n          return _context.abrupt(\"break\", 38);\n        case 34:\n          // Fridays: massage: 1pm, massage 3pm\n          allAppointments.push(makeAppointment('massage', thisDate.clone().add(13, 'hours'), existingAppointmentsById));\n          allAppointments.push(makeAppointment('massage', thisDate.clone().add(15, 'hours'), existingAppointmentsById));\n          return _context.abrupt(\"break\", 38);\n        case 37:\n          return _context.abrupt(\"break\", 38);\n        case 38:\n          i++;\n          _context.next = 15;\n          break;\n        case 41:\n          monthsFromNow++;\n          _context.next = 10;\n          break;\n        case 44:\n          _context.next = 46;\n          return _[\"default\"].writeAppointments(allAppointments);\n        case 46:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _createAppointments.apply(this, arguments);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGF5anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl8iLCJwYWROdW0iLCJudW0iLCJ0b1N0cmluZyIsImxlbmd0aCIsImNvbmNhdCIsIm1ha2VBcHBvaW50bWVudCIsInRyZWF0bWVudE5hbWUiLCJkYXRlVGltZSIsImV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZCIsImlkIiwiTnVtYmVyIiwiZGF5anMiLCJ1bml4IiwiYXBwb2ludG1lbnQiLCJ0b0RhdGUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ1c2VySWQiLCJjcmVhdGVBcHBvaW50bWVudHMiLCJfY3JlYXRlQXBwb2ludG1lbnRzIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsImV4aXN0aW5nQXBwb2ludG1lbnRzIiwiYWxsQXBwb2ludG1lbnRzIiwibW9udGgiLCJ5ZWFyIiwibW9udGhzRnJvbU5vdyIsIm1vbnRoU3RyaW5nIiwic3RhcnREYXRlIiwibGFzdERhdGUiLCJpIiwiZGF5TnVtIiwidGhpc0RhdGUiLCJkYXlvZldlZWsiLCJ3cmFwIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwiY29uc29sZSIsImxvZyIsImRiIiwiZ2V0QXBwb2ludG1lbnRzIiwic2VudCIsImZvckVhY2giLCJhIiwiZW5kT2YiLCJmb3JtYXQiLCJ0MCIsInB1c2giLCJjbG9uZSIsImFkZCIsImFicnVwdCIsIndyaXRlQXBwb2ludG1lbnRzIiwic3RvcCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2xpb3JrYXN0ZW5iYXVtL1JlcG9zL2tzdC1hcHBvaW50bWVudHMtbWFuYWdlci1hcHAvc2VydmVyL3NyYy9kYi1mdW5jLyIsInNvdXJjZXMiOlsiYXBwb2ludG1lbnRVdGlscy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1wbHVzcGx1cyAqL1xuLyogZXNsaW50LWRpc2FibGUgbWF4LWxpbmVzLXBlci1mdW5jdGlvbiAqL1xuaW1wb3J0IGRheWpzIGZyb20gJ2RheWpzJztcblxuaW1wb3J0IHsgQXBwb2ludG1lbnQgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdHlwZXMnO1xuaW1wb3J0IGRiIGZyb20gJy4nO1xuXG4vLyB1dGlsaXR5IGZ1bmN0aW9uIHRvIG1ha2UgdW5wYWRkZWQgbW9udGgvZGF0ZSBudW1iZXJzIGludG8gcGFkZGVkXG5mdW5jdGlvbiBwYWROdW0obnVtOiBudW1iZXIgfCBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gbnVtLnRvU3RyaW5nKCkubGVuZ3RoID09PSAxID8gYDAke251bX1gIDogbnVtLnRvU3RyaW5nKCk7XG59XG5cbi8vIHV0aWxpdHkgZnVuY3Rpb24gdG8gbWFrZSBhcHBvaW50bWVudCBmcm9tIGRhdGUgYW5kIHRyZWF0bWVudCB0eXBlXG5mdW5jdGlvbiBtYWtlQXBwb2ludG1lbnQoXG4gIHRyZWF0bWVudE5hbWU6IHN0cmluZyxcbiAgZGF0ZVRpbWU6IGRheWpzLkRheWpzLFxuICBleGlzdGluZ0FwcG9pbnRtZW50c0J5SWQ6IFJlY29yZDxudW1iZXIsIEFwcG9pbnRtZW50Pixcbik6IEFwcG9pbnRtZW50IHtcbiAgY29uc3QgaWQgPSBOdW1iZXIoZGF5anMoZGF0ZVRpbWUpLnVuaXgoKSk7XG5cbiAgLy8gaWYgdGhlIGFwcG9pbnRtZW50IGlzIGZpbGxlZCwgZG9uJ3QgbWFrZSB0aGUgcmVjdXJyaW5nIGFwcG9pbnRtZW50XG4gIGlmIChleGlzdGluZ0FwcG9pbnRtZW50c0J5SWRbaWRdKSByZXR1cm4gZXhpc3RpbmdBcHBvaW50bWVudHNCeUlkW2lkXTtcblxuICAvLyBvdGhlcndpc2UsIG1ha2UgdGhlIHJlY3VycmluZyBhcHBvaW50bWVudFxuICBjb25zdCBhcHBvaW50bWVudDogQXBwb2ludG1lbnQgPSB7XG4gICAgaWQsXG4gICAgZGF0ZVRpbWU6IGRhdGVUaW1lLnRvRGF0ZSgpLFxuICAgIHRyZWF0bWVudE5hbWUsXG4gIH07XG5cbiAgLy8gYXNzaWduIHNvbWUgYXBwb2ludG1lbnRzIGFzIGZpbGxlZCBieSBub25leGlzdGVudCBcInVzZXIgMTAwXCIgYmFzZWQgb24gZGF0ZXRpbWUgbW9kXG4gIGlmIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCkgJSAzID09PSAwKSBhcHBvaW50bWVudC51c2VySWQgPSAxMDA7XG5cbiAgcmV0dXJuIGFwcG9pbnRtZW50O1xufVxuXG4vLyBnZW5lcmF0ZSBhbiBhcHBvaW50bWVudHMgb2JqZWN0IHdpdGggcmVjdXJyaW5nIGFwcG9pbnRtZW50cyBhbmQgYWRkIHRvIGRiXG4vLyAoaWYgbm90IGFscmVhZHkgdGhlcmUpXG4vLyBNZWFudCB0byBiZSBydW4gb24gc2VydmVyIHN0YXJ0dXBcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVBcHBvaW50bWVudHMoKTogUHJvbWlzZTx2b2lkPiB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gIGNvbnNvbGUubG9nKCdDcmVhdGluZyBhcHBvaW50bWVudHMuLi4nKTtcbiAgY29uc3QgZXhpc3RpbmdBcHBvaW50bWVudHMgPSBhd2FpdCBkYi5nZXRBcHBvaW50bWVudHMoKTtcblxuICAvLyBtYWtlIGEgbWFwIG9mIGFwcG9pbnRtZW50cyBieSBpZCBmb3IgZWFzeSBhY2Nlc3M7XG4gIGNvbnN0IGV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZCA9IHt9O1xuICBleGlzdGluZ0FwcG9pbnRtZW50cy5mb3JFYWNoKChhKSA9PiB7XG4gICAgZXhpc3RpbmdBcHBvaW50bWVudHNCeUlkW2EuaWRdID0gYTtcbiAgfSk7XG5cbiAgY29uc3QgYWxsQXBwb2ludG1lbnRzOiBBcHBvaW50bWVudFtdID0gW107XG5cbiAgLy8gc3RhcnQgd2l0aCB0b2RheVxuICBjb25zdCBtb250aCA9IGRheWpzKCkubW9udGgoKTtcbiAgY29uc3QgeWVhciA9IGRheWpzKCkueWVhcigpO1xuXG4gIC8vIGRvIHRoaXMgZm9yIHRocmVlIG1vbnRoczsgZGF5anMgMC1pbmRleGVzIGl0cyBtb250aHMsIGhlbmNlIHN0YXJ0aW5nIGF0IDFcbiAgZm9yIChsZXQgbW9udGhzRnJvbU5vdyA9IDE7IG1vbnRoc0Zyb21Ob3cgPCA0OyBtb250aHNGcm9tTm93KyspIHtcbiAgICAvLyBtYWtlIHN1cmUgbW9udGggaXMgdHdvIGRpZ2l0cztcbiAgICBjb25zdCBtb250aFN0cmluZyA9IHBhZE51bShtb250aCArIG1vbnRoc0Zyb21Ob3cpO1xuICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IGRheWpzKGAke3llYXJ9JHttb250aFN0cmluZ30wMWApO1xuICAgIGNvbnN0IGxhc3REYXRlID0gTnVtYmVyKHN0YXJ0RGF0ZS5lbmRPZignbW9udGgnKS5mb3JtYXQoJ0REJykpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXN0RGF0ZTsgaSsrKSB7XG4gICAgICBjb25zdCBkYXlOdW0gPSBpICsgMTtcbiAgICAgIGNvbnN0IHRoaXNEYXRlID0gZGF5anMoYCR7eWVhcn0ke21vbnRoU3RyaW5nfSR7cGFkTnVtKGRheU51bSl9YCk7XG4gICAgICBjb25zdCBkYXlvZldlZWsgPSBOdW1iZXIodGhpc0RhdGUuZm9ybWF0KCdkJykpO1xuICAgICAgc3dpdGNoIChkYXlvZldlZWspIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIC8vIE1vbmRheXM6IG1hc3NhZ2UgMTBhbSwgZmFjaWFsIDJwbVxuICAgICAgICAgIGFsbEFwcG9pbnRtZW50cy5wdXNoKFxuICAgICAgICAgICAgbWFrZUFwcG9pbnRtZW50KFxuICAgICAgICAgICAgICAnbWFzc2FnZScsXG4gICAgICAgICAgICAgIHRoaXNEYXRlLmNsb25lKCkuYWRkKDEwLCAnaG91cnMnKSxcbiAgICAgICAgICAgICAgZXhpc3RpbmdBcHBvaW50bWVudHNCeUlkLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGFsbEFwcG9pbnRtZW50cy5wdXNoKFxuICAgICAgICAgICAgbWFrZUFwcG9pbnRtZW50KFxuICAgICAgICAgICAgICAnZmFjaWFsJyxcbiAgICAgICAgICAgICAgdGhpc0RhdGUuY2xvbmUoKS5hZGQoMTQsICdob3VycycpLFxuICAgICAgICAgICAgICBleGlzdGluZ0FwcG9pbnRtZW50c0J5SWQsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAvLyBUdWVzZGF5czogc2NydWIgMXBtLCBtYXNzYWdlIDNwbVxuICAgICAgICAgIGFsbEFwcG9pbnRtZW50cy5wdXNoKFxuICAgICAgICAgICAgbWFrZUFwcG9pbnRtZW50KFxuICAgICAgICAgICAgICAnc2NydWInLFxuICAgICAgICAgICAgICB0aGlzRGF0ZS5jbG9uZSgpLmFkZCgxMywgJ2hvdXJzJyksXG4gICAgICAgICAgICAgIGV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhbGxBcHBvaW50bWVudHMucHVzaChcbiAgICAgICAgICAgIG1ha2VBcHBvaW50bWVudChcbiAgICAgICAgICAgICAgJ21hc3NhZ2UnLFxuICAgICAgICAgICAgICB0aGlzRGF0ZS5jbG9uZSgpLmFkZCgxNSwgJ2hvdXJzJyksXG4gICAgICAgICAgICAgIGV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIC8vIFdlZG5lc2RheXM6IGZhY2lhbDogMTFhbSwgc2NydWIgNHBtXG4gICAgICAgICAgYWxsQXBwb2ludG1lbnRzLnB1c2goXG4gICAgICAgICAgICBtYWtlQXBwb2ludG1lbnQoXG4gICAgICAgICAgICAgICdmYWNpYWwnLFxuICAgICAgICAgICAgICB0aGlzRGF0ZS5jbG9uZSgpLmFkZCgxMSwgJ2hvdXJzJyksXG4gICAgICAgICAgICAgIGV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhbGxBcHBvaW50bWVudHMucHVzaChcbiAgICAgICAgICAgIG1ha2VBcHBvaW50bWVudChcbiAgICAgICAgICAgICAgJ3NjcnViJyxcbiAgICAgICAgICAgICAgdGhpc0RhdGUuY2xvbmUoKS5hZGQoMTYsICdob3VycycpLFxuICAgICAgICAgICAgICBleGlzdGluZ0FwcG9pbnRtZW50c0J5SWQsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAvLyBUaHVyc2RheXM6IHNjcnViOiA5YW0sIHNjcnViIDFwbVxuICAgICAgICAgIGFsbEFwcG9pbnRtZW50cy5wdXNoKFxuICAgICAgICAgICAgbWFrZUFwcG9pbnRtZW50KFxuICAgICAgICAgICAgICAnc2NydWInLFxuICAgICAgICAgICAgICB0aGlzRGF0ZS5jbG9uZSgpLmFkZCg5LCAnaG91cnMnKSxcbiAgICAgICAgICAgICAgZXhpc3RpbmdBcHBvaW50bWVudHNCeUlkLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGFsbEFwcG9pbnRtZW50cy5wdXNoKFxuICAgICAgICAgICAgbWFrZUFwcG9pbnRtZW50KFxuICAgICAgICAgICAgICAnc2NydWInLFxuICAgICAgICAgICAgICB0aGlzRGF0ZS5jbG9uZSgpLmFkZCgxMywgJ2hvdXJzJyksXG4gICAgICAgICAgICAgIGV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIC8vIEZyaWRheXM6IG1hc3NhZ2U6IDFwbSwgbWFzc2FnZSAzcG1cbiAgICAgICAgICBhbGxBcHBvaW50bWVudHMucHVzaChcbiAgICAgICAgICAgIG1ha2VBcHBvaW50bWVudChcbiAgICAgICAgICAgICAgJ21hc3NhZ2UnLFxuICAgICAgICAgICAgICB0aGlzRGF0ZS5jbG9uZSgpLmFkZCgxMywgJ2hvdXJzJyksXG4gICAgICAgICAgICAgIGV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhbGxBcHBvaW50bWVudHMucHVzaChcbiAgICAgICAgICAgIG1ha2VBcHBvaW50bWVudChcbiAgICAgICAgICAgICAgJ21hc3NhZ2UnLFxuICAgICAgICAgICAgICB0aGlzRGF0ZS5jbG9uZSgpLmFkZCgxNSwgJ2hvdXJzJyksXG4gICAgICAgICAgICAgIGV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgYXdhaXQgZGIud3JpdGVBcHBvaW50bWVudHMoYWxsQXBwb2ludG1lbnRzKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBR0EsSUFBQUMsQ0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBTEE7QUFDQTs7QUFNQTtBQUNBLFNBQVNFLE1BQU1BLENBQUNDLEdBQW9CLEVBQVU7RUFDNUMsT0FBT0EsR0FBRyxDQUFDQyxRQUFRLENBQUMsQ0FBQyxDQUFDQyxNQUFNLEtBQUssQ0FBQyxPQUFBQyxNQUFBLENBQU9ILEdBQUcsSUFBS0EsR0FBRyxDQUFDQyxRQUFRLENBQUMsQ0FBQztBQUNqRTs7QUFFQTtBQUNBLFNBQVNHLGVBQWVBLENBQ3RCQyxhQUFxQixFQUNyQkMsUUFBcUIsRUFDckJDLHdCQUFxRCxFQUN4QztFQUNiLElBQU1DLEVBQUUsR0FBR0MsTUFBTSxDQUFDLElBQUFDLGlCQUFLLEVBQUNKLFFBQVEsQ0FB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","map":{"version":3,"names":["_dayjs","_interopRequireDefault","require","_","padNum","num","toString","length","concat","makeAppointment","treatmentName","dateTime","existingAppointmentsById","id","Number","dayjs","unix","appointment","toDate","Math","floor","random","userId","createAppointments","_createAppointments","apply","arguments","_asyncToGenerator2","_regenerator","mark","_callee","existingAppointments","allAppointments","month","year","monthsFromNow","monthString","startDate","lastDate","i","dayNum","thisDate","dayofWeek","wrap","_callee$","_context","prev","next","console","log","db","getAppointments","sent","forEach","a","endOf","format","t0","push","clone","add","abrupt","writeAppointments","stop"],"sourceRoot":"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/db-func/","sources":["appointmentUtils.ts"],"sourcesContent":["/* eslint-disable no-plusplus */\n/* eslint-disable max-lines-per-function */\nimport dayjs from 'dayjs';\n\nimport { Appointment } from '../../../shared/types';\nimport db from '.';\n\n// utility function to make unpadded month/date numbers into padded\nfunction padNum(num: number | string): string {\n  return num.toString().length === 1 ? `0${num}` : num.toString();\n}\n\n// utility function to make appointment from date and treatment type\nfunction makeAppointment(\n  treatmentName: string,\n  dateTime: dayjs.Dayjs,\n  existingAppointmentsById: Record<number, Appointment>,\n): Appointment {\n  const id = Number(dayjs(dateTime).unix());\n\n  // if the appointment is filled, don't make the recurring appointment\n  if (existingAppointmentsById[id]) return existingAppointmentsById[id];\n\n  // otherwise, make the recurring appointment\n  const appointment: Appointment = {\n    id,\n    dateTime: dateTime.toDate(),\n    treatmentName,\n  };\n\n  // assign some appointments as filled by nonexistent \"user 100\" based on datetime mod\n  if (Math.floor(Math.random() * 10) % 3 === 0) appointment.userId = 100;\n\n  return appointment;\n}\n\n// generate an appointments object with recurring appointments and add to db\n// (if not already there)\n// Meant to be run on server startup\nexport async function createAppointments(): Promise<void> {\n  // eslint-disable-next-line no-console\n  console.log('Creating appointments...');\n  const existingAppointments = await db.getAppointments();\n\n  // make a map of appointments by id for easy access;\n  const existingAppointmentsById = {};\n  existingAppointments.forEach((a) => {\n    existingAppointmentsById[a.id] = a;\n  });\n\n  const allAppointments: Appointment[] = [];\n\n  // start with today\n  const month = dayjs().month();\n  const year = dayjs().year();\n\n  // do this for three months; dayjs 0-indexes its months, hence starting at 1\n  for (let monthsFromNow = 1; monthsFromNow < 4; monthsFromNow++) {\n    // make sure month is two digits;\n    const monthString = padNum(month + monthsFromNow);\n    const startDate = dayjs(`${year}${monthString}01`);\n    const lastDate = Number(startDate.endOf('month').format('DD'));\n\n    for (let i = 0; i < lastDate; i++) {\n      const dayNum = i + 1;\n      const thisDate = dayjs(`${year}${monthString}${padNum(dayNum)}`);\n      const dayofWeek = Number(thisDate.format('d'));\n      switch (dayofWeek) {\n        case 1:\n          // Mondays: massage 10am, facial 2pm\n          allAppointments.push(\n            makeAppointment(\n              'massage',\n              thisDate.clone().add(10, 'hours'),\n              existingAppointmentsById,\n            ),\n          );\n          allAppointments.push(\n            makeAppointment(\n              'facial',\n              thisDate.clone().add(14, 'hours'),\n              existingAppointmentsById,\n            ),\n          );\n          break;\n        case 2:\n          // Tuesdays: scrub 1pm, massage 3pm\n          allAppointments.push(\n            makeAppointment(\n              'scrub',\n              thisDate.clone().add(13, 'hours'),\n              existingAppointmentsById,\n            ),\n          );\n          allAppointments.push(\n            makeAppointment(\n              'massage',\n              thisDate.clone().add(15, 'hours'),\n              existingAppointmentsById,\n            ),\n          );\n          break;\n        case 3:\n          // Wednesdays: facial: 11am, scrub 4pm\n          allAppointments.push(\n            makeAppointment(\n              'facial',\n              thisDate.clone().add(11, 'hours'),\n              existingAppointmentsById,\n            ),\n          );\n          allAppointments.push(\n            makeAppointment(\n              'scrub',\n              thisDate.clone().add(16, 'hours'),\n              existingAppointmentsById,\n            ),\n          );\n          break;\n        case 4:\n          // Thursdays: scrub: 9am, scrub 1pm\n          allAppointments.push(\n            makeAppointment(\n              'scrub',\n              thisDate.clone().add(9, 'hours'),\n              existingAppointmentsById,\n            ),\n          );\n          allAppointments.push(\n            makeAppointment(\n              'scrub',\n              thisDate.clone().add(13, 'hours'),\n              existingAppointmentsById,\n            ),\n          );\n          break;\n        case 5:\n          // Fridays: massage: 1pm, massage 3pm\n          allAppointments.push(\n            makeAppointment(\n              'massage',\n              thisDate.clone().add(13, 'hours'),\n              existingAppointmentsById,\n            ),\n          );\n          allAppointments.push(\n            makeAppointment(\n              'massage',\n              thisDate.clone().add(15, 'hours'),\n              existingAppointmentsById,\n            ),\n          );\n          break;\n        default:\n          break;\n      }\n    }\n  }\n  await db.writeAppointments(allAppointments);\n}\n"],"mappings":"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"}},"mtime":1685356796085},"{\"assumptions\":{},\"sourceRoot\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/db-func/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server\",\"filename\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/db-func/index.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.filenames = exports[\"default\"] = void 0;\nexports.getAppointments = getAppointments;\nexports.getAppointmentsByMonthYear = getAppointmentsByMonthYear;\nexports.getStaff = getStaff;\nexports.getTreatments = getTreatments;\nexports.getUserById = getUserById;\nexports.getUsers = getUsers;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _dayjs = _interopRequireDefault(require(\"dayjs\"));\nvar _fastJsonPatch = _interopRequireDefault(require(\"fast-json-patch\"));\nvar _fs = require(\"fs\");\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; } // NOTE: in production this would connect to a database,\n// not JSON files. However, I didn't want to make you install\n// a particular database in order to use this app.\n//\n// This \"database\" is horribly inefficient and will be a problem\n// when Lazy Days Spa opens to hundreds of locations globally.\nvar dbPath = 'db';\nvar filenames = /*#__PURE__*/function (filenames) {\n  filenames[\"users\"] = \"users.json\";\n  filenames[\"appointments\"] = \"appointments.json\";\n  filenames[\"treatments\"] = \"treatments.json\";\n  filenames[\"staff\"] = \"staff.json\";\n  return filenames;\n}({});\n/* ****** Read from file ***** */\nexports.filenames = filenames;\nfunction getJSONfromFile(_x) {\n  return _getJSONfromFile.apply(this, arguments);\n}\n/* ****** Write to file ***** */\nfunction _getJSONfromFile() {\n  _getJSONfromFile = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(filename) {\n    var filePath, data;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          filePath = _path[\"default\"].join(dbPath, filename);\n          _context.next = 3;\n          return _fs.promises.readFile(filePath);\n        case 3:\n          data = _context.sent;\n          return _context.abrupt(\"return\", JSON.parse(data.toString()));\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _getJSONfromFile.apply(this, arguments);\n}\nfunction writeJSONToFile(_x2, _x3) {\n  return _writeJSONToFile.apply(this, arguments);\n}\n/* ****** Delete item ***** */\nfunction _writeJSONToFile() {\n  _writeJSONToFile = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(filename, data) {\n    var filePath, jsonData;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          filePath = _path[\"default\"].join(dbPath, filename);\n          jsonData = JSON.stringify(data);\n          _context2.next = 4;\n          return _fs.promises.writeFile(filePath, jsonData, {\n            flag: 'w'\n          });\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return _writeJSONToFile.apply(this, arguments);\n}\nfunction deleteItem(_x4, _x5) {\n  return _deleteItem.apply(this, arguments);\n}\n/* ****** Update item ***** */\nfunction _deleteItem() {\n  _deleteItem = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(filename, itemId) {\n    var items, foundItemArray, updatedItems;\n    return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return getJSONfromFile(filename);\n        case 3:\n          items = _context3.sent;\n          foundItemArray = items.filter(function (i) {\n            return i.id === itemId;\n          });\n          if (!(foundItemArray.length !== 1)) {\n            _context3.next = 7;\n            break;\n          }\n          throw new Error(\"Could not find item id \".concat(itemId, \" in \").concat(filename));\n        case 7:\n          updatedItems = items.filter(function (i) {\n            return i.id !== itemId;\n          });\n          _context3.next = 10;\n          return writeJSONToFile(filename, updatedItems);\n        case 10:\n          return _context3.abrupt(\"return\", itemId);\n        case 13:\n          _context3.prev = 13;\n          _context3.t0 = _context3[\"catch\"](0);\n          throw new Error(\"Could not delete item id \".concat(itemId, \" from \").concat(filename, \": \").concat(_context3.t0));\n        case 16:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 13]]);\n  }));\n  return _deleteItem.apply(this, arguments);\n}\nvar applyPatch = _fastJsonPatch[\"default\"].applyPatch;\n// eslint-disable-next-line max-lines-per-function\nfunction updateItem(_x6, _x7, _x8) {\n  return _updateItem.apply(this, arguments);\n}\nfunction _updateItem() {\n  _updateItem = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(itemId, filename,\n  // should be fast-json-patch Operation, but I can't destructure on import\n  itemPatch) {\n    var items, foundItems, updatedData;\n    return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _context4.next = 3;\n          return getJSONfromFile(filename);\n        case 3:\n          items = _context4.sent;\n          // find the item\n          foundItems = items.filter(function (item) {\n            return item.id === itemId;\n          });\n          if (!(foundItems.length !== 1)) {\n            _context4.next = 7;\n            break;\n          }\n          throw new Error(\"Could not find item with id \".concat(itemId));\n        case 7:\n          // apply the patch\n          updatedData = applyPatch(foundItems[0], itemPatch).newDocument; // write the new item data. Note: this whole function is horribly inefficient and\n          // would be much improved with a real db.\n          items.forEach(function (item, i) {\n            if (item.id === itemId) {\n              items[i] = updatedData;\n            }\n          });\n          _context4.next = 11;\n          return writeJSONToFile(filename, items);\n        case 11:\n          return _context4.abrupt(\"return\", updatedData);\n        case 14:\n          _context4.prev = 14;\n          _context4.t0 = _context4[\"catch\"](0);\n          throw new Error(\"Could not delete item id \".concat(itemId, \" from \").concat(filename, \": \").concat(_context4.t0));\n        case 17:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 14]]);\n  }));\n  return _updateItem.apply(this, arguments);\n}\nfunction getAppointments() {\n  return _getAppointments.apply(this, arguments);\n}\nfunction _getAppointments() {\n  _getAppointments = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5() {\n    return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          return _context5.abrupt(\"return\", getJSONfromFile(filenames.appointments));\n        case 1:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return _getAppointments.apply(this, arguments);\n}\nfunction getAppointmentsByMonthYear(_x9, _x10) {\n  return _getAppointmentsByMonthYear.apply(this, arguments);\n}\nfunction _getAppointmentsByMonthYear() {\n  _getAppointmentsByMonthYear = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(month, year) {\n    var appointmentDateMap, allAppointments;\n    return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          // yet another place where inefficiency is ridiculous compared to a real db\n          appointmentDateMap = {};\n          _context6.next = 3;\n          return getAppointments();\n        case 3:\n          allAppointments = _context6.sent;\n          // filter data and massage into format expected by client\n          allAppointments.forEach(function (appointment) {\n            var appointmentDate = (0, _dayjs[\"default\"])(appointment.dateTime);\n            if (\n            // zero-indexed month\n            appointmentDate.month() + 1 === Number(month) && appointmentDate.year() === Number(year)) {\n              var dayNum = (0, _dayjs[\"default\"])(appointment.dateTime).date();\n              if (appointmentDateMap[dayNum]) {\n                appointmentDateMap[dayNum].push(appointment);\n              } else {\n                appointmentDateMap[dayNum] = [appointment];\n              }\n            }\n          });\n          return _context6.abrupt(\"return\", appointmentDateMap);\n        case 6:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return _getAppointmentsByMonthYear.apply(this, arguments);\n}\nfunction getTreatments() {\n  return _getTreatments.apply(this, arguments);\n}\nfunction _getTreatments() {\n  _getTreatments = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee7() {\n    return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          return _context7.abrupt(\"return\", getJSONfromFile(filenames.treatments));\n        case 1:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7);\n  }));\n  return _getTreatments.apply(this, arguments);\n}\nfunction getStaff() {\n  return _getStaff.apply(this, arguments);\n}\nfunction _getStaff() {\n  _getStaff = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee8() {\n    return _regenerator[\"default\"].wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          return _context8.abrupt(\"return\", getJSONfromFile(filenames.staff));\n        case 1:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8);\n  }));\n  return _getStaff.apply(this, arguments);\n}\nfunction getUsers() {\n  return getJSONfromFile(filenames.users);\n}\nfunction getUserById(_x11) {\n  return _getUserById.apply(this, arguments);\n}\n/* ****** Add new user ***** */\nfunction _getUserById() {\n  _getUserById = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee9(userId) {\n    var users, userData;\n    return _regenerator[\"default\"].wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.next = 2;\n          return getUsers();\n        case 2:\n          users = _context9.sent;\n          userData = users.filter(function (u) {\n            return u.id === userId;\n          });\n          if (!(userData.length < 1)) {\n            _context9.next = 6;\n            break;\n          }\n          throw new Error('user not found');\n        case 6:\n          if (!(userData.length < 1)) {\n            _context9.next = 8;\n            break;\n          }\n          throw new Error('duplicate user found');\n        case 8:\n          return _context9.abrupt(\"return\", userData[0]);\n        case 9:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9);\n  }));\n  return _getUserById.apply(this, arguments);\n}\nfunction addUser(_x12) {\n  return _addUser.apply(this, arguments);\n}\n/* ****** Add new appoinment ***** */\nfunction _addUser() {\n  _addUser = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee10(newUserData) {\n    var users, ids, maxId, newUserId, newUser;\n    return _regenerator[\"default\"].wrap(function _callee10$(_context10) {\n      while (1) switch (_context10.prev = _context10.next) {\n        case 0:\n          _context10.next = 2;\n          return getUsers();\n        case 2:\n          users = _context10.sent;\n          // get the max id from the existing ids\n          ids = Object.values(users).map(function (u) {\n            return u.id;\n          });\n          maxId = ids.reduce(function (tempMaxId, itemId) {\n            return itemId > tempMaxId ? itemId : tempMaxId;\n          }, 0); // the new user will have an id of the max id plus 1\n          newUserId = maxId + 1;\n          newUser = _objectSpread(_objectSpread({}, newUserData), {}, {\n            id: newUserId\n          });\n          _context10.next = 9;\n          return writeJSONToFile(filenames.users, [].concat((0, _toConsumableArray2[\"default\"])(users), [newUser]));\n        case 9:\n          return _context10.abrupt(\"return\", newUser);\n        case 10:\n        case \"end\":\n          return _context10.stop();\n      }\n    }, _callee10);\n  }));\n  return _addUser.apply(this, arguments);\n}\nfunction writeAppointments(_x13) {\n  return _writeAppointments.apply(this, arguments);\n}\nfunction _writeAppointments() {\n  _writeAppointments = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee11(newAppointmentsArray) {\n    return _regenerator[\"default\"].wrap(function _callee11$(_context11) {\n      while (1) switch (_context11.prev = _context11.next) {\n        case 0:\n          _context11.next = 2;\n          return writeJSONToFile(filenames.appointments, newAppointmentsArray);\n        case 2:\n        case \"end\":\n          return _context11.stop();\n      }\n    }, _callee11);\n  }));\n  return _writeAppointments.apply(this, arguments);\n}\nvar _default = {\n  filenames: filenames,\n  writeAppointments: writeAppointments,\n  addUser: addUser,\n  deleteItem: deleteItem,\n  updateItem: updateItem,\n  getUsers: getUsers,\n  getUserById: getUserById,\n  getAppointments: getAppointments,\n  getAppointmentsByMonthYear: getAppointmentsByMonthYear,\n  getStaff: getStaff,\n  getTreatments: getTreatments\n};\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGF5anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9mYXN0SnNvblBhdGNoIiwiX2ZzIiwiX3BhdGgiLCJvd25LZXlzIiwib2JqZWN0IiwiZW51bWVyYWJsZU9ubHkiLCJrZXlzIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9scyIsImZpbHRlciIsInN5bSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwidGFyZ2V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNvdXJjZSIsImZvckVhY2giLCJrZXkiLCJfZGVmaW5lUHJvcGVydHkyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJkZWZpbmVQcm9wZXJ0eSIsImRiUGF0aCIsImZpbGVuYW1lcyIsImV4cG9ydHMiLCJnZXRKU09OZnJvbUZpbGUiLCJfeCIsIl9nZXRKU09OZnJvbUZpbGUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsImZpbGVuYW1lIiwiZmlsZVBhdGgiLCJkYXRhIiwid3JhcCIsIl9jYWxsZWUkIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsInBhdGgiLCJqb2luIiwiZnMiLCJyZWFkRmlsZSIsInNlbnQiLCJhYnJ1cHQiLCJKU09OIiwicGFyc2UiLCJ0b1N0cmluZyIsInN0b3AiLCJ3cml0ZUpTT05Ub0ZpbGUiLCJfeDIiLCJfeDMiLCJfd3JpdGVKU09OVG9GaWxlIiwiX2NhbGxlZTIiLCJqc29uRGF0YSIsIl9jYWxsZWUyJCIsIl9jb250ZXh0MiIsInN0cmluZ2lmeSIsIndyaXRlRmlsZSIsImZsYWciLCJkZWxldGVJdGVtIiwiX3g0IiwiX3g1IiwiX2RlbGV0ZUl0ZW0iLCJfY2FsbGVlMyIsIml0ZW1JZCIsIml0ZW1zIiwiZm91bmRJdGVtQXJyYXkiLCJ1cGRhdGVkSXRlbXMiLCJfY2FsbGVlMyQiLCJfY29udGV4dDMiLCJpZCIsIkVycm9yIiwiY29uY2F0IiwidDAiLCJhcHBseVBhdGNoIiwianNvblBhdGNoIiwidXBkYXRlSXRlbSIsIl94NiIsIl94NyIsIl94OCIsIl91cGRhdGVJdGVtIiwiX2NhbGxlZTQiLCJpdGVtUGF0Y2giLCJmb3VuZEl0ZW1zIiwidXBkYXRlZERhdGEiLCJfY2FsbGVlNCQiLCJfY29udGV4dDQiLCJpdGVtIiwibmV3RG9jdW1lbnQiLCJnZXRBcHBvaW50bWVudHMiLCJfZ2V0QXBwb2ludG1lbnRzIiwiX2NhbGxlZTUiLCJfY2FsbGVlNSQiLCJfY29udGV4dDUiLCJhcHBvaW50bWVudHMiLCJnZXRBcHBvaW50bWVudHNCeU1vbnRoWWVhciIsIl94OSIsIl94MTAiLCJfZ2V0QXBwb2ludG1lbnRzQnlNb250aFllYXIiLCJfY2FsbGVlNiIsIm1vbnRoIiwieWVhciIsImFwcG9pbnRtZW50RGF0ZU1hcCIsImFsbEFwcG9pbnRtZW50cyIsIl9jYWxsZWU2JCIsIl9jb250ZXh0NiIsImFwcG9pbnRtZW50IiwiYXBwb2ludG1lbnREYXRlIiwiZGF5anMiLCJkYXRlVGltZSIsIk51bWJlciIsImRheU51bSIsImRhdGUiLCJnZXRUcmVhdG1lbnRzIiwiX2dldFRyZWF0bWVudHMiLCJfY2FsbGVlNyIsIl9jYWxsZWU3JCIsIl9jb250ZXh0NyIsInRyZWF0bWVudHMiLCJnZXRTdGFmZiIsIl9nZXRTdGFmZiIsIl9jYWxsZWU4IiwiX2NhbGxlZTgkIiwiX2NvbnRleHQ4Iiwic3RhZmYiLCJnZXRVc2VycyIsInVzZXJzIiwiZ2V0VXNlckJ5SWQiLCJfeDExIiwiX2dldFVzZXJCeUlkIiwiX2NhbGxlZTkiLCJ1c2VySWQiLCJ1c2VyRGF0YSIsIl9jYWxsZWU5JCIsIl9jb250ZXh0OSIsInUiLCJhZGRVc2VyIiwiX3gxMiIsIl9hZGRVc2VyIiwiX2NhbGxlZTEwIiwibmV3VXNlckRhdGEiLCJpZHMiLCJtYXhJZCIsIm5ld1VzZXJJZCIsIm5ld1VzZXIiLCJfY2FsbGVlMTAkIiwiX2NvbnRleHQxMCIsInZhbHVlcyIsIm1hcCIsInJlZHVjZSIsInRlbXBNYXhJZCIsIl90b0NvbnN1bWFibGVBcnJheTIiLCJ3cml0ZUFwcG9pbnRtZW50cyIsIl94MTMiLCJfd3JpdGVBcHBvaW50bWVudHMiLCJfY2FsbGVlMTEiLCJuZXdBcHBvaW50bWVudHNBcnJheSIsIl9jYWxsZWUxMSQiLCJfY29udGV4dDExIiwiX2RlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9saW9ya2FzdGVuYmF1bS9SZXBvcy9rc3QtYXBwb2ludG1lbnRzLW1hbmFnZXItYXBwL3NlcnZlci9zcmMvZGItZnVuYy8iLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIE5PVEU6IGluIHByb2R1Y3Rpb24gdGhpcyB3b3VsZCBjb25uZWN0IHRvIGEgZGF0YWJhc2UsXG4vLyBub3QgSlNPTiBmaWxlcy4gSG93ZXZlciwgSSBkaWRuJ3Qgd2FudCB0byBtYWtlIHlvdSBpbnN0YWxsXG4vLyBhIHBhcnRpY3VsYXIgZGF0YWJhc2UgaW4gb3JkZXIgdG8gdXNlIHRoaXMgYXBwLlxuLy9cbi8vIFRoaXMgXCJkYXRhYmFzZVwiIGlzIGhvcnJpYmx5IGluZWZmaWNpZW50IGFuZCB3aWxsIGJlIGEgcHJvYmxlbVxuLy8gd2hlbiBMYXp5IERheXMgU3BhIG9wZW5zIHRvIGh1bmRyZWRzIG9mIGxvY2F0aW9ucyBnbG9iYWxseS5cbmltcG9ydCBkYXlqcyBmcm9tICdkYXlqcyc7XG5pbXBvcnQganNvblBhdGNoLCB7IE9wZXJhdGlvbiB9IGZyb20gJ2Zhc3QtanNvbi1wYXRjaCc7XG5pbXBvcnQgeyBwcm9taXNlcyBhcyBmcyB9IGZyb20gJ2ZzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuXG5pbXBvcnQge1xuICBBcHBvaW50bWVudCxcbiAgQXBwb2ludG1lbnREYXRlTWFwLFxuICBTdGFmZixcbiAgVHJlYXRtZW50LFxufSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdHlwZXMnO1xuaW1wb3J0IHsgQXV0aFVzZXIsIE5ld0F1dGhVc2VyIH0gZnJvbSAnLi4vYXV0aCc7XG5cbnR5cGUgSnNvbkRhdGFUeXBlID0gQXV0aFVzZXIgfCBBcHBvaW50bWVudCB8IFRyZWF0bWVudCB8IFN0YWZmO1xuXG5jb25zdCBkYlBhdGggPSAnZGInO1xuZXhwb3J0IGVudW0gZmlsZW5hbWVzIHtcbiAgdXNlcnMgPSAndXNlcnMuanNvbicsXG4gIGFwcG9pbnRtZW50cyA9ICdhcHBvaW50bWVudHMuanNvbicsXG4gIHRyZWF0bWVudHMgPSAndHJlYXRtZW50cy5qc29uJyxcbiAgc3RhZmYgPSAnc3RhZmYuanNvbicsXG59XG5cbi8qICoqKioqKiBSZWFkIGZyb20gZmlsZSAqKioqKiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0SlNPTmZyb21GaWxlPEl0ZW1UeXBlIGV4dGVuZHMgSnNvbkRhdGFUeXBlPihcbiAgZmlsZW5hbWU6IGZpbGVuYW1lcyxcbik6IFByb21pc2U8SXRlbVR5cGVbXT4ge1xuICBjb25zdCBmaWxlUGF0aCA9IHBhdGguam9pbihkYlBhdGgsIGZpbGVuYW1lKTtcbiAgY29uc3QgZGF0YSA9IGF3YWl0IGZzLnJlYWRGaWxlKGZpbGVQYXRoKTtcbiAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YS50b1N0cmluZygpKTtcbn1cblxuLyogKioqKioqIFdyaXRlIHRvIGZpbGUgKioqKiogKi9cbmFzeW5jIGZ1bmN0aW9uIHdyaXRlSlNPTlRvRmlsZTxUIGV4dGVuZHMgSnNvbkRhdGFUeXBlPihcbiAgZmlsZW5hbWU6IGZpbGVuYW1lcyxcbiAgZGF0YTogQXJyYXk8VD4sXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4oZGJQYXRoLCBmaWxlbmFtZSk7XG4gIGNvbnN0IGpzb25EYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gIGF3YWl0IGZzLndyaXRlRmlsZShmaWxlUGF0aCwganNvbkRhdGEsIHsgZmxhZzogJ3cnIH0pO1xufVxuXG4vKiAqKioqKiogRGVsZXRlIGl0ZW0gKioqKiogKi9cbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUl0ZW08VCBleHRlbmRzIEpzb25EYXRhVHlwZT4oXG4gIGZpbGVuYW1lOiBmaWxlbmFtZXMsXG4gIGl0ZW1JZDogbnVtYmVyLFxuKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBpdGVtcyA9IGF3YWl0IGdldEpTT05mcm9tRmlsZTxUPihmaWxlbmFtZSk7XG4gICAgY29uc3QgZm91bmRJdGVtQXJyYXkgPSBpdGVtcy5maWx0ZXIoKGkpID0+IGkuaWQgPT09IGl0ZW1JZCk7XG4gICAgaWYgKGZvdW5kSXRlbUFycmF5Lmxlbmd0aCAhPT0gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBpdGVtIGlkICR7aXRlbUlkfSBpbiAke2ZpbGVuYW1lfWApO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVkSXRlbXMgPSBpdGVtcy5maWx0ZXIoKGkpID0+IGkuaWQgIT09IGl0ZW1JZCk7XG4gICAgYXdhaXQgd3JpdGVKU09OVG9GaWxlKGZpbGVuYW1lLCB1cGRhdGVkSXRlbXMpO1xuICAgIHJldHVybiBpdGVtSWQ7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgQ291bGQgbm90IGRlbGV0ZSBpdGVtIGlkICR7aXRlbUlkfSBmcm9tICR7ZmlsZW5hbWV9OiAke2V9YCxcbiAgICApO1xuICB9XG59XG5cbi8qICoqKioqKiBVcGRhdGUgaXRlbSAqKioqKiAqL1xuY29uc3QgeyBhcHBseVBhdGNoIH0gPSBqc29uUGF0Y2g7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxpbmVzLXBlci1mdW5jdGlvblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlSXRlbTxEYXRhVHlwZSBleHRlbmRzIEpzb25EYXRhVHlwZT4oXG4gIGl0ZW1JZDogbnVtYmVyLFxuICBmaWxlbmFtZTogZmlsZW5hbWVzLFxuICAvLyBzaG91bGQgYmUgZmFzdC1qc29uLXBhdGNoIE9wZXJhdGlvbiwgYnV0IEkgY2FuJ3QgZGVzdHJ1Y3R1cmUgb24gaW1wb3J0XG4gIGl0ZW1QYXRjaDogT3BlcmF0aW9uW10sXG4pOiBQcm9taXNlPERhdGFUeXBlPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgaXRlbXMgPSBhd2FpdCBnZXRKU09OZnJvbUZpbGU8RGF0YVR5cGU+KGZpbGVuYW1lKTtcblxuICAgIC8vIGZpbmQgdGhlIGl0ZW1cbiAgICBjb25zdCBmb3VuZEl0ZW1zID0gaXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkID09PSBpdGVtSWQpO1xuICAgIGlmIChmb3VuZEl0ZW1zLmxlbmd0aCAhPT0gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBpdGVtIHdpdGggaWQgJHtpdGVtSWR9YCk7XG4gICAgfVxuXG4gICAgLy8gYXBwbHkgdGhlIHBhdGNoXG4gICAgY29uc3QgdXBkYXRlZERhdGEgPSBhcHBseVBhdGNoKGZvdW5kSXRlbXNbMF0sIGl0ZW1QYXRjaCkubmV3RG9jdW1lbnQ7XG5cbiAgICAvLyB3cml0ZSB0aGUgbmV3IGl0ZW0gZGF0YS4gTm90ZTogdGhpcyB3aG9sZSBmdW5jdGlvbiBpcyBob3JyaWJseSBpbmVmZmljaWVudCBhbmRcbiAgICAvLyB3b3VsZCBiZSBtdWNoIGltcHJvdmVkIHdpdGggYSByZWFsIGRiLlxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0sIGkpID0+IHtcbiAgICAgIGlmIChpdGVtLmlkID09PSBpdGVtSWQpIHtcbiAgICAgICAgaXRlbXNbaV0gPSB1cGRhdGVkRGF0YTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGF3YWl0IHdyaXRlSlNPTlRvRmlsZShmaWxlbmFtZSwgaXRlbXMpO1xuICAgIHJldHVybiB1cGRhdGVkRGF0YTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBDb3VsZCBub3QgZGVsZXRlIGl0ZW0gaWQgJHtpdGVtSWR9IGZyb20gJHtmaWxlbmFtZX06ICR7ZX1gLFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFwcG9pbnRtZW50cygpOiBQcm9taXNlPEFwcG9pbnRtZW50W10+IHtcbiAgcmV0dXJuIGdldEpTT05mcm9tRmlsZTxBcHBvaW50bWVudD4oZmlsZW5hbWVzLmFwcG9pbnRtZW50cyk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBcHBvaW50bWVudHNCeU1vbnRoWWVhcihcbiAgbW9udGg6IHN0cmluZyxcbiAgeWVhcjogc3RyaW5nLFxuKTogUHJvbWlzZTxBcHBvaW50bWVudERhdGVNYXA+IHtcbiAgLy8geWV0IGFub3RoZXIgcGxhY2Ugd2hlcmUgaW5lZmZpY2llbmN5IGlzIHJpZGljdWxvdXMgY29tcGFyZWQgdG8gYSByZWFsIGRiXG4gIGNvbnN0IGFwcG9pbnRtZW50RGF0ZU1hcDogQXBwb2ludG1lbnREYXRlTWFwID0ge307XG4gIGNvbnN0IGFsbEFwcG9pbnRtZW50cyA9IGF3YWl0IGdldEFwcG9pbnRtZW50cygpO1xuXG4gIC8vIGZpbHRlciBkYXRhIGFuZCBtYXNzYWdlIGludG8gZm9ybWF0IGV4cGVjdGVkIGJ5IGNsaWVudFxuICBhbGxBcHBvaW50bWVudHMuZm9yRWFjaCgoYXBwb2ludG1lbnQpID0+IHtcbiAgICBjb25zdCBhcHBvaW50bWVudERhdGUgPSBkYXlqcyhhcHBvaW50bWVudC5kYXRlVGltZSk7XG4gICAgaWYgKFxuICAgICAgLy8gemVyby1pbmRleGVkIG1vbnRoXG4gICAgICBhcHBvaW50bWVudERhdGUubW9udGgoKSArIDEgPT09IE51bWJlcihtb250aCkgJiZcbiAgICAgIGFwcG9pbnRtZW50RGF0ZS55ZWFyKCkgPT09IE51bWJlcih5ZWFyKVxuICAgICkge1xuICAgICAgY29uc3QgZGF5TnVtID0gZGF5anMoYXBwb2ludG1lbnQuZGF0ZVRpbWUpLmRhdGUoKTtcbiAgICAgIGlmIChhcHBvaW50bWVudERhdGVNYXBbZGF5TnVtXSkge1xuICAgICAgICBhcHBvaW50bWVudERhdGVNYXBbZGF5TnVtXS5wdXNoKGFwcG9pbnRtZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwcG9pbnRtZW50RGF0ZU1hcFtkYXlOdW1dID0gW2FwcG9pbnRtZW50XTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gYXBwb2ludG1lbnREYXRlTWFwO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VHJlYXRtZW50cygpOiBQcm9taXNlPFRyZWF0bWVudFtdPiB7XG4gIHJldHVybiBnZXRKU09OZnJvbUZpbGU8VHJlYXRtZW50PihmaWxlbmFtZXMudHJlYXRtZW50cyk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTdGFmZigpOiBQcm9taXNlPFN0YWZmW10+IHtcbiAgcmV0dXJuIGdldEpTT05mcm9tRmlsZTxTdGFmZj4oZmlsZW5hbWVzLnN0YWZmKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJzKCk6IFByb21pc2U8QXV0aFVzZXJbXT4ge1xuICByZXR1cm4gZ2V0SlNPTmZyb21GaWxlPEF1dGhVc2VyPihmaWxlbmFtZXMudXNlcnMpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckJ5SWQodXNlcklkOiBudW1iZXIpOiBQcm9taXNlPEF1dGhVc2VyPiB7XG4gIGNvbnN0IHVzZXJzID0gYXdhaXQgZ2V0VXNlcnMoKTtcbiAgY29uc3QgdXNlckRhdGEgPSB1c2Vycy5maWx0ZXIoKHUpID0+IHUuaWQgPT09IHVzZXJJZCk7XG4gIGlmICh1c2VyRGF0YS5sZW5ndGggPCAxKSB0aHJvdyBuZXcgRXJyb3IoJ3VzZXIgbm90IGZvdW5kJyk7XG4gIGlmICh1c2VyRGF0YS5sZW5ndGggPCAxKSB0aHJvdyBuZXcgRXJyb3IoJ2R1cGxpY2F0ZSB1c2VyIGZvdW5kJyk7XG4gIHJldHVybiB1c2VyRGF0YVswXTtcbn1cblxuLyogKioqKioqIEFkZCBuZXcgdXNlciAqKioqKiAqL1xuYXN5bmMgZnVuY3Rpb24gYWRkVXNlcihuZXdVc2VyRGF0YTogTmV3QXV0aFVzZXIpOiBQcm9taXNlPEF1dGhVc2VyPiB7XG4gIGNvbnN0IHVzZXJzID0gYXdhaXQgZ2V0VXNlcnMoKTtcblxuICAvLyBnZXQgdGhlIG1heCBpZCBmcm9tIHRoZSBleGlzdGluZyBpZHNcbiAgY29uc3QgaWRzOiBudW1iZXJbXSA9IE9iamVjdC52YWx1ZXModXNlcnMpLm1hcCgodSkgPT4gdS5pZCk7XG4gIGNvbnN0IG1heElkID0gaWRzLnJlZHVjZSgodGVtcE1heElkOiBudW1iZXIsIGl0ZW1JZDogbnVtYmVyKSA9PiB7XG4gICAgcmV0dXJuIGl0ZW1JZCA+IHRlbXBNYXhJZCA/IGl0ZW1JZCA6IHRlbXBNYXhJZDtcbiAgfSwgMCk7XG5cbiAgLy8gdGhlIG5ldyB1c2VyIHdpbGwgaGF2ZSBhbiBpZCBvZiB0aGUgbWF4IGlkIHBsdXMgMVxuICBjb25zdCBuZXdVc2VySWQgPSBtYXhJZCArIDE7XG5cbiAgY29uc3QgbmV3VXNlciA9IHsgLi4ubmV3VXNlckRhdGEsIGlkOiBuZXdVc2VySWQgfTtcbiAgYXdhaXQgd3JpdGVKU09OVG9GaWxlKGZpbGVuYW1lcy51c2VycywgWy4uLnVzZXJzLCBuZXdVc2VyXSk7XG4gIHJldHVybiBuZXdVc2VyO1xufVxuXG4vKiAqKioqKiogQWRkIG5ldyBhcHBvaW5tZW50ICoqKioqICovXG5hc3luYyBmdW5jdGlvbiB3cml0ZUFwcG9pbnRtZW50cyhcbiAgbmV3QXBwb2ludG1lbnRzQXJyYXk6IEFwcG9pbnRtZW50W10sXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgd3JpdGVKU09OVG9GaWxlKGZpbGVuYW1lcy5hcHBvaW50bWVudHMsIG5ld0FwcG9pbnRtZW50c0FycmF5KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBmaWxlbmFtZXMsXG4gIHdyaXRlQXBwb2ludG1lbnRzLFxuICBhZGRVc2VyLFxuICBkZWxldGVJdGVtLFxuICB1cGRhdGVJdGVtLFxuICBnZXRVc2VycyxcbiAgZ2V0VXNlckJ5SWQsXG4gIGdldEFwcG9pbnRtZW50cyxcbiAgZ2V0QXBwb2ludG1lbnRzQnlNb250aFllYXIsXG4gIGdldFN0YWZmLFxuICBnZXRUcmVhdG1lbnRzLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxjQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxLQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBd0IsU0FBQUksUUFBQUMsTUFBQSxFQUFBQyxjQUFBLFFBQUFDLElBQUEsR0FBQUMsTUFBQSxDQUFBRCxJQUFBLENBQUFGLE1BQUEsT0FBQUcsTUFBQSxDQUFBQyxxQkFBQSxRQUFBQyxPQUFBLEdBQUFGLE1BQUEsQ0FBQUMscUJBQUEsQ0FBQUosTUFBQSxHQUFBQyxjQUFBLEtBQUFJLE9BQUEsR0FBQUEsT0FBQSxDQUFBQyxNQUFBLFdBQUFDLEdBQUEsV0FBQUosTUFBQSxDQUFBSyx3QkFBQSxDQUFBUixNQUFBLEVBQUFPLEdBQUEsRUFBQUUsVUFBQSxPQUFBUCxJQUFBLENBQUFRLElBQUEsQ0FBQUMsS0FBQSxDQUFBVCxJQUFBLEVBQUFHLE9BQUEsWUFBQUgsSUFBQTtBQUFBLFNBQUFVLGNBQUFDLE1BQUEsYUFBQUMsQ0FBQSxNQUFBQSxDQUFBLEdBQUFDLFNBQUEsQ0FBQUMsTUFBQSxFQUFBRixDQUFBLFVBQUFHLE1BQUEsV0FBQUYsU0FBQSxDQUFBRCxDQUFBLElBQUFDLFNBQUEsQ0FBQUQsQ0FBQSxRQUFBQSxDQUFBLE9BQUFmLE9BQUEsQ0FBQUksTUFBQSxDQUFBYyxNQUFBLE9BQUFDLE9BQUEsV0FBQUMsR0FBQSxRQUFBQyxnQkFBQSxhQUFBUCxNQUFBLEVBQUFNLEdBQUEsRUFBQUYsTUFBQSxDQUFBRSxHQUFBLFNBQUFoQixNQUFBLENBQUFrQix5QkFBQSxHQUFBbEIsTUFBQSxDQUFBbUIsZ0JBQUEsQ0FBQVQsTUFBQSxFQUFB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","map":{"version":3,"names":["_dayjs","_interopRequireDefault","require","_fastJsonPatch","_fs","_path","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","dbPath","filenames","exports","getJSONfromFile","_x","_getJSONfromFile","_asyncToGenerator2","_regenerator","mark","_callee","filename","filePath","data","wrap","_callee$","_context","prev","next","path","join","fs","readFile","sent","abrupt","JSON","parse","toString","stop","writeJSONToFile","_x2","_x3","_writeJSONToFile","_callee2","jsonData","_callee2$","_context2","stringify","writeFile","flag","deleteItem","_x4","_x5","_deleteItem","_callee3","itemId","items","foundItemArray","updatedItems","_callee3$","_context3","id","Error","concat","t0","applyPatch","jsonPatch","updateItem","_x6","_x7","_x8","_updateItem","_callee4","itemPatch","foundItems","updatedData","_callee4$","_context4","item","newDocument","getAppointments","_getAppointments","_callee5","_callee5$","_context5","appointments","getAppointmentsByMonthYear","_x9","_x10","_getAppointmentsByMonthYear","_callee6","month","year","appointmentDateMap","allAppointments","_callee6$","_context6","appointment","appointmentDate","dayjs","dateTime","Number","dayNum","date","getTreatments","_getTreatments","_callee7","_callee7$","_context7","treatments","getStaff","_getStaff","_callee8","_callee8$","_context8","staff","getUsers","users","getUserById","_x11","_getUserById","_callee9","userId","userData","_callee9$","_context9","u","addUser","_x12","_addUser","_callee10","newUserData","ids","maxId","newUserId","newUser","_callee10$","_context10","values","map","reduce","tempMaxId","_toConsumableArray2","writeAppointments","_x13","_writeAppointments","_callee11","newAppointmentsArray","_callee11$","_context11","_default"],"sourceRoot":"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/db-func/","sources":["index.ts"],"sourcesContent":["// NOTE: in production this would connect to a database,\n// not JSON files. However, I didn't want to make you install\n// a particular database in order to use this app.\n//\n// This \"database\" is horribly inefficient and will be a problem\n// when Lazy Days Spa opens to hundreds of locations globally.\nimport dayjs from 'dayjs';\nimport jsonPatch, { Operation } from 'fast-json-patch';\nimport { promises as fs } from 'fs';\nimport path from 'path';\n\nimport {\n  Appointment,\n  AppointmentDateMap,\n  Staff,\n  Treatment,\n} from '../../../shared/types';\nimport { AuthUser, NewAuthUser } from '../auth';\n\ntype JsonDataType = AuthUser | Appointment | Treatment | Staff;\n\nconst dbPath = 'db';\nexport enum filenames {\n  users = 'users.json',\n  appointments = 'appointments.json',\n  treatments = 'treatments.json',\n  staff = 'staff.json',\n}\n\n/* ****** Read from file ***** */\nasync function getJSONfromFile<ItemType extends JsonDataType>(\n  filename: filenames,\n): Promise<ItemType[]> {\n  const filePath = path.join(dbPath, filename);\n  const data = await fs.readFile(filePath);\n  return JSON.parse(data.toString());\n}\n\n/* ****** Write to file ***** */\nasync function writeJSONToFile<T extends JsonDataType>(\n  filename: filenames,\n  data: Array<T>,\n): Promise<void> {\n  const filePath = path.join(dbPath, filename);\n  const jsonData = JSON.stringify(data);\n  await fs.writeFile(filePath, jsonData, { flag: 'w' });\n}\n\n/* ****** Delete item ***** */\nasync function deleteItem<T extends JsonDataType>(\n  filename: filenames,\n  itemId: number,\n): Promise<number> {\n  try {\n    const items = await getJSONfromFile<T>(filename);\n    const foundItemArray = items.filter((i) => i.id === itemId);\n    if (foundItemArray.length !== 1) {\n      throw new Error(`Could not find item id ${itemId} in ${filename}`);\n    }\n    const updatedItems = items.filter((i) => i.id !== itemId);\n    await writeJSONToFile(filename, updatedItems);\n    return itemId;\n  } catch (e) {\n    throw new Error(\n      `Could not delete item id ${itemId} from ${filename}: ${e}`,\n    );\n  }\n}\n\n/* ****** Update item ***** */\nconst { applyPatch } = jsonPatch;\n// eslint-disable-next-line max-lines-per-function\nasync function updateItem<DataType extends JsonDataType>(\n  itemId: number,\n  filename: filenames,\n  // should be fast-json-patch Operation, but I can't destructure on import\n  itemPatch: Operation[],\n): Promise<DataType> {\n  try {\n    const items = await getJSONfromFile<DataType>(filename);\n\n    // find the item\n    const foundItems = items.filter((item) => item.id === itemId);\n    if (foundItems.length !== 1) {\n      throw new Error(`Could not find item with id ${itemId}`);\n    }\n\n    // apply the patch\n    const updatedData = applyPatch(foundItems[0], itemPatch).newDocument;\n\n    // write the new item data. Note: this whole function is horribly inefficient and\n    // would be much improved with a real db.\n    items.forEach((item, i) => {\n      if (item.id === itemId) {\n        items[i] = updatedData;\n      }\n    });\n\n    await writeJSONToFile(filename, items);\n    return updatedData;\n  } catch (e) {\n    throw new Error(\n      `Could not delete item id ${itemId} from ${filename}: ${e}`,\n    );\n  }\n}\n\nexport async function getAppointments(): Promise<Appointment[]> {\n  return getJSONfromFile<Appointment>(filenames.appointments);\n}\n\nexport async function getAppointmentsByMonthYear(\n  month: string,\n  year: string,\n): Promise<AppointmentDateMap> {\n  // yet another place where inefficiency is ridiculous compared to a real db\n  const appointmentDateMap: AppointmentDateMap = {};\n  const allAppointments = await getAppointments();\n\n  // filter data and massage into format expected by client\n  allAppointments.forEach((appointment) => {\n    const appointmentDate = dayjs(appointment.dateTime);\n    if (\n      // zero-indexed month\n      appointmentDate.month() + 1 === Number(month) &&\n      appointmentDate.year() === Number(year)\n    ) {\n      const dayNum = dayjs(appointment.dateTime).date();\n      if (appointmentDateMap[dayNum]) {\n        appointmentDateMap[dayNum].push(appointment);\n      } else {\n        appointmentDateMap[dayNum] = [appointment];\n      }\n    }\n  });\n  return appointmentDateMap;\n}\n\nexport async function getTreatments(): Promise<Treatment[]> {\n  return getJSONfromFile<Treatment>(filenames.treatments);\n}\n\nexport async function getStaff(): Promise<Staff[]> {\n  return getJSONfromFile<Staff>(filenames.staff);\n}\n\nexport function getUsers(): Promise<AuthUser[]> {\n  return getJSONfromFile<AuthUser>(filenames.users);\n}\n\nexport async function getUserById(userId: number): Promise<AuthUser> {\n  const users = await getUsers();\n  const userData = users.filter((u) => u.id === userId);\n  if (userData.length < 1) throw new Error('user not found');\n  if (userData.length < 1) throw new Error('duplicate user found');\n  return userData[0];\n}\n\n/* ****** Add new user ***** */\nasync function addUser(newUserData: NewAuthUser): Promise<AuthUser> {\n  const users = await getUsers();\n\n  // get the max id from the existing ids\n  const ids: number[] = Object.values(users).map((u) => u.id);\n  const maxId = ids.reduce((tempMaxId: number, itemId: number) => {\n    return itemId > tempMaxId ? itemId : tempMaxId;\n  }, 0);\n\n  // the new user will have an id of the max id plus 1\n  const newUserId = maxId + 1;\n\n  const newUser = { ...newUserData, id: newUserId };\n  await writeJSONToFile(filenames.users, [...users, newUser]);\n  return newUser;\n}\n\n/* ****** Add new appoinment ***** */\nasync function writeAppointments(\n  newAppointmentsArray: Appointment[],\n): Promise<void> {\n  await writeJSONToFile(filenames.appointments, newAppointmentsArray);\n}\n\nexport default {\n  filenames,\n  writeAppointments,\n  addUser,\n  deleteItem,\n  updateItem,\n  getUsers,\n  getUserById,\n  getAppointments,\n  getAppointmentsByMonthYear,\n  getStaff,\n  getTreatments,\n};\n"],"mappings":"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"}},"mtime":1685356796085},"{\"assumptions\":{},\"sourceRoot\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/middlewares/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server\",\"filename\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/middlewares/index.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateUser = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _dbFunc = _interopRequireDefault(require(\"../db-func\"));\n// middleware for validating user\n// eslint-disable-next-line consistent-return\nvar validateUser = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res, next) {\n    var _req$auth, requestedId;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          // check that the token matches the id url param (decoded token resides in req.user)\n          requestedId = Number(req.params.id);\n          if (!(((_req$auth = req.auth) === null || _req$auth === void 0 ? void 0 : _req$auth.id) !== requestedId)) {\n            _context.next = 6;\n            break;\n          }\n          res.status(401).send();\n          _context.next = 9;\n          break;\n        case 6:\n          _context.next = 8;\n          return _dbFunc[\"default\"].getUserById(requestedId);\n        case 8:\n          next();\n        case 9:\n          _context.next = 14;\n          break;\n        case 11:\n          _context.prev = 11;\n          _context.t0 = _context[\"catch\"](0);\n          next(_context.t0);\n        case 14:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 11]]);\n  }));\n  return function validateUser(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexports.validateUser = validateUser;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGJGdW5jIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJ2YWxpZGF0ZVVzZXIiLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJyZXEiLCJyZXMiLCJuZXh0IiwiX3JlcSRhdXRoIiwicmVxdWVzdGVkSWQiLCJ3cmFwIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInByZXYiLCJOdW1iZXIiLCJwYXJhbXMiLCJpZCIsImF1dGgiLCJzdGF0dXMiLCJzZW5kIiwiZGIiLCJnZXRVc2VyQnlJZCIsInQwIiwic3RvcCIsIl94IiwiX3gyIiwiX3gzIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvbGlvcmthc3RlbmJhdW0vUmVwb3Mva3N0LWFwcG9pbnRtZW50cy1tYW5hZ2VyLWFwcC9zZXJ2ZXIvc3JjL21pZGRsZXdhcmVzLyIsInNvdXJjZXMiOlsiaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEZ1bmN0aW9uLCBSZXF1ZXN0LCBSZXF1ZXN0SGFuZGxlciB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHsgUGFyYW1zRGljdGlvbmFyeSB9IGZyb20gJ2V4cHJlc3Mtc2VydmUtc3RhdGljLWNvcmUnO1xuaW1wb3J0IHsgT3BlcmF0aW9uIH0gZnJvbSAnZmFzdC1qc29uLXBhdGNoJztcblxuaW1wb3J0IGRiIGZyb20gJy4uL2RiLWZ1bmMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIGlkUGFyYW1zSW50ZXJmYWNlIGV4dGVuZHMgUGFyYW1zRGljdGlvbmFyeSB7XG4gIGlkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2VXaXRoTWVzc2FnZSB7XG4gIG1lc3NhZ2U6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXRjaFJlcXVlc3QgZXh0ZW5kcyBSZXF1ZXN0IHtcbiAgcGF0Y2g/OiBPcGVyYXRpb25bXTtcbn1cblxuZXhwb3J0IHR5cGUgQXV0aFJlcXVlc3QgPSBSZXF1ZXN0PFxuICBpZFBhcmFtc0ludGVyZmFjZSxcbiAgUmVzcG9uc2VXaXRoTWVzc2FnZSxcbiAgUGF0Y2hSZXF1ZXN0LFxuICBxcy5QYXJzZWRRcyxcbiAgTmV4dEZ1bmN0aW9uXG4+O1xuXG4vLyBtaWRkbGV3YXJlIGZvciB2YWxpZGF0aW5nIHVzZXJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlVXNlcjogUmVxdWVzdEhhbmRsZXI8XG4gIGlkUGFyYW1zSW50ZXJmYWNlLFxuICBSZXNwb25zZVdpdGhNZXNzYWdlLFxuICBQYXRjaFJlcXVlc3QsXG4gIHFzLlBhcnNlZFFzLFxuICBOZXh0RnVuY3Rpb25cbj4gPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBjaGVjayB0aGF0IHRoZSB0b2tlbiBtYXRjaGVzIHRoZSBpZCB1cmwgcGFyYW0gKGRlY29kZWQgdG9rZW4gcmVzaWRlcyBpbiByZXEudXNlcilcbiAgICBjb25zdCByZXF1ZXN0ZWRJZCA9IE51bWJlcihyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAocmVxLmF1dGg/LmlkICE9PSByZXF1ZXN0ZWRJZCkge1xuICAgICAgcmVzLnN0YXR1cyg0MDEpLnNlbmQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZmluZCB0aGUgdXNlcjsgd2lsbCB0aHJvdyBlcnJvciBpZiB1c2VyIGRvZXNuJ3QgZXhpc3RcbiAgICAgIGF3YWl0IGRiLmdldFVzZXJCeUlkKHJlcXVlc3RlZElkKTtcbiAgICAgIG5leHQoKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbmV4dChlcnJvcik7XG4gIH1cbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUlBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQXNCQTtBQUNBO0FBQ08sSUFBTUMsWUFNWjtFQUFBLElBQUFDLElBQUEsT0FBQUMsa0JBQUEsMkJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFHLFNBQUFDLFFBQU9DLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJO0lBQUEsSUFBQUMsU0FBQSxFQUFBQyxXQUFBO0lBQUEsT0FBQVAsWUFBQSxZQUFBUSxJQUFBLFVBQUFDLFNBQUFDLFFBQUE7TUFBQSxrQkFBQUEsUUFBQSxDQUFBQyxJQUFBLEdBQUFELFFBQUEsQ0FBQUwsSUFBQTtRQUFBO1VBQUFLLFFBQUEsQ0FBQUMsSUFBQTtVQUVyQjtVQUNNSixXQUFXLEdBQUdLLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDVSxNQUFNLENBQUNDLEVBQUUsQ0FBQztVQUFBLE1BQ3JDLEVBQUFSLFNBQUEsR0FBQUgsR0FBRyxDQUFDWSxJQUFJLGNBQUFULFNBQUEsdUJBQVJBLFNBQUEsQ0FBVVEsRUFBRSxNQUFLUCxXQUFXO1lBQUFHLFFBQUEsQ0FBQUwsSUFBQTtZQUFBO1VBQUE7VUFDOUJELEdBQUcsQ0FBQ1ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUMsQ0FBQztVQUFDUCxRQUFBLENBQUFMLElBQUE7VUFBQTtRQUFBO1VBQUFLLFFBQUEsQ0FBQUwsSUFBQTtVQUFBLE9BR2pCYSxrQkFBRSxDQUFDQyxXQUFXLENBQUNaLFdBQVcsQ0FBQztRQUFBO1VBQ2pDRixJQUFJLENBQUMsQ0FBQztRQUFDO1VBQUFLLFFBQUEsQ0FBQUwsSUFBQTtVQUFBO1FBQUE7VUFBQUssUUFBQSxDQUFBQyxJQUFBO1VBQUFELFFBQUEsQ0FBQVUsRUFBQSxHQUFBVixRQUFBO1VBR1RMLElBQUksQ0FBQUssUUFBQSxDQUFBVSxFQUFNLENBQUM7UUFBQztRQUFBO1VBQUEsT0FBQVYsUUFBQSxDQUFBVyxJQUFBO01BQUE7SUFBQSxHQUFBbkIsT0FBQTtFQUFBLENBRWY7RUFBQSxnQkFwQllMLFlBTVpBLENBQUF5QixFQUFBLEVBQUFDLEdBQUEsRUFBQUMsR0FBQTtJQUFBLE9BQUExQixJQUFBLENBQUEyQixLQUFBLE9BQUFDLFNBQUE7RUFBQTtBQUFBLEdBY0E7QUFBQ0MsT0FBQSxDQUFBOUIsWUFBQSxHQUFBQSxZQUFBIn0=","map":{"version":3,"names":["_dbFunc","_interopRequireDefault","require","validateUser","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","next","_req$auth","requestedId","wrap","_callee$","_context","prev","Number","params","id","auth","status","send","db","getUserById","t0","stop","_x","_x2","_x3","apply","arguments","exports"],"sourceRoot":"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/middlewares/","sources":["index.ts"],"sourcesContent":["import { NextFunction, Request, RequestHandler } from 'express';\nimport { ParamsDictionary } from 'express-serve-static-core';\nimport { Operation } from 'fast-json-patch';\n\nimport db from '../db-func';\n\nexport interface idParamsInterface extends ParamsDictionary {\n  id: string;\n}\n\nexport interface ResponseWithMessage {\n  message: string;\n}\n\nexport interface PatchRequest extends Request {\n  patch?: Operation[];\n}\n\nexport type AuthRequest = Request<\n  idParamsInterface,\n  ResponseWithMessage,\n  PatchRequest,\n  qs.ParsedQs,\n  NextFunction\n>;\n\n// middleware for validating user\n// eslint-disable-next-line consistent-return\nexport const validateUser: RequestHandler<\n  idParamsInterface,\n  ResponseWithMessage,\n  PatchRequest,\n  qs.ParsedQs,\n  NextFunction\n> = async (req, res, next) => {\n  try {\n    // check that the token matches the id url param (decoded token resides in req.user)\n    const requestedId = Number(req.params.id);\n    if (req.auth?.id !== requestedId) {\n      res.status(401).send();\n    } else {\n      // find the user; will throw error if user doesn't exist\n      await db.getUserById(requestedId);\n      next();\n    }\n  } catch (error) {\n    next(error);\n  }\n};\n"],"mappings":";;;;;;;;;AAIA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAsBA;AACA;AACO,IAAMC,YAMZ;EAAA,IAAAC,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAG,SAAAC,QAAOC,GAAG,EAAEC,GAAG,EAAEC,IAAI;IAAA,IAAAC,SAAA,EAAAC,WAAA;IAAA,OAAAP,YAAA,YAAAQ,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAL,IAAA;QAAA;UAAAK,QAAA,CAAAC,IAAA;UAErB;UACMJ,WAAW,GAAGK,MAAM,CAACT,GAAG,CAACU,MAAM,CAACC,EAAE,CAAC;UAAA,MACrC,EAAAR,SAAA,GAAAH,GAAG,CAACY,IAAI,cAAAT,SAAA,uBAARA,SAAA,CAAUQ,EAAE,MAAKP,WAAW;YAAAG,QAAA,CAAAL,IAAA;YAAA;UAAA;UAC9BD,GAAG,CAACY,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,CAAC;UAACP,QAAA,CAAAL,IAAA;UAAA;QAAA;UAAAK,QAAA,CAAAL,IAAA;UAAA,OAGjBa,kBAAE,CAACC,WAAW,CAACZ,WAAW,CAAC;QAAA;UACjCF,IAAI,CAAC,CAAC;QAAC;UAAAK,QAAA,CAAAL,IAAA;UAAA;QAAA;UAAAK,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAU,EAAA,GAAAV,QAAA;UAGTL,IAAI,CAAAK,QAAA,CAAAU,EAAM,CAAC;QAAC;QAAA;UAAA,OAAAV,QAAA,CAAAW,IAAA;MAAA;IAAA,GAAAnB,OAAA;EAAA,CAEf;EAAA,gBApBYL,YAMZA,CAAAyB,EAAA,EAAAC,GAAA,EAAAC,GAAA;IAAA,OAAA1B,IAAA,CAAA2B,KAAA,OAAAC,SAAA;EAAA;AAAA,GAcA;AAACC,OAAA,CAAA9B,YAAA,GAAAA,YAAA"}},"mtime":1685356796085},"{\"assumptions\":{},\"sourceRoot\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/route-methods/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server\",\"filename\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/route-methods/appointment.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nexports.get = get;\nexports.update = update;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _dbFunc = _interopRequireDefault(require(\"../db-func\"));\n// month and year are required arguments\nfunction get(_x, _x2) {\n  return _get.apply(this, arguments);\n}\nfunction _get() {\n  _get = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var _req$params, month, year, appointments;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _req$params = req.params, month = _req$params.month, year = _req$params.year;\n          if (!(!month || !year)) {\n            _context.next = 3;\n            break;\n          }\n          return _context.abrupt(\"return\", res.status(400).json({\n            message: 'month and year are required to get appointments'\n          }));\n        case 3:\n          _context.prev = 3;\n          _context.next = 6;\n          return _dbFunc[\"default\"].getAppointmentsByMonthYear(month, year);\n        case 6:\n          appointments = _context.sent;\n          return _context.abrupt(\"return\", res.status(200).json(appointments));\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context[\"catch\"](3);\n          return _context.abrupt(\"return\", res.status(500).json({\n            message: \"could not get appointments for \".concat(month, \" / \").concat(year, \": \").concat(_context.t0)\n          }));\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[3, 10]]);\n  }));\n  return _get.apply(this, arguments);\n}\nfunction update(_x3, _x4) {\n  return _update.apply(this, arguments);\n}\nfunction _update() {\n  _update = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var id, patch, updatedAppointment;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          id = req.params.id;\n          patch = req.body.data;\n          _context2.next = 5;\n          return _dbFunc[\"default\"].updateItem(Number(id), _dbFunc[\"default\"].filenames.appointments, patch);\n        case 5:\n          updatedAppointment = _context2.sent;\n          return _context2.abrupt(\"return\", res.status(200).json({\n            appointment: updatedAppointment\n          }));\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2[\"catch\"](0);\n          return _context2.abrupt(\"return\", res.status(500).json({\n            message: \"could not update appointment: \".concat(_context2.t0)\n          }));\n        case 12:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 9]]);\n  }));\n  return _update.apply(this, arguments);\n}\nvar _default = {\n  get: get,\n  update: update\n};\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGJGdW5jIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJnZXQiLCJfeCIsIl94MiIsIl9nZXQiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWdlbmVyYXRvciIsIm1hcmsiLCJfY2FsbGVlIiwicmVxIiwicmVzIiwiX3JlcSRwYXJhbXMiLCJtb250aCIsInllYXIiLCJhcHBvaW50bWVudHMiLCJ3cmFwIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwicGFyYW1zIiwiYWJydXB0Iiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJkYiIsImdldEFwcG9pbnRtZW50c0J5TW9udGhZZWFyIiwic2VudCIsInQwIiwiY29uY2F0Iiwic3RvcCIsInVwZGF0ZSIsIl94MyIsIl94NCIsIl91cGRhdGUiLCJfY2FsbGVlMiIsImlkIiwicGF0Y2giLCJ1cGRhdGVkQXBwb2ludG1lbnQiLCJfY2FsbGVlMiQiLCJfY29udGV4dDIiLCJib2R5IiwiZGF0YSIsInVwZGF0ZUl0ZW0iLCJOdW1iZXIiLCJmaWxlbmFtZXMiLCJhcHBvaW50bWVudCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2xpb3JrYXN0ZW5iYXVtL1JlcG9zL2tzdC1hcHBvaW50bWVudHMtbWFuYWdlci1hcHAvc2VydmVyL3NyYy9yb3V0ZS1tZXRob2RzLyIsInNvdXJjZXMiOlsiYXBwb2ludG1lbnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICdleHByZXNzJztcblxuaW1wb3J0IHsgQXBwb2ludG1lbnQgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdHlwZXMnO1xuaW1wb3J0IGRiIGZyb20gJy4uL2RiLWZ1bmMnO1xuXG4vLyBtb250aCBhbmQgeWVhciBhcmUgcmVxdWlyZWQgYXJndW1lbnRzXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0KHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSk6IFByb21pc2U8UmVzcG9uc2U+IHtcbiAgY29uc3QgeyBtb250aCwgeWVhciB9ID0gcmVxLnBhcmFtcztcbiAgaWYgKCFtb250aCB8fCAheWVhcikge1xuICAgIHJldHVybiByZXNcbiAgICAgIC5zdGF0dXMoNDAwKVxuICAgICAgLmpzb24oeyBtZXNzYWdlOiAnbW9udGggYW5kIHllYXIgYXJlIHJlcXVpcmVkIHRvIGdldCBhcHBvaW50bWVudHMnIH0pO1xuICB9XG4gIHRyeSB7XG4gICAgY29uc3QgYXBwb2ludG1lbnRzID0gYXdhaXQgZGIuZ2V0QXBwb2ludG1lbnRzQnlNb250aFllYXIobW9udGgsIHllYXIpO1xuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihhcHBvaW50bWVudHMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgIG1lc3NhZ2U6IGBjb3VsZCBub3QgZ2V0IGFwcG9pbnRtZW50cyBmb3IgJHttb250aH0gLyAke3llYXJ9OiAke2V9YCxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSk6IFByb21pc2U8UmVzcG9uc2U+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xuICAgIGNvbnN0IHBhdGNoID0gcmVxLmJvZHkuZGF0YTtcbiAgICBjb25zdCB1cGRhdGVkQXBwb2ludG1lbnQgPSBhd2FpdCBkYi51cGRhdGVJdGVtPEFwcG9pbnRtZW50PihcbiAgICAgIE51bWJlcihpZCksXG4gICAgICBkYi5maWxlbmFtZXMuYXBwb2ludG1lbnRzLFxuICAgICAgcGF0Y2gsXG4gICAgKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBhcHBvaW50bWVudDogdXBkYXRlZEFwcG9pbnRtZW50IH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHJlc1xuICAgICAgLnN0YXR1cyg1MDApXG4gICAgICAuanNvbih7IG1lc3NhZ2U6IGBjb3VsZCBub3QgdXBkYXRlIGFwcG9pbnRtZW50OiAke2V9YCB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGdldCxcbiAgdXBkYXRlLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFHQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFFQTtBQUFBLFNBQ3NCQyxHQUFHQSxDQUFBQyxFQUFBLEVBQUFDLEdBQUE7RUFBQSxPQUFBQyxJQUFBLENBQUFDLEtBQUEsT0FBQUMsU0FBQTtBQUFBO0FBQUEsU0FBQUYsS0FBQTtFQUFBQSxJQUFBLE9BQUFHLGtCQUFBLDJCQUFBQyxZQUFBLFlBQUFDLElBQUEsQ0FBbEIsU0FBQUMsUUFBbUJDLEdBQVksRUFBRUMsR0FBYTtJQUFBLElBQUFDLFdBQUEsRUFBQUMsS0FBQSxFQUFBQyxJQUFBLEVBQUFDLFlBQUE7SUFBQSxPQUFBUixZQUFBLFlBQUFTLElBQUEsVUFBQUMsU0FBQUMsUUFBQTtNQUFBLGtCQUFBQSxRQUFBLENBQUFDLElBQUEsR0FBQUQsUUFBQSxDQUFBRSxJQUFBO1FBQUE7VUFBQVIsV0FBQSxHQUMzQkYsR0FBRyxDQUFDVyxNQUFNLEVBQTFCUixLQUFLLEdBQUFELFdBQUEsQ0FBTEMsS0FBSyxFQUFFQyxJQUFJLEdBQUFGLFdBQUEsQ0FBSkUsSUFBSTtVQUFBLE1BQ2YsQ0FBQ0QsS0FBSyxJQUFJLENBQUNDLElBQUk7WUFBQUksUUFBQSxDQUFBRSxJQUFBO1lBQUE7VUFBQTtVQUFBLE9BQUFGLFFBQUEsQ0FBQUksTUFBQSxXQUNWWCxHQUFHLENBQ1BZLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FDWEMsSUFBSSxDQUFDO1lBQUVDLE9BQU8sRUFBRTtVQUFrRCxDQUFDLENBQUM7UUFBQTtVQUFBUCxRQUFBLENBQUFDLElBQUE7VUFBQUQsUUFBQSxDQUFBRSxJQUFBO1VBQUEsT0FHNUNNLGtCQUFFLENB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","map":{"version":3,"names":["_dbFunc","_interopRequireDefault","require","get","_x","_x2","_get","apply","arguments","_asyncToGenerator2","_regenerator","mark","_callee","req","res","_req$params","month","year","appointments","wrap","_callee$","_context","prev","next","params","abrupt","status","json","message","db","getAppointmentsByMonthYear","sent","t0","concat","stop","update","_x3","_x4","_update","_callee2","id","patch","updatedAppointment","_callee2$","_context2","body","data","updateItem","Number","filenames","appointment","_default","exports"],"sourceRoot":"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/route-methods/","sources":["appointment.ts"],"sourcesContent":["import { Request, Response } from 'express';\n\nimport { Appointment } from '../../../shared/types';\nimport db from '../db-func';\n\n// month and year are required arguments\nexport async function get(req: Request, res: Response): Promise<Response> {\n  const { month, year } = req.params;\n  if (!month || !year) {\n    return res\n      .status(400)\n      .json({ message: 'month and year are required to get appointments' });\n  }\n  try {\n    const appointments = await db.getAppointmentsByMonthYear(month, year);\n    return res.status(200).json(appointments);\n  } catch (e) {\n    return res.status(500).json({\n      message: `could not get appointments for ${month} / ${year}: ${e}`,\n    });\n  }\n}\n\nexport async function update(req: Request, res: Response): Promise<Response> {\n  try {\n    const { id } = req.params;\n    const patch = req.body.data;\n    const updatedAppointment = await db.updateItem<Appointment>(\n      Number(id),\n      db.filenames.appointments,\n      patch,\n    );\n    return res.status(200).json({ appointment: updatedAppointment });\n  } catch (e) {\n    return res\n      .status(500)\n      .json({ message: `could not update appointment: ${e}` });\n  }\n}\n\nexport default {\n  get,\n  update,\n};\n"],"mappings":"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"}},"mtime":1685356796085},"{\"assumptions\":{},\"sourceRoot\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/route-methods/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server\",\"filename\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/route-methods/staff.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nexports.get = get;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _dbFunc = _interopRequireDefault(require(\"../db-func\"));\nfunction get(_x, _x2) {\n  return _get.apply(this, arguments);\n}\nfunction _get() {\n  _get = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var staff;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _dbFunc[\"default\"].getStaff();\n        case 3:\n          staff = _context.sent;\n          return _context.abrupt(\"return\", res.status(200).json(staff));\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n          return _context.abrupt(\"return\", res.status(500).json({\n            message: \"could not get staff: \".concat(_context.t0)\n          }));\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 7]]);\n  }));\n  return _get.apply(this, arguments);\n}\nvar _default = {\n  get: get\n};\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGJGdW5jIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJnZXQiLCJfeCIsIl94MiIsIl9nZXQiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWdlbmVyYXRvciIsIm1hcmsiLCJfY2FsbGVlIiwicmVxIiwicmVzIiwic3RhZmYiLCJ3cmFwIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwiZGIiLCJnZXRTdGFmZiIsInNlbnQiLCJhYnJ1cHQiLCJzdGF0dXMiLCJqc29uIiwidDAiLCJtZXNzYWdlIiwiY29uY2F0Iiwic3RvcCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2xpb3JrYXN0ZW5iYXVtL1JlcG9zL2tzdC1hcHBvaW50bWVudHMtbWFuYWdlci1hcHAvc2VydmVyL3NyYy9yb3V0ZS1tZXRob2RzLyIsInNvdXJjZXMiOlsic3RhZmYudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICdleHByZXNzJztcblxuaW1wb3J0IGRiIGZyb20gJy4uL2RiLWZ1bmMnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0KHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSk6IFByb21pc2U8UmVzcG9uc2U+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdGFmZiA9IGF3YWl0IGRiLmdldFN0YWZmKCk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHN0YWZmKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IGBjb3VsZCBub3QgZ2V0IHN0YWZmOiAke2V9YCB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGdldCxcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBNEIsU0FFTkMsR0FBR0EsQ0FBQUMsRUFBQSxFQUFBQyxHQUFBO0VBQUEsT0FBQUMsSUFBQSxDQUFBQyxLQUFBLE9BQUFDLFNBQUE7QUFBQTtBQUFBLFNBQUFGLEtBQUE7RUFBQUEsSUFBQSxPQUFBRyxrQkFBQSwyQkFBQUMsWUFBQSxZQUFBQyxJQUFBLENBQWxCLFNBQUFDLFFBQW1CQyxHQUFZLEVBQUVDLEdBQWE7SUFBQSxJQUFBQyxLQUFBO0lBQUEsT0FBQUwsWUFBQSxZQUFBTSxJQUFBLFVBQUFDLFNBQUFDLFFBQUE7TUFBQSxrQkFBQUEsUUFBQSxDQUFBQyxJQUFBLEdBQUFELFFBQUEsQ0FBQUUsSUFBQTtRQUFBO1VBQUFGLFFBQUEsQ0FBQUMsSUFBQTtVQUFBRCxRQUFBLENBQUFFLElBQUE7VUFBQSxPQUU3QkMsa0JBQUUsQ0FBQ0MsUUFBUSxDQUFDLENBQUM7UUFBQTtVQUEzQlAsS0FBSyxHQUFBRyxRQUFBLENBQUFLLElBQUE7VUFBQSxPQUFBTCxRQUFBLENBQUFNLE1BQUEsV0FDSlYsR0FBRyxDQUFDVyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ1gsS0FBSyxDQUFDO1FBQUE7VUFBQUcsUUFBQSxDQUFBQyxJQUFBO1VBQUFELFFBQUEsQ0FBQVMsRUFBQSxHQUFBVCxRQUFBO1VBQUEsT0FBQUEsUUFBQSxDQUFBTSxNQUFBLFdBRTNCVixHQUFHLENBQUNXLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQUVFLE9BQU8sMEJBQUFDLE1BQUEsQ0FBQVgsUUFBQSxDQUFBUyxFQUFBO1VBQThCLENBQUMsQ0FBQztRQUFBO1FBQUE7VUFBQSxPQUFBVCxRQUFBLENBQUFZLElBQUE7TUFBQTtJQUFBLEdBQUFsQixPQUFBO0VBQUEsQ0FFeEU7RUFBQSxPQUFBTixJQUFBLENBQUFDLEtBQUEsT0FBQUMsU0FBQTtBQUFBO0FBQUEsSUFBQXVCLFFBQUEsR0FFYztFQUNiNUIsR0FBRyxFQUFIQTtBQUNGLENBQUM7QUFBQTZCLE9BQUEsY0FBQUQsUUFBQSJ9","map":{"version":3,"names":["_dbFunc","_interopRequireDefault","require","get","_x","_x2","_get","apply","arguments","_asyncToGenerator2","_regenerator","mark","_callee","req","res","staff","wrap","_callee$","_context","prev","next","db","getStaff","sent","abrupt","status","json","t0","message","concat","stop","_default","exports"],"sourceRoot":"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/route-methods/","sources":["staff.ts"],"sourcesContent":["import { Request, Response } from 'express';\n\nimport db from '../db-func';\n\nexport async function get(req: Request, res: Response): Promise<Response> {\n  try {\n    const staff = await db.getStaff();\n    return res.status(200).json(staff);\n  } catch (e) {\n    return res.status(500).json({ message: `could not get staff: ${e}` });\n  }\n}\n\nexport default {\n  get,\n};\n"],"mappings":";;;;;;;;;;AAEA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA4B,SAENC,GAAGA,CAAAC,EAAA,EAAAC,GAAA;EAAA,OAAAC,IAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,KAAA;EAAAA,IAAA,OAAAG,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAlB,SAAAC,QAAmBC,GAAY,EAAEC,GAAa;IAAA,IAAAC,KAAA;IAAA,OAAAL,YAAA,YAAAM,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAE,IAAA;UAAA,OAE7BC,kBAAE,CAACC,QAAQ,CAAC,CAAC;QAAA;UAA3BP,KAAK,GAAAG,QAAA,CAAAK,IAAA;UAAA,OAAAL,QAAA,CAAAM,MAAA,WACJV,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACX,KAAK,CAAC;QAAA;UAAAG,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAS,EAAA,GAAAT,QAAA;UAAA,OAAAA,QAAA,CAAAM,MAAA,WAE3BV,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEE,OAAO,0BAAAC,MAAA,CAAAX,QAAA,CAAAS,EAAA;UAA8B,CAAC,CAAC;QAAA;QAAA;UAAA,OAAAT,QAAA,CAAAY,IAAA;MAAA;IAAA,GAAAlB,OAAA;EAAA,CAExE;EAAA,OAAAN,IAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,IAAAuB,QAAA,GAEc;EACb5B,GAAG,EAAHA;AACF,CAAC;AAAA6B,OAAA,cAAAD,QAAA"}},"mtime":1685356796085},"{\"assumptions\":{},\"sourceRoot\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/route-methods/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server\",\"filename\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/route-methods/treatment.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nexports.get = get;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _dbFunc = _interopRequireDefault(require(\"../db-func\"));\nfunction get(_x, _x2) {\n  return _get.apply(this, arguments);\n}\nfunction _get() {\n  _get = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var treatments;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _dbFunc[\"default\"].getTreatments();\n        case 3:\n          treatments = _context.sent;\n          return _context.abrupt(\"return\", res.status(200).json(treatments));\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n          return _context.abrupt(\"return\", res.status(500).json({\n            message: \"could not get treatments: \".concat(_context.t0)\n          }));\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 7]]);\n  }));\n  return _get.apply(this, arguments);\n}\nvar _default = {\n  get: get\n};\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGJGdW5jIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJnZXQiLCJfeCIsIl94MiIsIl9nZXQiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWdlbmVyYXRvciIsIm1hcmsiLCJfY2FsbGVlIiwicmVxIiwicmVzIiwidHJlYXRtZW50cyIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJkYiIsImdldFRyZWF0bWVudHMiLCJzZW50IiwiYWJydXB0Iiwic3RhdHVzIiwianNvbiIsInQwIiwibWVzc2FnZSIsImNvbmNhdCIsInN0b3AiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9saW9ya2FzdGVuYmF1bS9SZXBvcy9rc3QtYXBwb2ludG1lbnRzLW1hbmFnZXItYXBwL3NlcnZlci9zcmMvcm91dGUtbWV0aG9kcy8iLCJzb3VyY2VzIjpbInRyZWF0bWVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gJ2V4cHJlc3MnO1xuXG5pbXBvcnQgZGIgZnJvbSAnLi4vZGItZnVuYyc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXQocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKTogUHJvbWlzZTxSZXNwb25zZT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHRyZWF0bWVudHMgPSBhd2FpdCBkYi5nZXRUcmVhdG1lbnRzKCk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHRyZWF0bWVudHMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogYGNvdWxkIG5vdCBnZXQgdHJlYXRtZW50czogJHtlfWAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBnZXQsXG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQTRCLFNBRU5DLEdBQUdBLENBQUFDLEVBQUEsRUFBQUMsR0FBQTtFQUFBLE9BQUFDLElBQUEsQ0FBQUMsS0FBQSxPQUFBQyxTQUFBO0FBQUE7QUFBQSxTQUFBRixLQUFBO0VBQUFBLElBQUEsT0FBQUcsa0JBQUEsMkJBQUFDLFlBQUEsWUFBQUMsSUFBQSxDQUFsQixTQUFBQyxRQUFtQkMsR0FBWSxFQUFFQyxHQUFhO0lBQUEsSUFBQUMsVUFBQTtJQUFBLE9BQUFMLFlBQUEsWUFBQU0sSUFBQSxVQUFBQyxTQUFBQyxRQUFBO01BQUEsa0JBQUFBLFFBQUEsQ0FBQUMsSUFBQSxHQUFBRCxRQUFBLENBQUFFLElBQUE7UUFBQTtVQUFBRixRQUFBLENBQUFDLElBQUE7VUFBQUQsUUFBQSxDQUFBRSxJQUFBO1VBQUEsT0FFeEJDLGtCQUFFLENBQUNDLGFBQWEsQ0FBQyxDQUFDO1FBQUE7VUFBckNQLFVBQVUsR0FBQUcsUUFBQSxDQUFBSyxJQUFBO1VBQUEsT0FBQUwsUUFBQSxDQUFBTSxNQUFBLFdBQ1RWLEdBQUcsQ0FBQ1csTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNYLFVBQVUsQ0FBQztRQUFBO1VBQUFHLFFBQUEsQ0FBQUMsSUFBQTtVQUFBRCxRQUFBLENBQUFTLEVBQUEsR0FBQVQsUUFBQTtVQUFBLE9BQUFBLFFBQUEsQ0FBQU0sTUFBQSxXQUVoQ1YsR0FBRyxDQUFDVyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztZQUFFRSxPQUFPLCtCQUFBQyxNQUFBLENBQUFYLFFBQUEsQ0FBQVMsRUFBQTtVQUFtQyxDQUFDLENBQUM7UUFBQTtRQUFBO1VBQUEsT0FBQVQsUUFBQSxDQUFBWSxJQUFBO01BQUE7SUFBQSxHQUFBbEIsT0FBQTtFQUFBLENBRTdFO0VBQUEsT0FBQU4sSUFBQSxDQUFBQyxLQUFBLE9BQUFDLFNBQUE7QUFBQTtBQUFBLElBQUF1QixRQUFBLEdBRWM7RUFDYjVCLEdBQUcsRUFBSEE7QUFDRixDQUFDO0FBQUE2QixPQUFBLGNBQUFELFFBQUEifQ==","map":{"version":3,"names":["_dbFunc","_interopRequireDefault","require","get","_x","_x2","_get","apply","arguments","_asyncToGenerator2","_regenerator","mark","_callee","req","res","treatments","wrap","_callee$","_context","prev","next","db","getTreatments","sent","abrupt","status","json","t0","message","concat","stop","_default","exports"],"sourceRoot":"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/route-methods/","sources":["treatment.ts"],"sourcesContent":["import { Request, Response } from 'express';\n\nimport db from '../db-func';\n\nexport async function get(req: Request, res: Response): Promise<Response> {\n  try {\n    const treatments = await db.getTreatments();\n    return res.status(200).json(treatments);\n  } catch (e) {\n    return res.status(500).json({ message: `could not get treatments: ${e}` });\n  }\n}\n\nexport default {\n  get,\n};\n"],"mappings":";;;;;;;;;;AAEA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA4B,SAENC,GAAGA,CAAAC,EAAA,EAAAC,GAAA;EAAA,OAAAC,IAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,KAAA;EAAAA,IAAA,OAAAG,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAlB,SAAAC,QAAmBC,GAAY,EAAEC,GAAa;IAAA,IAAAC,UAAA;IAAA,OAAAL,YAAA,YAAAM,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAE,IAAA;UAAA,OAExBC,kBAAE,CAACC,aAAa,CAAC,CAAC;QAAA;UAArCP,UAAU,GAAAG,QAAA,CAAAK,IAAA;UAAA,OAAAL,QAAA,CAAAM,MAAA,WACTV,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACX,UAAU,CAAC;QAAA;UAAAG,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAS,EAAA,GAAAT,QAAA;UAAA,OAAAA,QAAA,CAAAM,MAAA,WAEhCV,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEE,OAAO,+BAAAC,MAAA,CAAAX,QAAA,CAAAS,EAAA;UAAmC,CAAC,CAAC;QAAA;QAAA;UAAA,OAAAT,QAAA,CAAAY,IAAA;MAAA;IAAA,GAAAlB,OAAA;EAAA,CAE7E;EAAA,OAAAN,IAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,IAAAuB,QAAA,GAEc;EACb5B,GAAG,EAAHA;AACF,CAAC;AAAA6B,OAAA,cAAAD,QAAA"}},"mtime":1685356796086},"{\"assumptions\":{},\"sourceRoot\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/route-methods/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server\",\"filename\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/route-methods/user.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.auth = auth;\nexports.create = create;\nexports[\"default\"] = void 0;\nexports.get = get;\nexports.getUserAppointments = getUserAppointments;\nexports.remove = remove;\nexports.update = update;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\nvar _auth2 = require(\"../auth\");\nvar _dbFunc = _interopRequireDefault(require(\"../db-func\"));\nvar _excluded = [\"salt\", \"keylen\", \"iterations\", \"hash\", \"digest\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction removePasswordandAddToken(user) {\n  // use \"object rest operator\" to remove properties in a typescript-friendly way\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  var salt = user.salt,\n    keylen = user.keylen,\n    iterations = user.iterations,\n    hash = user.hash,\n    digest = user.digest,\n    cleanUser = (0, _objectWithoutProperties2[\"default\"])(user, _excluded);\n\n  // create token\n  var token = (0, _auth2.createJWT)(cleanUser);\n\n  // return user with token\n  return _objectSpread(_objectSpread({}, cleanUser), {}, {\n    token: token\n  });\n}\n\n// eslint-disable-next-line max-lines-per-function\nfunction get(_x, _x2) {\n  return _get.apply(this, arguments);\n}\nfunction _get() {\n  _get = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(req, res) {\n    var userData, user;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          if (req.auth) {\n            _context.next = 3;\n            break;\n          }\n          throw new Error('Cannot get user without login');\n        case 3:\n          _context.next = 5;\n          return _dbFunc[\"default\"].getUserById(req.auth.id);\n        case 5:\n          userData = _context.sent;\n          // remove password data from user object\n          user = removePasswordandAddToken(userData); // return user and appointments\n          return _context.abrupt(\"return\", res.status(200).json({\n            user: user\n          }));\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context[\"catch\"](0);\n          return _context.abrupt(\"return\", res.status(500).json({\n            message: \"could not get user: \".concat(_context.t0)\n          }));\n        case 13:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 10]]);\n  }));\n  return _get.apply(this, arguments);\n}\nfunction getUserAppointments(_x3, _x4) {\n  return _getUserAppointments.apply(this, arguments);\n}\nfunction _getUserAppointments() {\n  _getUserAppointments = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(req, res) {\n    var paramId, appointments, userAppointments;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          paramId = Number(req.params.id);\n          _context2.prev = 1;\n          _context2.next = 4;\n          return _dbFunc[\"default\"].getAppointments();\n        case 4:\n          appointments = _context2.sent;\n          userAppointments = Object.values(appointments).filter(function (a) {\n            return a.userId === paramId;\n          });\n          return _context2.abrupt(\"return\", res.status(200).json({\n            appointments: userAppointments\n          }));\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2[\"catch\"](1);\n          return _context2.abrupt(\"return\", res.status(500).json({\n            message: \"could not get user appointments for id \".concat(paramId, \": \").concat(_context2.t0)\n          }));\n        case 12:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[1, 9]]);\n  }));\n  return _getUserAppointments.apply(this, arguments);\n}\nfunction create(_x5, _x6) {\n  return _create.apply(this, arguments);\n}\nfunction _create() {\n  _create = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(req, res) {\n    var _req$body, email, password, existingUsers, takenEmail, userPasswordData, newUser, user;\n    return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _req$body = req.body, email = _req$body.email, password = _req$body.password;\n          _context3.next = 4;\n          return _dbFunc[\"default\"].getUsers();\n        case 4:\n          existingUsers = _context3.sent;\n          takenEmail = existingUsers.map(function (u) {\n            return u.email;\n          }).includes(email);\n          if (!takenEmail) {\n            _context3.next = 8;\n            break;\n          }\n          return _context3.abrupt(\"return\", res.status(400).json({\n            message: 'Email is already in use'\n          }));\n        case 8:\n          userPasswordData = (0, _auth2.hashPassword)(password);\n          _context3.next = 11;\n          return _dbFunc[\"default\"].addUser(_objectSpread({\n            email: email\n          }, userPasswordData));\n        case 11:\n          newUser = _context3.sent;\n          user = removePasswordandAddToken(newUser);\n          return _context3.abrupt(\"return\", res.status(201).json({\n            user: user\n          }));\n        case 16:\n          _context3.prev = 16;\n          _context3.t0 = _context3[\"catch\"](0);\n          return _context3.abrupt(\"return\", res.status(500).json({\n            message: \"could not add user: \".concat(_context3.t0)\n          }));\n        case 19:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 16]]);\n  }));\n  return _create.apply(this, arguments);\n}\nfunction remove(_x7, _x8) {\n  return _remove.apply(this, arguments);\n}\nfunction _remove() {\n  _remove = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(req, res) {\n    var id;\n    return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          id = req.params.id;\n          _context4.next = 4;\n          return _dbFunc[\"default\"].deleteItem(_dbFunc[\"default\"].filenames.users, Number(id));\n        case 4:\n          return _context4.abrupt(\"return\", res.status(204));\n        case 7:\n          _context4.prev = 7;\n          _context4.t0 = _context4[\"catch\"](0);\n          return _context4.abrupt(\"return\", res.status(500).json({\n            message: \"could not delete user: \".concat(_context4.t0)\n          }));\n        case 10:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 7]]);\n  }));\n  return _remove.apply(this, arguments);\n}\nfunction update(_x9, _x10) {\n  return _update.apply(this, arguments);\n}\nfunction _update() {\n  _update = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(req, res) {\n    var id, patch, updatedUser, user;\n    return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          id = req.params.id;\n          patch = req.body.patch;\n          if (patch) {\n            _context5.next = 5;\n            break;\n          }\n          return _context5.abrupt(\"return\", res.status(400).json({\n            message: 'this endpoint requires a patch in the body'\n          }));\n        case 5:\n          _context5.next = 7;\n          return _dbFunc[\"default\"].updateItem(Number(id), _dbFunc[\"default\"].filenames.users, patch);\n        case 7:\n          updatedUser = _context5.sent;\n          user = removePasswordandAddToken(updatedUser);\n          return _context5.abrupt(\"return\", res.status(200).json({\n            user: user\n          }));\n        case 12:\n          _context5.prev = 12;\n          _context5.t0 = _context5[\"catch\"](0);\n          return _context5.abrupt(\"return\", res.status(500).json({\n            message: \"could not update appointment: \".concat(_context5.t0)\n          }));\n        case 15:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[0, 12]]);\n  }));\n  return _update.apply(this, arguments);\n}\nfunction auth(_x11, _x12) {\n  return _auth.apply(this, arguments);\n}\nfunction _auth() {\n  _auth = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(req, res) {\n    var _req$body2, email, password, users, validUser, user;\n    return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          _req$body2 = req.body, email = _req$body2.email, password = _req$body2.password; // auth user\n          _context6.next = 3;\n          return _dbFunc[\"default\"].getUsers();\n        case 3:\n          users = _context6.sent;\n          validUser = users.reduce(function (foundUser, user) {\n            return user.email === email && (0, _auth2.passwordIsValid)(password, user) ? user : foundUser;\n          }, null);\n          if (validUser) {\n            _context6.next = 7;\n            break;\n          }\n          return _context6.abrupt(\"return\", res.status(400).json({\n            message: 'Invalid login'\n          }));\n        case 7:\n          // create jwt\n          user = removePasswordandAddToken(validUser);\n          return _context6.abrupt(\"return\", res.status(200).json({\n            user: user\n          }));\n        case 9:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return _auth.apply(this, arguments);\n}\nvar _default = {\n  get: get,\n  getUserAppointments: getUserAppointments,\n  create: create,\n  remove: remove,\n  update: update,\n  auth: auth\n};\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXV0aDIiLCJyZXF1aXJlIiwiX2RiRnVuYyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfZXhjbHVkZWQiLCJvd25LZXlzIiwib2JqZWN0IiwiZW51bWVyYWJsZU9ubHkiLCJrZXlzIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9scyIsImZpbHRlciIsInN5bSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwidGFyZ2V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNvdXJjZSIsImZvckVhY2giLCJrZXkiLCJfZGVmaW5lUHJvcGVydHkyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJkZWZpbmVQcm9wZXJ0eSIsInJlbW92ZVBhc3N3b3JkYW5kQWRkVG9rZW4iLCJ1c2VyIiwic2FsdCIsImtleWxlbiIsIml0ZXJhdGlvbnMiLCJoYXNoIiwiZGlnZXN0IiwiY2xlYW5Vc2VyIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiIsInRva2VuIiwiY3JlYXRlSldUIiwiZ2V0IiwiX3giLCJfeDIiLCJfZ2V0IiwiX2FzeW5jVG9HZW5lcmF0b3IyIiwiX3JlZ2VuZXJhdG9yIiwibWFyayIsIl9jYWxsZWUiLCJyZXEiLCJyZXMiLCJ1c2VyRGF0YSIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsIm5leHQiLCJhdXRoIiwiRXJyb3IiLCJkYiIsImdldFVzZXJCeUlkIiwiaWQiLCJzZW50IiwiYWJydXB0Iiwic3RhdHVzIiwianNvbiIsInQwIiwibWVzc2FnZSIsImNvbmNhdCIsInN0b3AiLCJnZXRVc2VyQXBwb2ludG1lbnRzIiwiX3gzIiwiX3g0IiwiX2dldFVzZXJBcHBvaW50bWVudHMiLCJfY2FsbGVlMiIsInBhcmFtSWQiLCJhcHBvaW50bWVudHMiLCJ1c2VyQXBwb2ludG1lbnRzIiwiX2NhbGxlZTIkIiwiX2NvbnRleHQyIiwiTnVtYmVyIiwicGFyYW1zIiwiZ2V0QXBwb2ludG1lbnRzIiwidmFsdWVzIiwiYSIsInVzZXJJZCIsImNyZWF0ZSIsIl94NSIsIl94NiIsIl9jcmVhdGUiLCJfY2FsbGVlMyIsIl9yZXEkYm9keSIsImVtYWlsIiwicGFzc3dvcmQiLCJleGlzdGluZ1VzZXJzIiwidGFrZW5FbWFpbCIsInVzZXJQYXNzd29yZERhdGEiLCJuZXdVc2VyIiwiX2NhbGxlZTMkIiwiX2NvbnRleHQzIiwiYm9keSIsImdldFVzZXJzIiwibWFwIiwidSIsImluY2x1ZGVzIiwiaGFzaFBhc3N3b3JkIiwiYWRkVXNlciIsInJlbW92ZSIsIl94NyIsIl94OCIsIl9yZW1vdmUiLCJfY2FsbGVlNCIsIl9jYWxsZWU0JCIsIl9jb250ZXh0NCIsImRlbGV0ZUl0ZW0iLCJmaWxlbmFtZXMiLCJ1c2VycyIsInVwZGF0ZSIsIl94OSIsIl94MTAiLCJfdXBkYXRlIiwiX2NhbGxlZTUiLCJwYXRjaCIsInVwZGF0ZWRVc2VyIiwiX2NhbGxlZTUkIiwiX2NvbnRleHQ1IiwidXBkYXRlSXRlbSIsIl94MTEiLCJfeDEyIiwiX2F1dGgiLCJfY2FsbGVlNiIsIl9yZXEkYm9keTIiLCJ2YWxpZFVzZXIiLCJfY2FsbGVlNiQiLCJfY29udGV4dDYiLCJyZWR1Y2UiLCJmb3VuZFVzZXIiLCJwYXNzd29yZElzVmFsaWQiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9saW9ya2FzdGVuYmF1bS9SZXBvcy9rc3QtYXBwb2ludG1lbnRzLW1hbmFnZXItYXBwL3NlcnZlci9zcmMvcm91dGUtbWV0aG9kcy8iLCJzb3VyY2VzIjpbInVzZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICdleHByZXNzJztcblxuaW1wb3J0IHsgVXNlciB9IGZyb20gJy4uLy4uLy4uL3NoYXJlZC90eXBlcyc7XG5pbXBvcnQgeyBBdXRoVXNlciwgY3JlYXRlSldULCBoYXNoUGFzc3dvcmQsIHBhc3N3b3JkSXNWYWxpZCB9IGZyb20gJy4uL2F1dGgnO1xuaW1wb3J0IGRiIGZyb20gJy4uL2RiLWZ1bmMnO1xuaW1wb3J0IHsgQXV0aFJlcXVlc3QgfSBmcm9tICcuLi9taWRkbGV3YXJlcyc7XG5cbmZ1bmN0aW9uIHJlbW92ZVBhc3N3b3JkYW5kQWRkVG9rZW4odXNlcjogQXV0aFVzZXIpOiBVc2VyIHtcbiAgLy8gdXNlIFwib2JqZWN0IHJlc3Qgb3BlcmF0b3JcIiB0byByZW1vdmUgcHJvcGVydGllcyBpbiBhIHR5cGVzY3JpcHQtZnJpZW5kbHkgd2F5XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgY29uc3QgeyBzYWx0LCBrZXlsZW4sIGl0ZXJhdGlvbnMsIGhhc2gsIGRpZ2VzdCwgLi4uY2xlYW5Vc2VyIH0gPSB1c2VyO1xuXG4gIC8vIGNyZWF0ZSB0b2tlblxuICBjb25zdCB0b2tlbiA9IGNyZWF0ZUpXVChjbGVhblVzZXIpO1xuXG4gIC8vIHJldHVybiB1c2VyIHdpdGggdG9rZW5cbiAgcmV0dXJuIHsgLi4uY2xlYW5Vc2VyLCB0b2tlbiB9O1xufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxpbmVzLXBlci1mdW5jdGlvblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldChyZXE6IEF1dGhSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKTogUHJvbWlzZTxSZXNwb25zZT4ge1xuICB0cnkge1xuICAgIGlmICghcmVxLmF1dGgpIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGdldCB1c2VyIHdpdGhvdXQgbG9naW4nKTtcblxuICAgIC8vIGdldCBmcmVzaCB1c2VyIGRhdGFcbiAgICBjb25zdCB1c2VyRGF0YSA9IGF3YWl0IGRiLmdldFVzZXJCeUlkKHJlcS5hdXRoLmlkKTtcblxuICAgIC8vIHJlbW92ZSBwYXNzd29yZCBkYXRhIGZyb20gdXNlciBvYmplY3RcbiAgICBjb25zdCB1c2VyID0gcmVtb3ZlUGFzc3dvcmRhbmRBZGRUb2tlbih1c2VyRGF0YSk7XG5cbiAgICAvLyByZXR1cm4gdXNlciBhbmQgYXBwb2ludG1lbnRzXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlciB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IGBjb3VsZCBub3QgZ2V0IHVzZXI6ICR7ZX1gIH0pO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyQXBwb2ludG1lbnRzKFxuICByZXE6IEF1dGhSZXF1ZXN0LFxuICByZXM6IFJlc3BvbnNlLFxuKTogUHJvbWlzZTxSZXNwb25zZT4ge1xuICBjb25zdCBwYXJhbUlkID0gTnVtYmVyKHJlcS5wYXJhbXMuaWQpO1xuICB0cnkge1xuICAgIC8vIGdldCB1c2VyJ3MgYXBwb2ludG1lbnRzXG4gICAgY29uc3QgYXBwb2ludG1lbnRzID0gYXdhaXQgZGIuZ2V0QXBwb2ludG1lbnRzKCk7XG4gICAgY29uc3QgdXNlckFwcG9pbnRtZW50cyA9IE9iamVjdC52YWx1ZXMoYXBwb2ludG1lbnRzKS5maWx0ZXIoXG4gICAgICAoYSkgPT4gYS51c2VySWQgPT09IHBhcmFtSWQsXG4gICAgKTtcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgYXBwb2ludG1lbnRzOiB1c2VyQXBwb2ludG1lbnRzLFxuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgIG1lc3NhZ2U6IGBjb3VsZCBub3QgZ2V0IHVzZXIgYXBwb2ludG1lbnRzIGZvciBpZCAke3BhcmFtSWR9OiAke2V9YCxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSk6IFByb21pc2U8UmVzcG9uc2U+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgZXhpc3RpbmdVc2VycyA9IGF3YWl0IGRiLmdldFVzZXJzKCk7XG4gICAgY29uc3QgdGFrZW5FbWFpbCA9IGV4aXN0aW5nVXNlcnMubWFwKCh1KSA9PiB1LmVtYWlsKS5pbmNsdWRlcyhlbWFpbCk7XG4gICAgaWYgKHRha2VuRW1haWwpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdFbWFpbCBpcyBhbHJlYWR5IGluIHVzZScgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgdXNlclBhc3N3b3JkRGF0YSA9IGhhc2hQYXNzd29yZChwYXNzd29yZCk7XG4gICAgY29uc3QgbmV3VXNlciA9IGF3YWl0IGRiLmFkZFVzZXIoe1xuICAgICAgZW1haWwsXG4gICAgICAuLi51c2VyUGFzc3dvcmREYXRhLFxuICAgIH0pO1xuXG4gICAgY29uc3QgdXNlciA9IHJlbW92ZVBhc3N3b3JkYW5kQWRkVG9rZW4obmV3VXNlcik7XG5cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oeyB1c2VyIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogYGNvdWxkIG5vdCBhZGQgdXNlcjogJHtlfWAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbW92ZShcbiAgcmVxOiBBdXRoUmVxdWVzdCxcbiAgcmVzOiBSZXNwb25zZSxcbik6IFByb21pc2U8UmVzcG9uc2U+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xuICAgIGF3YWl0IGRiLmRlbGV0ZUl0ZW08QXV0aFVzZXI+KGRiLmZpbGVuYW1lcy51c2VycywgTnVtYmVyKGlkKSk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjA0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IGBjb3VsZCBub3QgZGVsZXRlIHVzZXI6ICR7ZX1gIH0pO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGUoXG4gIHJlcTogQXV0aFJlcXVlc3QsXG4gIHJlczogUmVzcG9uc2UsXG4pOiBQcm9taXNlPFJlc3BvbnNlPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBpZCB9ID0gcmVxLnBhcmFtcztcbiAgICBjb25zdCB7IHBhdGNoIH0gPSByZXEuYm9keTtcbiAgICBpZiAoIXBhdGNoKSB7XG4gICAgICByZXR1cm4gcmVzXG4gICAgICAgIC5zdGF0dXMoNDAwKVxuICAgICAgICAuanNvbih7IG1lc3NhZ2U6ICd0aGlzIGVuZHBvaW50IHJlcXVpcmVzIGEgcGF0Y2ggaW4gdGhlIGJvZHknIH0pO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IGRiLnVwZGF0ZUl0ZW08QXV0aFVzZXI+KFxuICAgICAgTnVtYmVyKGlkKSxcbiAgICAgIGRiLmZpbGVuYW1lcy51c2VycyxcbiAgICAgIHBhdGNoLFxuICAgICk7XG5cbiAgICBjb25zdCB1c2VyID0gcmVtb3ZlUGFzc3dvcmRhbmRBZGRUb2tlbih1cGRhdGVkVXNlcik7XG5cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyB1c2VyIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHJlc1xuICAgICAgLnN0YXR1cyg1MDApXG4gICAgICAuanNvbih7IG1lc3NhZ2U6IGBjb3VsZCBub3QgdXBkYXRlIGFwcG9pbnRtZW50OiAke2V9YCB9KTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXV0aChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpOiBQcm9taXNlPFJlc3BvbnNlPiB7XG4gIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcblxuICAvLyBhdXRoIHVzZXJcbiAgY29uc3QgdXNlcnMgPSBhd2FpdCBkYi5nZXRVc2VycygpO1xuICBjb25zdCB2YWxpZFVzZXIgPSB1c2Vycy5yZWR1Y2UoXG4gICAgKGZvdW5kVXNlcjogQXV0aFVzZXIgfCBudWxsLCB1c2VyKSA9PlxuICAgICAgdXNlci5lbWFpbCA9PT0gZW1haWwgJiYgcGFzc3dvcmRJc1ZhbGlkKHBhc3N3b3JkLCB1c2VyKVxuICAgICAgICA/IHVzZXJcbiAgICAgICAgOiBmb3VuZFVzZXIsXG4gICAgbnVsbCxcbiAgKTtcblxuICBpZiAoIXZhbGlkVXNlcikgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ0ludmFsaWQgbG9naW4nIH0pO1xuXG4gIC8vIGNyZWF0ZSBqd3RcbiAgY29uc3QgdXNlciA9IHJlbW92ZVBhc3N3b3JkYW5kQWRkVG9rZW4odmFsaWRVc2VyKTtcblxuICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyB1c2VyIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGdldCxcbiAgZ2V0VXNlckFwcG9pbnRtZW50cyxcbiAgY3JlYXRlLFxuICByZW1vdmUsXG4gIHVwZGF0ZSxcbiAgYXV0aCxcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR0EsSUFBQUEsTUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBQyxzQkFBQSxDQUFBRixPQUFBO0FBQTRCLElBQUFHLFNBQUE7QUFBQSxTQUFBQyxRQUFBQyxNQUFBLEVBQUFDLGNBQUEsUUFBQUMsSUFBQSxHQUFBQyxNQUFBLENBQUFELElBQUEsQ0FBQUYsTUFBQSxPQUFBRyxNQUFBLENBQUFDLHFCQUFBLFFBQUFDLE9BQUEsR0FBQUYsTUFBQSxDQUFBQyxxQkFBQSxDQUFBSixNQUFBLEdBQUFDLGNBQUEsS0FBQUksT0FBQSxHQUFBQSxPQUFBLENBQUFDLE1BQUEsV0FBQUMsR0FBQSxXQUFBSixNQUFBLENBQUFLLHdCQUFBLENBQUFSLE1BQUEsRUFBQU8sR0FBQSxFQUFBRSxVQUFBLE9BQUFQLElBQUEsQ0FBQVEsSUFBQSxD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","map":{"version":3,"names":["_auth2","require","_dbFunc","_interopRequireDefault","_excluded","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","removePasswordandAddToken","user","salt","keylen","iterations","hash","digest","cleanUser","_objectWithoutProperties2","token","createJWT","get","_x","_x2","_get","_asyncToGenerator2","_regenerator","mark","_callee","req","res","userData","wrap","_callee$","_context","prev","next","auth","Error","db","getUserById","id","sent","abrupt","status","json","t0","message","concat","stop","getUserAppointments","_x3","_x4","_getUserAppointments","_callee2","paramId","appointments","userAppointments","_callee2$","_context2","Number","params","getAppointments","values","a","userId","create","_x5","_x6","_create","_callee3","_req$body","email","password","existingUsers","takenEmail","userPasswordData","newUser","_callee3$","_context3","body","getUsers","map","u","includes","hashPassword","addUser","remove","_x7","_x8","_remove","_callee4","_callee4$","_context4","deleteItem","filenames","users","update","_x9","_x10","_update","_callee5","patch","updatedUser","_callee5$","_context5","updateItem","_x11","_x12","_auth","_callee6","_req$body2","validUser","_callee6$","_context6","reduce","foundUser","passwordIsValid","_default","exports"],"sourceRoot":"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/route-methods/","sources":["user.ts"],"sourcesContent":["import { Request, Response } from 'express';\n\nimport { User } from '../../../shared/types';\nimport { AuthUser, createJWT, hashPassword, passwordIsValid } from '../auth';\nimport db from '../db-func';\nimport { AuthRequest } from '../middlewares';\n\nfunction removePasswordandAddToken(user: AuthUser): User {\n  // use \"object rest operator\" to remove properties in a typescript-friendly way\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const { salt, keylen, iterations, hash, digest, ...cleanUser } = user;\n\n  // create token\n  const token = createJWT(cleanUser);\n\n  // return user with token\n  return { ...cleanUser, token };\n}\n\n// eslint-disable-next-line max-lines-per-function\nexport async function get(req: AuthRequest, res: Response): Promise<Response> {\n  try {\n    if (!req.auth) throw new Error('Cannot get user without login');\n\n    // get fresh user data\n    const userData = await db.getUserById(req.auth.id);\n\n    // remove password data from user object\n    const user = removePasswordandAddToken(userData);\n\n    // return user and appointments\n    return res.status(200).json({ user });\n  } catch (e) {\n    return res.status(500).json({ message: `could not get user: ${e}` });\n  }\n}\n\nexport async function getUserAppointments(\n  req: AuthRequest,\n  res: Response,\n): Promise<Response> {\n  const paramId = Number(req.params.id);\n  try {\n    // get user's appointments\n    const appointments = await db.getAppointments();\n    const userAppointments = Object.values(appointments).filter(\n      (a) => a.userId === paramId,\n    );\n    return res.status(200).json({\n      appointments: userAppointments,\n    });\n  } catch (e) {\n    return res.status(500).json({\n      message: `could not get user appointments for id ${paramId}: ${e}`,\n    });\n  }\n}\n\nexport async function create(req: Request, res: Response): Promise<Response> {\n  try {\n    const { email, password } = req.body;\n    const existingUsers = await db.getUsers();\n    const takenEmail = existingUsers.map((u) => u.email).includes(email);\n    if (takenEmail) {\n      return res.status(400).json({ message: 'Email is already in use' });\n    }\n\n    const userPasswordData = hashPassword(password);\n    const newUser = await db.addUser({\n      email,\n      ...userPasswordData,\n    });\n\n    const user = removePasswordandAddToken(newUser);\n\n    return res.status(201).json({ user });\n  } catch (e) {\n    return res.status(500).json({ message: `could not add user: ${e}` });\n  }\n}\n\nexport async function remove(\n  req: AuthRequest,\n  res: Response,\n): Promise<Response> {\n  try {\n    const { id } = req.params;\n    await db.deleteItem<AuthUser>(db.filenames.users, Number(id));\n    return res.status(204);\n  } catch (e) {\n    return res.status(500).json({ message: `could not delete user: ${e}` });\n  }\n}\n\nexport async function update(\n  req: AuthRequest,\n  res: Response,\n): Promise<Response> {\n  try {\n    const { id } = req.params;\n    const { patch } = req.body;\n    if (!patch) {\n      return res\n        .status(400)\n        .json({ message: 'this endpoint requires a patch in the body' });\n    }\n    const updatedUser = await db.updateItem<AuthUser>(\n      Number(id),\n      db.filenames.users,\n      patch,\n    );\n\n    const user = removePasswordandAddToken(updatedUser);\n\n    return res.status(200).json({ user });\n  } catch (e) {\n    return res\n      .status(500)\n      .json({ message: `could not update appointment: ${e}` });\n  }\n}\n\nexport async function auth(req: Request, res: Response): Promise<Response> {\n  const { email, password } = req.body;\n\n  // auth user\n  const users = await db.getUsers();\n  const validUser = users.reduce(\n    (foundUser: AuthUser | null, user) =>\n      user.email === email && passwordIsValid(password, user)\n        ? user\n        : foundUser,\n    null,\n  );\n\n  if (!validUser) return res.status(400).json({ message: 'Invalid login' });\n\n  // create jwt\n  const user = removePasswordandAddToken(validUser);\n\n  return res.status(200).json({ user });\n}\n\nexport default {\n  get,\n  getUserAppointments,\n  create,\n  remove,\n  update,\n  auth,\n};\n"],"mappings":";;;;;;;;;;;;;;;;;AAGA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,OAAA,GAAAC,sBAAA,CAAAF,OAAA;AAA4B,IAAAG,SAAA;AAAA,SAAAC,QAAAC,MAAA,EAAAC,cAAA,QAAAC,IAAA,GAAAC,MAAA,CAAAD,IAAA,CAAAF,MAAA,OAAAG,MAAA,CAAAC,qBAAA,QAAAC,OAAA,GAAAF,MAAA,CAAAC,qBAAA,CAAAJ,MAAA,GAAAC,cAAA,KAAAI,OAAA,GAAAA,OAAA,CAAAC,MAAA,WAAAC,GAAA,WAAAJ,MAAA,CAAAK,wBAAA,CAAAR,MAAA,EAAAO,GAAA,EAAAE,UAAA,OAAAP,IAAA,CAAAQ,IAAA,CAAAC,KAAA,CAAAT,IAAA,EAAAG,OAAA,YAAAH,IAAA;AAAA,SAAAU,cAAAC,MAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAF,CAAA,UAAAG,MAAA,WAAAF,SAAA,CAAAD,CAAA,IAAAC,SAAA,CAAAD,CAAA,QAAAA,CAAA,OAAAf,OAAA,CAAAI,MAAA,CAAAc,MAAA,OAAAC,OAAA,WAAAC,GAAA,QAAAC,gBAAA,aAAAP,MAAA,EAAAM,GAAA,EAAAF,MAAA,CAAAE,GAAA,SAAAhB,MAAA,CAAAkB,yBAAA,GAAAlB,MAAA,CAAAmB,gBAAA,CAAAT,MAAA,EAAAV,MAAA,CAAAkB,yBAAA,CAAAJ,MAAA,KAAAlB,OAAA,CAAAI,MAAA,CAAAc,MAAA,GAAAC,OAAA,WAAAC,GAAA,IAAAhB,MAAA,CAAAoB,cAAA,CAAAV,MAAA,EAAAM,GAAA,EAAAhB,MAAA,CAAAK,wBAAA,CAAAS,MAAA,EAAAE,GAAA,iBAAAN,MAAA;AAG5B,SAASW,yBAAyBA,CAACC,IAAc,EAAQ;EACvD;EACA;EACA,IAAQC,IAAI,GAAqDD,IAAI,CAA7DC,IAAI;IAAEC,MAAM,GAA6CF,IAAI,CAAvDE,MAAM;IAAEC,UAAU,GAAiCH,IAAI,CAA/CG,UAAU;IAAEC,IAAI,GAA2BJ,IAAI,CAAnCI,IAAI;IAAEC,MAAM,GAAmBL,IAAI,CAA7BK,MAAM;IAAKC,SAAS,OAAAC,yBAAA,aAAKP,IAAI,EAAA3B,SAAA;;EAErE;EACA,IAAMmC,KAAK,GAAG,IAAAC,gBAAS,EAACH,SAAS,CAAC;;EAElC;EACA,OAAAnB,aAAA,CAAAA,aAAA,KAAYmB,SAAS;IAAEE,KAAK,EAALA;EAAK;AAC9B;;AAEA;AAAA,SACsBE,GAAGA,CAAAC,EAAA,EAAAC,GAAA;EAAA,OAAAC,IAAA,CAAA3B,KAAA,OAAAI,SAAA;AAAA;AAAA,SAAAuB,KAAA;EAAAA,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAlB,SAAAC,QAAmBC,GAAgB,EAAEC,GAAa;IAAA,IAAAC,QAAA,EAAApB,IAAA;IAAA,OAAAe,YAAA,YAAAM,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAA,IAEhDN,GAAG,CAACQ,IAAI;YAAAH,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,MAAQ,IAAIE,KAAK,CAAC,+BAA+B,CAAC;QAAA;UAAAJ,QAAA,CAAAE,IAAA;UAAA,OAGxCG,kBAAE,CAACC,WAAW,CAACX,GAAG,CAACQ,IAAI,CAACI,EAAE,CAAC;QAAA;UAA5CV,QAAQ,GAAAG,QAAA,CAAAQ,IAAA;UAEd;UACM/B,IAAI,GAAGD,yBAAyB,CAACqB,QAAQ,CAAC,EAEhD;UAAA,OAAAG,QAAA,CAAAS,MAAA,WACOb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAElC,IAAI,EAAJA;UAAK,CAAC,CAAC;QAAA;UAAAuB,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAY,EAAA,GAAAZ,QAAA;UAAA,OAAAA,QAAA,CAAAS,MAAA,WAE9Bb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEE,OAAO,yBAAAC,MAAA,CAAAd,QAAA,CAAAY,EAAA;UAA6B,CAAC,CAAC;QAAA;QAAA;UAAA,OAAAZ,QAAA,CAAAe,IAAA;MAAA;IAAA,GAAArB,OAAA;EAAA,CAEvE;EAAA,OAAAJ,IAAA,CAAA3B,KAAA,OAAAI,SAAA;AAAA;AAAA,SAEqBiD,mBAAmBA,CAAAC,GAAA,EAAAC,GAAA;EAAA,OAAAC,oBAAA,CAAAxD,KAAA,OAAAI,SAAA;AAAA;AAAA,SAAAoD,qBAAA;EAAAA,oBAAA,OAAA5B,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAlC,SAAA2B,SACLzB,GAAgB,EAChBC,GAAa;IAAA,IAAAyB,OAAA,EAAAC,YAAA,EAAAC,gBAAA;IAAA,OAAA/B,YAAA,YAAAM,IAAA,UAAA0B,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAAxB,IAAA,GAAAwB,SAAA,CAAAvB,IAAA;QAAA;UAEPmB,OAAO,GAAGK,MAAM,CAAC/B,GAAG,CAACgC,MAAM,CAACpB,EAAE,CAAC;UAAAkB,SAAA,CAAAxB,IAAA;UAAAwB,SAAA,CAAAvB,IAAA;UAAA,OAGRG,kBAAE,CAACuB,eAAe,CAAC,CAAC;QAAA;UAAzCN,YAAY,GAAAG,SAAA,CAAAjB,IAAA;UACZe,gBAAgB,GAAGpE,MAAM,CAAC0E,MAAM,CAACP,YAAY,CAAC,CAAChE,MAAM,CACzD,UAACwE,CAAC;YAAA,OAAKA,CAAC,CAACC,MAAM,KAAKV,OAAO;UAAA,CAC7B,CAAC;UAAA,OAAAI,SAAA,CAAAhB,MAAA,WACMb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAC1BW,YAAY,EAAEC;UAChB,CAAC,CAAC;QAAA;UAAAE,SAAA,CAAAxB,IAAA;UAAAwB,SAAA,CAAAb,EAAA,GAAAa,SAAA;UAAA,OAAAA,SAAA,CAAAhB,MAAA,WAEKb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAC1BE,OAAO,4CAAAC,MAAA,CAA4CO,OAAO,QAAAP,MAAA,CAAAW,SAAA,CAAAb,EAAA;UAC5D,CAAC,CAAC;QAAA;QAAA;UAAA,OAAAa,SAAA,CAAAV,IAAA;MAAA;IAAA,GAAAK,QAAA;EAAA,CAEL;EAAA,OAAAD,oBAAA,CAAAxD,KAAA,OAAAI,SAAA;AAAA;AAAA,SAEqBiE,MAAMA,CAAAC,GAAA,EAAAC,GAAA;EAAA,OAAAC,OAAA,CAAAxE,KAAA,OAAAI,SAAA;AAAA;AAAA,SAAAoE,QAAA;EAAAA,OAAA,OAAA5C,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAArB,SAAA2C,SAAsBzC,GAAY,EAAEC,GAAa;IAAA,IAAAyC,SAAA,EAAAC,KAAA,EAAAC,QAAA,EAAAC,aAAA,EAAAC,UAAA,EAAAC,gBAAA,EAAAC,OAAA,EAAAlE,IAAA;IAAA,OAAAe,YAAA,YAAAM,IAAA,UAAA8C,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAA5C,IAAA,GAAA4C,SAAA,CAAA3C,IAAA;QAAA;UAAA2C,SAAA,CAAA5C,IAAA;UAAAoC,SAAA,GAExB1C,GAAG,CAACmD,IAAI,EAA5BR,KAAK,GAAAD,SAAA,CAALC,KAAK,EAAEC,QAAQ,GAAAF,SAAA,CAARE,QAAQ;UAAAM,SAAA,CAAA3C,IAAA;UAAA,OACKG,kBAAE,CAAC0C,QAAQ,CAAC,CAAC;QAAA;UAAnCP,aAAa,GAAAK,SAAA,CAAArC,IAAA;UACbiC,UAAU,GAAGD,aAAa,CAACQ,GAAG,CAAC,UAACC,CAAC;YAAA,OAAKA,CAAC,CAACX,KAAK;UAAA,EAAC,CAACY,QAAQ,CAACZ,KAAK,CAAC;UAAA,KAChEG,UAAU;YAAAI,SAAA,CAAA3C,IAAA;YAAA;UAAA;UAAA,OAAA2C,SAAA,CAAApC,MAAA,WACLb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEE,OAAO,EAAE;UAA0B,CAAC,CAAC;QAAA;UAG/D6B,gBAAgB,GAAG,IAAAS,mBAAY,EAACZ,QAAQ,CAAC;UAAAM,SAAA,CAAA3C,IAAA;UAAA,OACzBG,kBAAE,CAAC+C,OAAO,CAAAxF,aAAA;YAC9B0E,KAAK,EAALA;UAAK,GACFI,gBAAgB,CACpB,CAAC;QAAA;UAHIC,OAAO,GAAAE,SAAA,CAAArC,IAAA;UAKP/B,IAAI,GAAGD,yBAAyB,CAACmE,OAAO,CAAC;UAAA,OAAAE,SAAA,CAAApC,MAAA,WAExCb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAElC,IAAI,EAAJA;UAAK,CAAC,CAAC;QAAA;UAAAoE,SAAA,CAAA5C,IAAA;UAAA4C,SAAA,CAAAjC,EAAA,GAAAiC,SAAA;UAAA,OAAAA,SAAA,CAAApC,MAAA,WAE9Bb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEE,OAAO,yBAAAC,MAAA,CAAA+B,SAAA,CAAAjC,EAAA;UAA6B,CAAC,CAAC;QAAA;QAAA;UAAA,OAAAiC,SAAA,CAAA9B,IAAA;MAAA;IAAA,GAAAqB,QAAA;EAAA,CAEvE;EAAA,OAAAD,OAAA,CAAAxE,KAAA,OAAAI,SAAA;AAAA;AAAA,SAEqBsF,MAAMA,CAAAC,GAAA,EAAAC,GAAA;EAAA,OAAAC,OAAA,CAAA7F,KAAA,OAAAI,SAAA;AAAA;AAAA,SAAAyF,QAAA;EAAAA,OAAA,OAAAjE,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAArB,SAAAgE,SACL9D,GAAgB,EAChBC,GAAa;IAAA,IAAAW,EAAA;IAAA,OAAAf,YAAA,YAAAM,IAAA,UAAA4D,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAA1D,IAAA,GAAA0D,SAAA,CAAAzD,IAAA;QAAA;UAAAyD,SAAA,CAAA1D,IAAA;UAGHM,EAAE,GAAKZ,GAAG,CAACgC,MAAM,CAAjBpB,EAAE;UAAAoD,SAAA,CAAAzD,IAAA;UAAA,OACJG,kBAAE,CAACuD,UAAU,CAAWvD,kBAAE,CAACwD,SAAS,CAACC,KAAK,EAAEpC,MAAM,CAACnB,EAAE,CAAC,CAAC;QAAA;UAAA,OAAAoD,SAAA,CAAAlD,MAAA,WACtDb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC;QAAA;UAAAiD,SAAA,CAAA1D,IAAA;UAAA0D,SAAA,CAAA/C,EAAA,GAAA+C,SAAA;UAAA,OAAAA,SAAA,CAAAlD,MAAA,WAEfb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEE,OAAO,4BAAAC,MAAA,CAAA6C,SAAA,CAAA/C,EAAA;UAAgC,CAAC,CAAC;QAAA;QAAA;UAAA,OAAA+C,SAAA,CAAA5C,IAAA;MAAA;IAAA,GAAA0C,QAAA;EAAA,CAE1E;EAAA,OAAAD,OAAA,CAAA7F,KAAA,OAAAI,SAAA;AAAA;AAAA,SAEqBgG,MAAMA,CAAAC,GAAA,EAAAC,IAAA;EAAA,OAAAC,OAAA,CAAAvG,KAAA,OAAAI,SAAA;AAAA;AAAA,SAAAmG,QAAA;EAAAA,OAAA,OAAA3E,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAArB,SAAA0E,SACLxE,GAAgB,EAChBC,GAAa;IAAA,IAAAW,EAAA,EAAA6D,KAAA,EAAAC,WAAA,EAAA5F,IAAA;IAAA,OAAAe,YAAA,YAAAM,IAAA,UAAAwE,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAAtE,IAAA,GAAAsE,SAAA,CAAArE,IAAA;QAAA;UAAAqE,SAAA,CAAAtE,IAAA;UAGHM,EAAE,GAAKZ,GAAG,CAACgC,MAAM,CAAjBpB,EAAE;UACF6D,KAAK,GAAKzE,GAAG,CAACmD,IAAI,CAAlBsB,KAAK;UAAA,IACRA,KAAK;YAAAG,SAAA,CAAArE,IAAA;YAAA;UAAA;UAAA,OAAAqE,SAAA,CAAA9D,MAAA,WACDb,GAAG,CACPc,MAAM,CAAC,GAAG,CAAC,CACXC,IAAI,CAAC;YAAEE,OAAO,EAAE;UAA6C,CAAC,CAAC;QAAA;UAAA0D,SAAA,CAAArE,IAAA;UAAA,OAE1CG,kBAAE,CAACmE,UAAU,CACrC9C,MAAM,CAACnB,EAAE,CAAC,EACVF,kBAAE,CAACwD,SAAS,CAACC,KAAK,EAClBM,KACF,CAAC;QAAA;UAJKC,WAAW,GAAAE,SAAA,CAAA/D,IAAA;UAMX/B,IAAI,GAAGD,yBAAyB,CAAC6F,WAAW,CAAC;UAAA,OAAAE,SAAA,CAAA9D,MAAA,WAE5Cb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAElC,IAAI,EAAJA;UAAK,CAAC,CAAC;QAAA;UAAA8F,SAAA,CAAAtE,IAAA;UAAAsE,SAAA,CAAA3D,EAAA,GAAA2D,SAAA;UAAA,OAAAA,SAAA,CAAA9D,MAAA,WAE9Bb,GAAG,CACPc,MAAM,CAAC,GAAG,CAAC,CACXC,IAAI,CAAC;YAAEE,OAAO,mCAAAC,MAAA,CAAAyD,SAAA,CAAA3D,EAAA;UAAuC,CAAC,CAAC;QAAA;QAAA;UAAA,OAAA2D,SAAA,CAAAxD,IAAA;MAAA;IAAA,GAAAoD,QAAA;EAAA,CAE7D;EAAA,OAAAD,OAAA,CAAAvG,KAAA,OAAAI,SAAA;AAAA;AAAA,SAEqBoC,IAAIA,CAAAsE,IAAA,EAAAC,IAAA;EAAA,OAAAC,KAAA,CAAAhH,KAAA,OAAAI,SAAA;AAAA;AAAA,SAAA4G,MAAA;EAAAA,KAAA,OAAApF,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAnB,SAAAmF,SAAoBjF,GAAY,EAAEC,GAAa;IAAA,IAAAiF,UAAA,EAAAvC,KAAA,EAAAC,QAAA,EAAAuB,KAAA,EAAAgB,SAAA,EAAArG,IAAA;IAAA,OAAAe,YAAA,YAAAM,IAAA,UAAAiF,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAA/E,IAAA,GAAA+E,SAAA,CAAA9E,IAAA;QAAA;UAAA2E,UAAA,GACxBlF,GAAG,CAACmD,IAAI,EAA5BR,KAAK,GAAAuC,UAAA,CAALvC,KAAK,EAAEC,QAAQ,GAAAsC,UAAA,CAARtC,QAAQ,EAEvB;UAAAyC,SAAA,CAAA9E,IAAA;UAAA,OACoBG,kBAAE,CAAC0C,QAAQ,CAAC,CAAC;QAAA;UAA3Be,KAAK,GAAAkB,SAAA,CAAAxE,IAAA;UACLsE,SAAS,GAAGhB,KAAK,CAACmB,MAAM,CAC5B,UAACC,SAA0B,EAAEzG,IAAI;YAAA,OAC/BA,IAAI,CAAC6D,KAAK,KAAKA,KAAK,IAAI,IAAA6C,sBAAe,EAAC5C,QAAQ,EAAE9D,IAAI,CAAC,GACnDA,IAAI,GACJyG,SAAS;UAAA,GACf,IACF,CAAC;UAAA,IAEIJ,SAAS;YAAAE,SAAA,CAAA9E,IAAA;YAAA;UAAA;UAAA,OAAA8E,SAAA,CAAAvE,MAAA,WAASb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEE,OAAO,EAAE;UAAgB,CAAC,CAAC;QAAA;UAEzE;UACMpC,IAAI,GAAGD,yBAAyB,CAACsG,SAAS,CAAC;UAAA,OAAAE,SAAA,CAAAvE,MAAA,WAE1Cb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAElC,IAAI,EAAJA;UAAK,CAAC,CAAC;QAAA;QAAA;UAAA,OAAAuG,SAAA,CAAAjE,IAAA;MAAA;IAAA,GAAA6D,QAAA;EAAA,CACtC;EAAA,OAAAD,KAAA,CAAAhH,KAAA,OAAAI,SAAA;AAAA;AAAA,IAAAqH,QAAA,GAEc;EACbjG,GAAG,EAAHA,GAAG;EACH6B,mBAAmB,EAAnBA,mBAAmB;EACnBgB,MAAM,EAANA,MAAM;EACNqB,MAAM,EAANA,MAAM;EACNU,MAAM,EAANA,MAAM;EACN5D,IAAI,EAAJA;AACF,CAAC;AAAAkF,OAAA,cAAAD,QAAA"}},"mtime":1685356796086},"{\"assumptions\":{},\"sourceRoot\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server\",\"filename\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/auth.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createJWT = createJWT;\nexports.hashPassword = hashPassword;\nexports.passwordIsValid = passwordIsValid;\nvar _crypto = _interopRequireDefault(require(\"crypto\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _pbkdf = _interopRequireDefault(require(\"pbkdf2\"));\nfunction hashPassword(password) {\n  var salt = _crypto[\"default\"].randomBytes(128).toString('base64');\n  var iterations = 10000;\n  var keylen = 64;\n  var digest = 'sha512';\n  var hash = _pbkdf[\"default\"].pbkdf2Sync(password, salt, iterations, keylen, digest).toString();\n  return {\n    salt: salt,\n    hash: hash,\n    iterations: iterations,\n    keylen: keylen,\n    digest: digest\n  };\n}\nfunction passwordIsValid(password, user) {\n  var attemptHash = _pbkdf[\"default\"].pbkdf2Sync(password, user.salt, user.iterations, user.keylen, user.digest);\n  return user.hash === attemptHash.toString();\n}\nfunction createJWT(user) {\n  return _jsonwebtoken[\"default\"].sign(user, process.env.EXPRESS_SECRET);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY3J5cHRvIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfanNvbndlYnRva2VuIiwiX3Bia2RmIiwiaGFzaFBhc3N3b3JkIiwicGFzc3dvcmQiLCJzYWx0IiwiY3J5cHRvIiwicmFuZG9tQnl0ZXMiLCJ0b1N0cmluZyIsIml0ZXJhdGlvbnMiLCJrZXlsZW4iLCJkaWdlc3QiLCJoYXNoIiwicGJrZGYyIiwicGJrZGYyU3luYyIsInBhc3N3b3JkSXNWYWxpZCIsInVzZXIiLCJhdHRlbXB0SGFzaCIsImNyZWF0ZUpXVCIsImpzb253ZWJ0b2tlbiIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiRVhQUkVTU19TRUNSRVQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9saW9ya2FzdGVuYmF1bS9SZXBvcy9rc3QtYXBwb2ludG1lbnRzLW1hbmFnZXItYXBwL3NlcnZlci9zcmMvIiwic291cmNlcyI6WyJhdXRoLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcbmltcG9ydCBqc29ud2VidG9rZW4gZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCBwYmtkZjIgZnJvbSAncGJrZGYyJztcblxuaW1wb3J0IHsgTmV3VXNlciwgVXNlciB9IGZyb20gJy4uLy4uL3NoYXJlZC90eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFzc3dvcmRIYXNoIHtcbiAgc2FsdDogc3RyaW5nO1xuICBoYXNoOiBzdHJpbmc7XG4gIGl0ZXJhdGlvbnM6IG51bWJlcjtcbiAga2V5bGVuOiBudW1iZXI7XG4gIGRpZ2VzdDogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBOZXdBdXRoVXNlciA9IE5ld1VzZXIgJiBQYXNzd29yZEhhc2g7XG5leHBvcnQgdHlwZSBBdXRoVXNlciA9IFVzZXIgJiBQYXNzd29yZEhhc2g7XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNoUGFzc3dvcmQocGFzc3dvcmQ6IHN0cmluZyk6IFBhc3N3b3JkSGFzaCB7XG4gIGNvbnN0IHNhbHQgPSBjcnlwdG8ucmFuZG9tQnl0ZXMoMTI4KS50b1N0cmluZygnYmFzZTY0Jyk7XG4gIGNvbnN0IGl0ZXJhdGlvbnMgPSAxMDAwMDtcbiAgY29uc3Qga2V5bGVuID0gNjQ7XG4gIGNvbnN0IGRpZ2VzdCA9ICdzaGE1MTInO1xuICBjb25zdCBoYXNoID0gcGJrZGYyXG4gICAgLnBia2RmMlN5bmMocGFzc3dvcmQsIHNhbHQsIGl0ZXJhdGlvbnMsIGtleWxlbiwgZGlnZXN0KVxuICAgIC50b1N0cmluZygpO1xuXG4gIHJldHVybiB7XG4gICAgc2FsdCxcbiAgICBoYXNoLFxuICAgIGl0ZXJhdGlvbnMsXG4gICAga2V5bGVuLFxuICAgIGRpZ2VzdCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhc3N3b3JkSXNWYWxpZChwYXNzd29yZDogc3RyaW5nLCB1c2VyOiBBdXRoVXNlcik6IGJvb2xlYW4ge1xuICBjb25zdCBhdHRlbXB0SGFzaCA9IHBia2RmMi5wYmtkZjJTeW5jKFxuICAgIHBhc3N3b3JkLFxuICAgIHVzZXIuc2FsdCxcbiAgICB1c2VyLml0ZXJhdGlvbnMsXG4gICAgdXNlci5rZXlsZW4sXG4gICAgdXNlci5kaWdlc3QsXG4gICk7XG4gIHJldHVybiB1c2VyLmhhc2ggPT09IGF0dGVtcHRIYXNoLnRvU3RyaW5nKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVKV1QodXNlcjogVXNlcik6IHN0cmluZyB7XG4gIHJldHVybiBqc29ud2VidG9rZW4uc2lnbih1c2VyLCBwcm9jZXNzLmVudi5FWFBSRVNTX1NFQ1JFVCk7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGFBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQWVPLFNBQVNHLFlBQVlBLENBQUNDLFFBQWdCLEVBQWdCO0VBQzNELElBQU1DLElBQUksR0FBR0Msa0JBQU0sQ0FBQ0MsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxRQUFRLENBQUMsUUFBUSxDQUFDO0VBQ3ZELElBQU1DLFVBQVUsR0FBRyxLQUFLO0VBQ3hCLElBQU1DLE1BQU0sR0FBRyxFQUFFO0VBQ2pCLElBQU1DLE1BQU0sR0FBRyxRQUFRO0VBQ3ZCLElBQU1DLElBQUksR0FBR0MsaUJBQU0sQ0FDaEJDLFVBQVUsQ0FBQ1YsUUFBUSxFQUFFQyxJQUFJLEVBQUVJLFVBQVUsRUFBRUMsTUFBTSxFQUFFQyxNQUFNLENBQUMsQ0FDdERILFFBQVEsQ0FBQyxDQUFDO0VBRWIsT0FBTztJQUNMSCxJQUFJLEVBQUpBLElBQUk7SUFDSk8sSUFBSSxFQUFKQSxJQUFJO0lBQ0pILFVBQVUsRUFBVkEsVUFBVTtJQUNWQyxNQUFNLEVBQU5BLE1BQU07SUFDTkMsTUFBTSxFQUFOQTtFQUNGLENBQUM7QUFDSDtBQUVPLFNBQVNJLGVBQWVBLENBQUNYLFFBQWdCLEVBQUVZLElBQWMsRUFBVztFQUN6RSxJQUFNQyxXQUFXLEdBQUdKLGlCQUFNLENBQUNDLFVBQVUsQ0FDbkNWLFFBQVEsRUFDUlksSUFBSSxDQUFDWCxJQUFJLEVBQ1RXLElBQUksQ0FBQ1AsVUFBVSxFQUNmTyxJQUFJLENBQUNOLE1BQU0sRUFDWE0sSUFBSSxDQUFDTCxNQUNQLENBQUM7RUFDRCxPQUFPSyxJQUFJLENBQUNKLElBQUksS0FBS0ssV0FBVyxDQUFDVCxRQUFRLENBQUMsQ0FBQztBQUM3QztBQUVPLFNBQVNVLFNBQVNBLENBQUNGLElBQVUsRUFBVTtFQUM1QyxPQUFPRyx3QkFBWSxDQUFDQyxJQUFJLENBQUNKLElBQUksRUFBRUssT0FBTyxDQUFDQyxHQUFHLENBQUNDLGNBQWMsQ0FBQztBQUM1RCJ9","map":{"version":3,"names":["_crypto","_interopRequireDefault","require","_jsonwebtoken","_pbkdf","hashPassword","password","salt","crypto","randomBytes","toString","iterations","keylen","digest","hash","pbkdf2","pbkdf2Sync","passwordIsValid","user","attemptHash","createJWT","jsonwebtoken","sign","process","env","EXPRESS_SECRET"],"sourceRoot":"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/","sources":["auth.ts"],"sourcesContent":["import crypto from 'crypto';\nimport jsonwebtoken from 'jsonwebtoken';\nimport pbkdf2 from 'pbkdf2';\n\nimport { NewUser, User } from '../../shared/types';\n\nexport interface PasswordHash {\n  salt: string;\n  hash: string;\n  iterations: number;\n  keylen: number;\n  digest: string;\n}\n\nexport type NewAuthUser = NewUser & PasswordHash;\nexport type AuthUser = User & PasswordHash;\n\nexport function hashPassword(password: string): PasswordHash {\n  const salt = crypto.randomBytes(128).toString('base64');\n  const iterations = 10000;\n  const keylen = 64;\n  const digest = 'sha512';\n  const hash = pbkdf2\n    .pbkdf2Sync(password, salt, iterations, keylen, digest)\n    .toString();\n\n  return {\n    salt,\n    hash,\n    iterations,\n    keylen,\n    digest,\n  };\n}\n\nexport function passwordIsValid(password: string, user: AuthUser): boolean {\n  const attemptHash = pbkdf2.pbkdf2Sync(\n    password,\n    user.salt,\n    user.iterations,\n    user.keylen,\n    user.digest,\n  );\n  return user.hash === attemptHash.toString();\n}\n\nexport function createJWT(user: User): string {\n  return jsonwebtoken.sign(user, process.env.EXPRESS_SECRET);\n}\n"],"mappings":";;;;;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,aAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,MAAA,GAAAH,sBAAA,CAAAC,OAAA;AAeO,SAASG,YAAYA,CAACC,QAAgB,EAAgB;EAC3D,IAAMC,IAAI,GAAGC,kBAAM,CAACC,WAAW,CAAC,GAAG,CAAC,CAACC,QAAQ,CAAC,QAAQ,CAAC;EACvD,IAAMC,UAAU,GAAG,KAAK;EACxB,IAAMC,MAAM,GAAG,EAAE;EACjB,IAAMC,MAAM,GAAG,QAAQ;EACvB,IAAMC,IAAI,GAAGC,iBAAM,CAChBC,UAAU,CAACV,QAAQ,EAAEC,IAAI,EAAEI,UAAU,EAAEC,MAAM,EAAEC,MAAM,CAAC,CACtDH,QAAQ,CAAC,CAAC;EAEb,OAAO;IACLH,IAAI,EAAJA,IAAI;IACJO,IAAI,EAAJA,IAAI;IACJH,UAAU,EAAVA,UAAU;IACVC,MAAM,EAANA,MAAM;IACNC,MAAM,EAANA;EACF,CAAC;AACH;AAEO,SAASI,eAAeA,CAACX,QAAgB,EAAEY,IAAc,EAAW;EACzE,IAAMC,WAAW,GAAGJ,iBAAM,CAACC,UAAU,CACnCV,QAAQ,EACRY,IAAI,CAACX,IAAI,EACTW,IAAI,CAACP,UAAU,EACfO,IAAI,CAACN,MAAM,EACXM,IAAI,CAACL,MACP,CAAC;EACD,OAAOK,IAAI,CAACJ,IAAI,KAAKK,WAAW,CAACT,QAAQ,CAAC,CAAC;AAC7C;AAEO,SAASU,SAASA,CAACF,IAAU,EAAU;EAC5C,OAAOG,wBAAY,CAACC,IAAI,CAACJ,IAAI,EAAEK,OAAO,CAACC,GAAG,CAACC,cAAc,CAAC;AAC5D"}},"mtime":1685356796085},"{\"assumptions\":{},\"sourceRoot\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/db-func/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server\",\"filename\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/db-func/appointmentUtils.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createAppointments = createAppointments;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _dayjs = _interopRequireDefault(require(\"dayjs\"));\nvar _ = _interopRequireDefault(require(\".\"));\n/* eslint-disable no-plusplus */\n/* eslint-disable max-lines-per-function */\n\n// utility function to make unpadded month/date numbers into padded\nfunction padNum(num) {\n  return num.toString().length === 1 ? \"0\".concat(num) : num.toString();\n}\n\n// utility function to make appointment from date and treatment type\nfunction makeAppointment(treatmentName, dateTime, existingAppointmentsById) {\n  var id = Number((0, _dayjs[\"default\"])(dateTime).unix());\n\n  // if the appointment is filled, don't make the recurring appointment\n  if (existingAppointmentsById[id]) return existingAppointmentsById[id];\n\n  // otherwise, make the recurring appointment\n  var appointment = {\n    id: id,\n    dateTime: dateTime.toDate(),\n    treatmentName: treatmentName\n  };\n\n  // assign some appointments as filled by nonexistent \"user 100\" based on datetime mod\n  if (Math.floor(Math.random() * 10) % 3 === 0) appointment.userId = 100;\n  return appointment;\n}\n\n// generate an appointments object with recurring appointments and add to db\n// (if not already there)\n// Meant to be run on server startup\nfunction createAppointments() {\n  return _createAppointments.apply(this, arguments);\n}\nfunction _createAppointments() {\n  _createAppointments = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n    var existingAppointments, existingAppointmentsById, allAppointments, month, year, monthsFromNow, monthString, startDate, lastDate, i, dayNum, thisDate, dayofWeek;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          // eslint-disable-next-line no-console\n          console.log('Creating appointments...');\n          _context.next = 3;\n          return _[\"default\"].getAppointments();\n        case 3:\n          existingAppointments = _context.sent;\n          // make a map of appointments by id for easy access;\n          existingAppointmentsById = {};\n          existingAppointments.forEach(function (a) {\n            existingAppointmentsById[a.id] = a;\n          });\n          allAppointments = []; // start with today\n          month = (0, _dayjs[\"default\"])().month();\n          year = (0, _dayjs[\"default\"])().year(); // do this for three months; dayjs 0-indexes its months, hence starting at 1\n          monthsFromNow = 1;\n        case 10:\n          if (!(monthsFromNow < 4)) {\n            _context.next = 44;\n            break;\n          }\n          // make sure month is two digits;\n          monthString = padNum(month + monthsFromNow);\n          startDate = (0, _dayjs[\"default\"])(\"\".concat(year).concat(monthString, \"01\"));\n          lastDate = Number(startDate.endOf('month').format('DD'));\n          i = 0;\n        case 15:\n          if (!(i < lastDate)) {\n            _context.next = 41;\n            break;\n          }\n          dayNum = i + 1;\n          thisDate = (0, _dayjs[\"default\"])(\"\".concat(year).concat(monthString).concat(padNum(dayNum)));\n          dayofWeek = Number(thisDate.format('d'));\n          _context.t0 = dayofWeek;\n          _context.next = _context.t0 === 1 ? 22 : _context.t0 === 2 ? 25 : _context.t0 === 3 ? 28 : _context.t0 === 4 ? 31 : _context.t0 === 5 ? 34 : 37;\n          break;\n        case 22:\n          // Mondays: massage 10am, facial 2pm\n          allAppointments.push(makeAppointment('massage', thisDate.clone().add(10, 'hours'), existingAppointmentsById));\n          allAppointments.push(makeAppointment('facial', thisDate.clone().add(14, 'hours'), existingAppointmentsById));\n          return _context.abrupt(\"break\", 38);\n        case 25:\n          // Tuesdays: scrub 1pm, massage 3pm\n          allAppointments.push(makeAppointment('scrub', thisDate.clone().add(13, 'hours'), existingAppointmentsById));\n          allAppointments.push(makeAppointment('massage', thisDate.clone().add(15, 'hours'), existingAppointmentsById));\n          return _context.abrupt(\"break\", 38);\n        case 28:\n          // Wednesdays: facial: 11am, scrub 4pm\n          allAppointments.push(makeAppointment('facial', thisDate.clone().add(11, 'hours'), existingAppointmentsById));\n          allAppointments.push(makeAppointment('scrub', thisDate.clone().add(16, 'hours'), existingAppointmentsById));\n          return _context.abrupt(\"break\", 38);\n        case 31:\n          // Thursdays: scrub: 9am, scrub 1pm\n          allAppointments.push(makeAppointment('scrub', thisDate.clone().add(9, 'hours'), existingAppointmentsById));\n          allAppointments.push(makeAppointment('scrub', thisDate.clone().add(13, 'hours'), existingAppointmentsById));\n          return _context.abrupt(\"break\", 38);\n        case 34:\n          // Fridays: massage: 1pm, massage 3pm\n          allAppointments.push(makeAppointment('massage', thisDate.clone().add(13, 'hours'), existingAppointmentsById));\n          allAppointments.push(makeAppointment('massage', thisDate.clone().add(15, 'hours'), existingAppointmentsById));\n          return _context.abrupt(\"break\", 38);\n        case 37:\n          return _context.abrupt(\"break\", 38);\n        case 38:\n          i++;\n          _context.next = 15;\n          break;\n        case 41:\n          monthsFromNow++;\n          _context.next = 10;\n          break;\n        case 44:\n          _context.next = 46;\n          return _[\"default\"].writeAppointments(allAppointments);\n        case 46:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _createAppointments.apply(this, arguments);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGF5anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl8iLCJwYWROdW0iLCJudW0iLCJ0b1N0cmluZyIsImxlbmd0aCIsImNvbmNhdCIsIm1ha2VBcHBvaW50bWVudCIsInRyZWF0bWVudE5hbWUiLCJkYXRlVGltZSIsImV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZCIsImlkIiwiTnVtYmVyIiwiZGF5anMiLCJ1bml4IiwiYXBwb2ludG1lbnQiLCJ0b0RhdGUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ1c2VySWQiLCJjcmVhdGVBcHBvaW50bWVudHMiLCJfY3JlYXRlQXBwb2ludG1lbnRzIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsImV4aXN0aW5nQXBwb2ludG1lbnRzIiwiYWxsQXBwb2ludG1lbnRzIiwibW9udGgiLCJ5ZWFyIiwibW9udGhzRnJvbU5vdyIsIm1vbnRoU3RyaW5nIiwic3RhcnREYXRlIiwibGFzdERhdGUiLCJpIiwiZGF5TnVtIiwidGhpc0RhdGUiLCJkYXlvZldlZWsiLCJ3cmFwIiwiX2NhbGxlZSQiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwiY29uc29sZSIsImxvZyIsImRiIiwiZ2V0QXBwb2ludG1lbnRzIiwic2VudCIsImZvckVhY2giLCJhIiwiZW5kT2YiLCJmb3JtYXQiLCJ0MCIsInB1c2giLCJjbG9uZSIsImFkZCIsImFicnVwdCIsIndyaXRlQXBwb2ludG1lbnRzIiwic3RvcCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2xpb3JrYXN0ZW5iYXVtL1JlcG9zL2tzdC1hcHBvaW50bWVudHMtbWFuYWdlci1hcHAvc2VydmVyL3NyYy9kYi1mdW5jLyIsInNvdXJjZXMiOlsiYXBwb2ludG1lbnRVdGlscy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1wbHVzcGx1cyAqL1xuLyogZXNsaW50LWRpc2FibGUgbWF4LWxpbmVzLXBlci1mdW5jdGlvbiAqL1xuaW1wb3J0IGRheWpzIGZyb20gJ2RheWpzJztcblxuaW1wb3J0IHsgQXBwb2ludG1lbnQgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdHlwZXMnO1xuaW1wb3J0IGRiIGZyb20gJy4nO1xuXG4vLyB1dGlsaXR5IGZ1bmN0aW9uIHRvIG1ha2UgdW5wYWRkZWQgbW9udGgvZGF0ZSBudW1iZXJzIGludG8gcGFkZGVkXG5mdW5jdGlvbiBwYWROdW0obnVtOiBudW1iZXIgfCBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gbnVtLnRvU3RyaW5nKCkubGVuZ3RoID09PSAxID8gYDAke251bX1gIDogbnVtLnRvU3RyaW5nKCk7XG59XG5cbi8vIHV0aWxpdHkgZnVuY3Rpb24gdG8gbWFrZSBhcHBvaW50bWVudCBmcm9tIGRhdGUgYW5kIHRyZWF0bWVudCB0eXBlXG5mdW5jdGlvbiBtYWtlQXBwb2ludG1lbnQoXG4gIHRyZWF0bWVudE5hbWU6IHN0cmluZyxcbiAgZGF0ZVRpbWU6IGRheWpzLkRheWpzLFxuICBleGlzdGluZ0FwcG9pbnRtZW50c0J5SWQ6IFJlY29yZDxudW1iZXIsIEFwcG9pbnRtZW50Pixcbik6IEFwcG9pbnRtZW50IHtcbiAgY29uc3QgaWQgPSBOdW1iZXIoZGF5anMoZGF0ZVRpbWUpLnVuaXgoKSk7XG5cbiAgLy8gaWYgdGhlIGFwcG9pbnRtZW50IGlzIGZpbGxlZCwgZG9uJ3QgbWFrZSB0aGUgcmVjdXJyaW5nIGFwcG9pbnRtZW50XG4gIGlmIChleGlzdGluZ0FwcG9pbnRtZW50c0J5SWRbaWRdKSByZXR1cm4gZXhpc3RpbmdBcHBvaW50bWVudHNCeUlkW2lkXTtcblxuICAvLyBvdGhlcndpc2UsIG1ha2UgdGhlIHJlY3VycmluZyBhcHBvaW50bWVudFxuICBjb25zdCBhcHBvaW50bWVudDogQXBwb2ludG1lbnQgPSB7XG4gICAgaWQsXG4gICAgZGF0ZVRpbWU6IGRhdGVUaW1lLnRvRGF0ZSgpLFxuICAgIHRyZWF0bWVudE5hbWUsXG4gIH07XG5cbiAgLy8gYXNzaWduIHNvbWUgYXBwb2ludG1lbnRzIGFzIGZpbGxlZCBieSBub25leGlzdGVudCBcInVzZXIgMTAwXCIgYmFzZWQgb24gZGF0ZXRpbWUgbW9kXG4gIGlmIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCkgJSAzID09PSAwKSBhcHBvaW50bWVudC51c2VySWQgPSAxMDA7XG5cbiAgcmV0dXJuIGFwcG9pbnRtZW50O1xufVxuXG4vLyBnZW5lcmF0ZSBhbiBhcHBvaW50bWVudHMgb2JqZWN0IHdpdGggcmVjdXJyaW5nIGFwcG9pbnRtZW50cyBhbmQgYWRkIHRvIGRiXG4vLyAoaWYgbm90IGFscmVhZHkgdGhlcmUpXG4vLyBNZWFudCB0byBiZSBydW4gb24gc2VydmVyIHN0YXJ0dXBcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVBcHBvaW50bWVudHMoKTogUHJvbWlzZTx2b2lkPiB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gIGNvbnNvbGUubG9nKCdDcmVhdGluZyBhcHBvaW50bWVudHMuLi4nKTtcbiAgY29uc3QgZXhpc3RpbmdBcHBvaW50bWVudHMgPSBhd2FpdCBkYi5nZXRBcHBvaW50bWVudHMoKTtcblxuICAvLyBtYWtlIGEgbWFwIG9mIGFwcG9pbnRtZW50cyBieSBpZCBmb3IgZWFzeSBhY2Nlc3M7XG4gIGNvbnN0IGV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZCA9IHt9O1xuICBleGlzdGluZ0FwcG9pbnRtZW50cy5mb3JFYWNoKChhKSA9PiB7XG4gICAgZXhpc3RpbmdBcHBvaW50bWVudHNCeUlkW2EuaWRdID0gYTtcbiAgfSk7XG5cbiAgY29uc3QgYWxsQXBwb2ludG1lbnRzOiBBcHBvaW50bWVudFtdID0gW107XG5cbiAgLy8gc3RhcnQgd2l0aCB0b2RheVxuICBjb25zdCBtb250aCA9IGRheWpzKCkubW9udGgoKTtcbiAgY29uc3QgeWVhciA9IGRheWpzKCkueWVhcigpO1xuXG4gIC8vIGRvIHRoaXMgZm9yIHRocmVlIG1vbnRoczsgZGF5anMgMC1pbmRleGVzIGl0cyBtb250aHMsIGhlbmNlIHN0YXJ0aW5nIGF0IDFcbiAgZm9yIChsZXQgbW9udGhzRnJvbU5vdyA9IDE7IG1vbnRoc0Zyb21Ob3cgPCA0OyBtb250aHNGcm9tTm93KyspIHtcbiAgICAvLyBtYWtlIHN1cmUgbW9udGggaXMgdHdvIGRpZ2l0cztcbiAgICBjb25zdCBtb250aFN0cmluZyA9IHBhZE51bShtb250aCArIG1vbnRoc0Zyb21Ob3cpO1xuICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IGRheWpzKGAke3llYXJ9JHttb250aFN0cmluZ30wMWApO1xuICAgIGNvbnN0IGxhc3REYXRlID0gTnVtYmVyKHN0YXJ0RGF0ZS5lbmRPZignbW9udGgnKS5mb3JtYXQoJ0REJykpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXN0RGF0ZTsgaSsrKSB7XG4gICAgICBjb25zdCBkYXlOdW0gPSBpICsgMTtcbiAgICAgIGNvbnN0IHRoaXNEYXRlID0gZGF5anMoYCR7eWVhcn0ke21vbnRoU3RyaW5nfSR7cGFkTnVtKGRheU51bSl9YCk7XG4gICAgICBjb25zdCBkYXlvZldlZWsgPSBOdW1iZXIodGhpc0RhdGUuZm9ybWF0KCdkJykpO1xuICAgICAgc3dpdGNoIChkYXlvZldlZWspIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIC8vIE1vbmRheXM6IG1hc3NhZ2UgMTBhbSwgZmFjaWFsIDJwbVxuICAgICAgICAgIGFsbEFwcG9pbnRtZW50cy5wdXNoKFxuICAgICAgICAgICAgbWFrZUFwcG9pbnRtZW50KFxuICAgICAgICAgICAgICAnbWFzc2FnZScsXG4gICAgICAgICAgICAgIHRoaXNEYXRlLmNsb25lKCkuYWRkKDEwLCAnaG91cnMnKSxcbiAgICAgICAgICAgICAgZXhpc3RpbmdBcHBvaW50bWVudHNCeUlkLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGFsbEFwcG9pbnRtZW50cy5wdXNoKFxuICAgICAgICAgICAgbWFrZUFwcG9pbnRtZW50KFxuICAgICAgICAgICAgICAnZmFjaWFsJyxcbiAgICAgICAgICAgICAgdGhpc0RhdGUuY2xvbmUoKS5hZGQoMTQsICdob3VycycpLFxuICAgICAgICAgICAgICBleGlzdGluZ0FwcG9pbnRtZW50c0J5SWQsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAvLyBUdWVzZGF5czogc2NydWIgMXBtLCBtYXNzYWdlIDNwbVxuICAgICAgICAgIGFsbEFwcG9pbnRtZW50cy5wdXNoKFxuICAgICAgICAgICAgbWFrZUFwcG9pbnRtZW50KFxuICAgICAgICAgICAgICAnc2NydWInLFxuICAgICAgICAgICAgICB0aGlzRGF0ZS5jbG9uZSgpLmFkZCgxMywgJ2hvdXJzJyksXG4gICAgICAgICAgICAgIGV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhbGxBcHBvaW50bWVudHMucHVzaChcbiAgICAgICAgICAgIG1ha2VBcHBvaW50bWVudChcbiAgICAgICAgICAgICAgJ21hc3NhZ2UnLFxuICAgICAgICAgICAgICB0aGlzRGF0ZS5jbG9uZSgpLmFkZCgxNSwgJ2hvdXJzJyksXG4gICAgICAgICAgICAgIGV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIC8vIFdlZG5lc2RheXM6IGZhY2lhbDogMTFhbSwgc2NydWIgNHBtXG4gICAgICAgICAgYWxsQXBwb2ludG1lbnRzLnB1c2goXG4gICAgICAgICAgICBtYWtlQXBwb2ludG1lbnQoXG4gICAgICAgICAgICAgICdmYWNpYWwnLFxuICAgICAgICAgICAgICB0aGlzRGF0ZS5jbG9uZSgpLmFkZCgxMSwgJ2hvdXJzJyksXG4gICAgICAgICAgICAgIGV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhbGxBcHBvaW50bWVudHMucHVzaChcbiAgICAgICAgICAgIG1ha2VBcHBvaW50bWVudChcbiAgICAgICAgICAgICAgJ3NjcnViJyxcbiAgICAgICAgICAgICAgdGhpc0RhdGUuY2xvbmUoKS5hZGQoMTYsICdob3VycycpLFxuICAgICAgICAgICAgICBleGlzdGluZ0FwcG9pbnRtZW50c0J5SWQsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAvLyBUaHVyc2RheXM6IHNjcnViOiA5YW0sIHNjcnViIDFwbVxuICAgICAgICAgIGFsbEFwcG9pbnRtZW50cy5wdXNoKFxuICAgICAgICAgICAgbWFrZUFwcG9pbnRtZW50KFxuICAgICAgICAgICAgICAnc2NydWInLFxuICAgICAgICAgICAgICB0aGlzRGF0ZS5jbG9uZSgpLmFkZCg5LCAnaG91cnMnKSxcbiAgICAgICAgICAgICAgZXhpc3RpbmdBcHBvaW50bWVudHNCeUlkLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGFsbEFwcG9pbnRtZW50cy5wdXNoKFxuICAgICAgICAgICAgbWFrZUFwcG9pbnRtZW50KFxuICAgICAgICAgICAgICAnc2NydWInLFxuICAgICAgICAgICAgICB0aGlzRGF0ZS5jbG9uZSgpLmFkZCgxMywgJ2hvdXJzJyksXG4gICAgICAgICAgICAgIGV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIC8vIEZyaWRheXM6IG1hc3NhZ2U6IDFwbSwgbWFzc2FnZSAzcG1cbiAgICAgICAgICBhbGxBcHBvaW50bWVudHMucHVzaChcbiAgICAgICAgICAgIG1ha2VBcHBvaW50bWVudChcbiAgICAgICAgICAgICAgJ21hc3NhZ2UnLFxuICAgICAgICAgICAgICB0aGlzRGF0ZS5jbG9uZSgpLmFkZCgxMywgJ2hvdXJzJyksXG4gICAgICAgICAgICAgIGV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhbGxBcHBvaW50bWVudHMucHVzaChcbiAgICAgICAgICAgIG1ha2VBcHBvaW50bWVudChcbiAgICAgICAgICAgICAgJ21hc3NhZ2UnLFxuICAgICAgICAgICAgICB0aGlzRGF0ZS5jbG9uZSgpLmFkZCgxNSwgJ2hvdXJzJyksXG4gICAgICAgICAgICAgIGV4aXN0aW5nQXBwb2ludG1lbnRzQnlJZCxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgYXdhaXQgZGIud3JpdGVBcHBvaW50bWVudHMoYWxsQXBwb2ludG1lbnRzKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBR0EsSUFBQUMsQ0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBTEE7QUFDQTs7QUFNQTtBQUNBLFNBQVNFLE1BQU1BLENBQUNDLEdBQW9CLEVBQVU7RUFDNUMsT0FBT0EsR0FBRyxDQUFDQyxRQUFRLENBQUMsQ0FBQyxDQUFDQyxNQUFNLEtBQUssQ0FBQyxPQUFBQyxNQUFBLENBQU9ILEdBQUcsSUFBS0EsR0FBRyxDQUFDQyxRQUFRLENBQUMsQ0FBQztBQUNqRTs7QUFFQTtBQUNBLFNBQVNHLGVBQWVBLENBQ3RCQyxhQUFxQixFQUNyQkMsUUFBcUIsRUFDckJDLHdCQUFxRCxFQUN4QztFQUNiLElBQU1DLEVBQUUsR0FBR0MsTUFBTSxDQUFDLElBQUFDLGlCQUFLLEVBQUNKLFFBQVEsQ0FB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","map":{"version":3,"names":["_dayjs","_interopRequireDefault","require","_","padNum","num","toString","length","concat","makeAppointment","treatmentName","dateTime","existingAppointmentsById","id","Number","dayjs","unix","appointment","toDate","Math","floor","random","userId","createAppointments","_createAppointments","apply","arguments","_asyncToGenerator2","_regenerator","mark","_callee","existingAppointments","allAppointments","month","year","monthsFromNow","monthString","startDate","lastDate","i","dayNum","thisDate","dayofWeek","wrap","_callee$","_context","prev","next","console","log","db","getAppointments","sent","forEach","a","endOf","format","t0","push","clone","add","abrupt","writeAppointments","stop"],"sourceRoot":"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/db-func/","sources":["appointmentUtils.ts"],"sourcesContent":["/* eslint-disable no-plusplus */\n/* eslint-disable max-lines-per-function */\nimport dayjs from 'dayjs';\n\nimport { Appointment } from '../../../shared/types';\nimport db from '.';\n\n// utility function to make unpadded month/date numbers into padded\nfunction padNum(num: number | string): string {\n  return num.toString().length === 1 ? `0${num}` : num.toString();\n}\n\n// utility function to make appointment from date and treatment type\nfunction makeAppointment(\n  treatmentName: string,\n  dateTime: dayjs.Dayjs,\n  existingAppointmentsById: Record<number, Appointment>,\n): Appointment {\n  const id = Number(dayjs(dateTime).unix());\n\n  // if the appointment is filled, don't make the recurring appointment\n  if (existingAppointmentsById[id]) return existingAppointmentsById[id];\n\n  // otherwise, make the recurring appointment\n  const appointment: Appointment = {\n    id,\n    dateTime: dateTime.toDate(),\n    treatmentName,\n  };\n\n  // assign some appointments as filled by nonexistent \"user 100\" based on datetime mod\n  if (Math.floor(Math.random() * 10) % 3 === 0) appointment.userId = 100;\n\n  return appointment;\n}\n\n// generate an appointments object with recurring appointments and add to db\n// (if not already there)\n// Meant to be run on server startup\nexport async function createAppointments(): Promise<void> {\n  // eslint-disable-next-line no-console\n  console.log('Creating appointments...');\n  const existingAppointments = await db.getAppointments();\n\n  // make a map of appointments by id for easy access;\n  const existingAppointmentsById = {};\n  existingAppointments.forEach((a) => {\n    existingAppointmentsById[a.id] = a;\n  });\n\n  const allAppointments: Appointment[] = [];\n\n  // start with today\n  const month = dayjs().month();\n  const year = dayjs().year();\n\n  // do this for three months; dayjs 0-indexes its months, hence starting at 1\n  for (let monthsFromNow = 1; monthsFromNow < 4; monthsFromNow++) {\n    // make sure month is two digits;\n    const monthString = padNum(month + monthsFromNow);\n    const startDate = dayjs(`${year}${monthString}01`);\n    const lastDate = Number(startDate.endOf('month').format('DD'));\n\n    for (let i = 0; i < lastDate; i++) {\n      const dayNum = i + 1;\n      const thisDate = dayjs(`${year}${monthString}${padNum(dayNum)}`);\n      const dayofWeek = Number(thisDate.format('d'));\n      switch (dayofWeek) {\n        case 1:\n          // Mondays: massage 10am, facial 2pm\n          allAppointments.push(\n            makeAppointment(\n              'massage',\n              thisDate.clone().add(10, 'hours'),\n              existingAppointmentsById,\n            ),\n          );\n          allAppointments.push(\n            makeAppointment(\n              'facial',\n              thisDate.clone().add(14, 'hours'),\n              existingAppointmentsById,\n            ),\n          );\n          break;\n        case 2:\n          // Tuesdays: scrub 1pm, massage 3pm\n          allAppointments.push(\n            makeAppointment(\n              'scrub',\n              thisDate.clone().add(13, 'hours'),\n              existingAppointmentsById,\n            ),\n          );\n          allAppointments.push(\n            makeAppointment(\n              'massage',\n              thisDate.clone().add(15, 'hours'),\n              existingAppointmentsById,\n            ),\n          );\n          break;\n        case 3:\n          // Wednesdays: facial: 11am, scrub 4pm\n          allAppointments.push(\n            makeAppointment(\n              'facial',\n              thisDate.clone().add(11, 'hours'),\n              existingAppointmentsById,\n            ),\n          );\n          allAppointments.push(\n            makeAppointment(\n              'scrub',\n              thisDate.clone().add(16, 'hours'),\n              existingAppointmentsById,\n            ),\n          );\n          break;\n        case 4:\n          // Thursdays: scrub: 9am, scrub 1pm\n          allAppointments.push(\n            makeAppointment(\n              'scrub',\n              thisDate.clone().add(9, 'hours'),\n              existingAppointmentsById,\n            ),\n          );\n          allAppointments.push(\n            makeAppointment(\n              'scrub',\n              thisDate.clone().add(13, 'hours'),\n              existingAppointmentsById,\n            ),\n          );\n          break;\n        case 5:\n          // Fridays: massage: 1pm, massage 3pm\n          allAppointments.push(\n            makeAppointment(\n              'massage',\n              thisDate.clone().add(13, 'hours'),\n              existingAppointmentsById,\n            ),\n          );\n          allAppointments.push(\n            makeAppointment(\n              'massage',\n              thisDate.clone().add(15, 'hours'),\n              existingAppointmentsById,\n            ),\n          );\n          break;\n        default:\n          break;\n      }\n    }\n  }\n  await db.writeAppointments(allAppointments);\n}\n"],"mappings":"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"}},"mtime":1685356796085},"{\"assumptions\":{},\"sourceRoot\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/db-func/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server\",\"filename\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/db-func/index.ts\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{},\"externalDependencies\":[]},{\"key\":\"transform-typescript\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Identifier\":{\"enter\":[null]},\"RestElement\":{\"enter\":[null]},\"Program\":{\"enter\":[null],\"exit\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"ExportAllDeclaration\":{\"enter\":[null]},\"ExportSpecifier\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"TSDeclareFunction\":{\"enter\":[null]},\"TSDeclareMethod\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"VariableDeclarator\":{\"enter\":[null]},\"TSIndexSignature\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null,null]},\"TSModuleDeclaration\":{\"enter\":[null]},\"TSInterfaceDeclaration\":{\"enter\":[null]},\"TSTypeAliasDeclaration\":{\"enter\":[null]},\"TSEnumDeclaration\":{\"enter\":[null]},\"TSImportEqualsDeclaration\":{\"enter\":[null]},\"TSExportAssignment\":{\"enter\":[null]},\"TSTypeAssertion\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"OptionalCallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"JSXOpeningElement\":{\"enter\":[null]},\"TaggedTemplateExpression\":{\"enter\":[null]},\"TSAsExpression\":{\"enter\":[null]},\"TSSatisfiesExpression\":{\"enter\":[null]},\"TSNonNullExpression\":{\"enter\":[null]},\"TSInstantiationExpression\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"isTSX\":false,\"allowNamespaces\":true,\"disallowAmbiguousJSXLike\":false,\"jsxPragmaFrag\":\"React.Fragment\",\"optimizeConstEnums\":false},\"externalDependencies\":[]},{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null,null]},\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":{},\"_verified\":{},\"ClassDeclaration\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.8:development":{"value":{"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.filenames = exports[\"default\"] = void 0;\nexports.getAppointments = getAppointments;\nexports.getAppointmentsByMonthYear = getAppointmentsByMonthYear;\nexports.getStaff = getStaff;\nexports.getTreatments = getTreatments;\nexports.getUserById = getUserById;\nexports.getUsers = getUsers;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _dayjs = _interopRequireDefault(require(\"dayjs\"));\nvar _fastJsonPatch = _interopRequireDefault(require(\"fast-json-patch\"));\nvar _fs = require(\"fs\");\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; } // NOTE: in production this would connect to a database,\n// not JSON files. However, I didn't want to make you install\n// a particular database in order to use this app.\n//\n// This \"database\" is horribly inefficient and will be a problem\n// when Lazy Days Spa opens to hundreds of locations globally.\nvar dbPath = 'db';\nvar filenames = /*#__PURE__*/function (filenames) {\n  filenames[\"users\"] = \"users.json\";\n  filenames[\"appointments\"] = \"appointments.json\";\n  filenames[\"treatments\"] = \"treatments.json\";\n  filenames[\"staff\"] = \"staff.json\";\n  return filenames;\n}({});\n/* ****** Read from file ***** */\nexports.filenames = filenames;\nfunction getJSONfromFile(_x) {\n  return _getJSONfromFile.apply(this, arguments);\n}\n/* ****** Write to file ***** */\nfunction _getJSONfromFile() {\n  _getJSONfromFile = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(filename) {\n    var filePath, data;\n    return _regenerator[\"default\"].wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          filePath = _path[\"default\"].join(dbPath, filename);\n          _context.next = 3;\n          return _fs.promises.readFile(filePath);\n        case 3:\n          data = _context.sent;\n          return _context.abrupt(\"return\", JSON.parse(data.toString()));\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _getJSONfromFile.apply(this, arguments);\n}\nfunction writeJSONToFile(_x2, _x3) {\n  return _writeJSONToFile.apply(this, arguments);\n}\n/* ****** Delete item ***** */\nfunction _writeJSONToFile() {\n  _writeJSONToFile = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(filename, data) {\n    var filePath, jsonData;\n    return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          filePath = _path[\"default\"].join(dbPath, filename);\n          jsonData = JSON.stringify(data);\n          _context2.next = 4;\n          return _fs.promises.writeFile(filePath, jsonData, {\n            flag: 'w'\n          });\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return _writeJSONToFile.apply(this, arguments);\n}\nfunction deleteItem(_x4, _x5) {\n  return _deleteItem.apply(this, arguments);\n}\n/* ****** Update item ***** */\nfunction _deleteItem() {\n  _deleteItem = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(filename, itemId) {\n    var items, foundItemArray, updatedItems;\n    return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return getJSONfromFile(filename);\n        case 3:\n          items = _context3.sent;\n          foundItemArray = items.filter(function (i) {\n            return i.id === itemId;\n          });\n          if (!(foundItemArray.length !== 1)) {\n            _context3.next = 7;\n            break;\n          }\n          throw new Error(\"Could not find item id \".concat(itemId, \" in \").concat(filename));\n        case 7:\n          updatedItems = items.filter(function (i) {\n            return i.id !== itemId;\n          });\n          _context3.next = 10;\n          return writeJSONToFile(filename, updatedItems);\n        case 10:\n          return _context3.abrupt(\"return\", itemId);\n        case 13:\n          _context3.prev = 13;\n          _context3.t0 = _context3[\"catch\"](0);\n          throw new Error(\"Could not delete item id \".concat(itemId, \" from \").concat(filename, \": \").concat(_context3.t0));\n        case 16:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 13]]);\n  }));\n  return _deleteItem.apply(this, arguments);\n}\nvar applyPatch = _fastJsonPatch[\"default\"].applyPatch;\n// eslint-disable-next-line max-lines-per-function\nfunction updateItem(_x6, _x7, _x8) {\n  return _updateItem.apply(this, arguments);\n}\nfunction _updateItem() {\n  _updateItem = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(itemId, filename,\n  // should be fast-json-patch Operation, but I can't destructure on import\n  itemPatch) {\n    var items, foundItems, updatedData;\n    return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _context4.next = 3;\n          return getJSONfromFile(filename);\n        case 3:\n          items = _context4.sent;\n          // find the item\n          foundItems = items.filter(function (item) {\n            return item.id === itemId;\n          });\n          if (!(foundItems.length !== 1)) {\n            _context4.next = 7;\n            break;\n          }\n          throw new Error(\"Could not find item with id \".concat(itemId));\n        case 7:\n          // apply the patch\n          updatedData = applyPatch(foundItems[0], itemPatch).newDocument; // write the new item data. Note: this whole function is horribly inefficient and\n          // would be much improved with a real db.\n          items.forEach(function (item, i) {\n            if (item.id === itemId) {\n              items[i] = updatedData;\n            }\n          });\n          _context4.next = 11;\n          return writeJSONToFile(filename, items);\n        case 11:\n          return _context4.abrupt(\"return\", updatedData);\n        case 14:\n          _context4.prev = 14;\n          _context4.t0 = _context4[\"catch\"](0);\n          throw new Error(\"Could not delete item id \".concat(itemId, \" from \").concat(filename, \": \").concat(_context4.t0));\n        case 17:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[0, 14]]);\n  }));\n  return _updateItem.apply(this, arguments);\n}\nfunction getAppointments() {\n  return _getAppointments.apply(this, arguments);\n}\nfunction _getAppointments() {\n  _getAppointments = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5() {\n    return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          return _context5.abrupt(\"return\", getJSONfromFile(filenames.appointments));\n        case 1:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return _getAppointments.apply(this, arguments);\n}\nfunction getAppointmentsByMonthYear(_x9, _x10) {\n  return _getAppointmentsByMonthYear.apply(this, arguments);\n}\nfunction _getAppointmentsByMonthYear() {\n  _getAppointmentsByMonthYear = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(month, year) {\n    var appointmentDateMap, allAppointments;\n    return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          // yet another place where inefficiency is ridiculous compared to a real db\n          appointmentDateMap = {};\n          _context6.next = 3;\n          return getAppointments();\n        case 3:\n          allAppointments = _context6.sent;\n          // filter data and massage into format expected by client\n          allAppointments.forEach(function (appointment) {\n            var appointmentDate = (0, _dayjs[\"default\"])(appointment.dateTime);\n            if (\n            // zero-indexed month\n            appointmentDate.month() + 1 === Number(month) && appointmentDate.year() === Number(year)) {\n              var dayNum = (0, _dayjs[\"default\"])(appointment.dateTime).date();\n              if (appointmentDateMap[dayNum]) {\n                appointmentDateMap[dayNum].push(appointment);\n              } else {\n                appointmentDateMap[dayNum] = [appointment];\n              }\n            }\n          });\n          return _context6.abrupt(\"return\", appointmentDateMap);\n        case 6:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return _getAppointmentsByMonthYear.apply(this, arguments);\n}\nfunction getTreatments() {\n  return _getTreatments.apply(this, arguments);\n}\nfunction _getTreatments() {\n  _getTreatments = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee7() {\n    return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          return _context7.abrupt(\"return\", getJSONfromFile(filenames.treatments));\n        case 1:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7);\n  }));\n  return _getTreatments.apply(this, arguments);\n}\nfunction getStaff() {\n  return _getStaff.apply(this, arguments);\n}\nfunction _getStaff() {\n  _getStaff = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee8() {\n    return _regenerator[\"default\"].wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          return _context8.abrupt(\"return\", getJSONfromFile(filenames.staff));\n        case 1:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8);\n  }));\n  return _getStaff.apply(this, arguments);\n}\nfunction getUsers() {\n  return getJSONfromFile(filenames.users);\n}\nfunction getUserById(_x11) {\n  return _getUserById.apply(this, arguments);\n}\n/* ****** Add new user ***** */\nfunction _getUserById() {\n  _getUserById = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee9(userId) {\n    var users, userData;\n    return _regenerator[\"default\"].wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.next = 2;\n          return getUsers();\n        case 2:\n          users = _context9.sent;\n          userData = users.filter(function (u) {\n            return u.id === userId;\n          });\n          if (!(userData.length < 1)) {\n            _context9.next = 6;\n            break;\n          }\n          throw new Error('user not found');\n        case 6:\n          if (!(userData.length < 1)) {\n            _context9.next = 8;\n            break;\n          }\n          throw new Error('duplicate user found');\n        case 8:\n          return _context9.abrupt(\"return\", userData[0]);\n        case 9:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9);\n  }));\n  return _getUserById.apply(this, arguments);\n}\nfunction addUser(_x12) {\n  return _addUser.apply(this, arguments);\n}\n/* ****** Add new appoinment ***** */\nfunction _addUser() {\n  _addUser = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee10(newUserData) {\n    var users, ids, maxId, newUserId, newUser;\n    return _regenerator[\"default\"].wrap(function _callee10$(_context10) {\n      while (1) switch (_context10.prev = _context10.next) {\n        case 0:\n          _context10.next = 2;\n          return getUsers();\n        case 2:\n          users = _context10.sent;\n          // get the max id from the existing ids\n          ids = Object.values(users).map(function (u) {\n            return u.id;\n          });\n          maxId = ids.reduce(function (tempMaxId, itemId) {\n            return itemId > tempMaxId ? itemId : tempMaxId;\n          }, 0); // the new user will have an id of the max id plus 1\n          newUserId = maxId + 1;\n          newUser = _objectSpread(_objectSpread({}, newUserData), {}, {\n            id: newUserId\n          });\n          _context10.next = 9;\n          return writeJSONToFile(filenames.users, [].concat((0, _toConsumableArray2[\"default\"])(users), [newUser]));\n        case 9:\n          return _context10.abrupt(\"return\", newUser);\n        case 10:\n        case \"end\":\n          return _context10.stop();\n      }\n    }, _callee10);\n  }));\n  return _addUser.apply(this, arguments);\n}\nfunction writeAppointments(_x13) {\n  return _writeAppointments.apply(this, arguments);\n}\nfunction _writeAppointments() {\n  _writeAppointments = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee11(newAppointmentsArray) {\n    return _regenerator[\"default\"].wrap(function _callee11$(_context11) {\n      while (1) switch (_context11.prev = _context11.next) {\n        case 0:\n          _context11.next = 2;\n          return writeJSONToFile(filenames.appointments, newAppointmentsArray);\n        case 2:\n        case \"end\":\n          return _context11.stop();\n      }\n    }, _callee11);\n  }));\n  return _writeAppointments.apply(this, arguments);\n}\nvar _default = {\n  filenames: filenames,\n  writeAppointments: writeAppointments,\n  addUser: addUser,\n  deleteItem: deleteItem,\n  updateItem: updateItem,\n  getUsers: getUsers,\n  getUserById: getUserById,\n  getAppointments: getAppointments,\n  getAppointmentsByMonthYear: getAppointmentsByMonthYear,\n  getStaff: getStaff,\n  getTreatments: getTreatments\n};\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGF5anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9mYXN0SnNvblBhdGNoIiwiX2ZzIiwiX3BhdGgiLCJvd25LZXlzIiwib2JqZWN0IiwiZW51bWVyYWJsZU9ubHkiLCJrZXlzIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9scyIsImZpbHRlciIsInN5bSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwidGFyZ2V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNvdXJjZSIsImZvckVhY2giLCJrZXkiLCJfZGVmaW5lUHJvcGVydHkyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJkZWZpbmVQcm9wZXJ0eSIsImRiUGF0aCIsImZpbGVuYW1lcyIsImV4cG9ydHMiLCJnZXRKU09OZnJvbUZpbGUiLCJfeCIsIl9nZXRKU09OZnJvbUZpbGUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVnZW5lcmF0b3IiLCJtYXJrIiwiX2NhbGxlZSIsImZpbGVuYW1lIiwiZmlsZVBhdGgiLCJkYXRhIiwid3JhcCIsIl9jYWxsZWUkIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsInBhdGgiLCJqb2luIiwiZnMiLCJyZWFkRmlsZSIsInNlbnQiLCJhYnJ1cHQiLCJKU09OIiwicGFyc2UiLCJ0b1N0cmluZyIsInN0b3AiLCJ3cml0ZUpTT05Ub0ZpbGUiLCJfeDIiLCJfeDMiLCJfd3JpdGVKU09OVG9GaWxlIiwiX2NhbGxlZTIiLCJqc29uRGF0YSIsIl9jYWxsZWUyJCIsIl9jb250ZXh0MiIsInN0cmluZ2lmeSIsIndyaXRlRmlsZSIsImZsYWciLCJkZWxldGVJdGVtIiwiX3g0IiwiX3g1IiwiX2RlbGV0ZUl0ZW0iLCJfY2FsbGVlMyIsIml0ZW1JZCIsIml0ZW1zIiwiZm91bmRJdGVtQXJyYXkiLCJ1cGRhdGVkSXRlbXMiLCJfY2FsbGVlMyQiLCJfY29udGV4dDMiLCJpZCIsIkVycm9yIiwiY29uY2F0IiwidDAiLCJhcHBseVBhdGNoIiwianNvblBhdGNoIiwidXBkYXRlSXRlbSIsIl94NiIsIl94NyIsIl94OCIsIl91cGRhdGVJdGVtIiwiX2NhbGxlZTQiLCJpdGVtUGF0Y2giLCJmb3VuZEl0ZW1zIiwidXBkYXRlZERhdGEiLCJfY2FsbGVlNCQiLCJfY29udGV4dDQiLCJpdGVtIiwibmV3RG9jdW1lbnQiLCJnZXRBcHBvaW50bWVudHMiLCJfZ2V0QXBwb2ludG1lbnRzIiwiX2NhbGxlZTUiLCJfY2FsbGVlNSQiLCJfY29udGV4dDUiLCJhcHBvaW50bWVudHMiLCJnZXRBcHBvaW50bWVudHNCeU1vbnRoWWVhciIsIl94OSIsIl94MTAiLCJfZ2V0QXBwb2ludG1lbnRzQnlNb250aFllYXIiLCJfY2FsbGVlNiIsIm1vbnRoIiwieWVhciIsImFwcG9pbnRtZW50RGF0ZU1hcCIsImFsbEFwcG9pbnRtZW50cyIsIl9jYWxsZWU2JCIsIl9jb250ZXh0NiIsImFwcG9pbnRtZW50IiwiYXBwb2ludG1lbnREYXRlIiwiZGF5anMiLCJkYXRlVGltZSIsIk51bWJlciIsImRheU51bSIsImRhdGUiLCJnZXRUcmVhdG1lbnRzIiwiX2dldFRyZWF0bWVudHMiLCJfY2FsbGVlNyIsIl9jYWxsZWU3JCIsIl9jb250ZXh0NyIsInRyZWF0bWVudHMiLCJnZXRTdGFmZiIsIl9nZXRTdGFmZiIsIl9jYWxsZWU4IiwiX2NhbGxlZTgkIiwiX2NvbnRleHQ4Iiwic3RhZmYiLCJnZXRVc2VycyIsInVzZXJzIiwiZ2V0VXNlckJ5SWQiLCJfeDExIiwiX2dldFVzZXJCeUlkIiwiX2NhbGxlZTkiLCJ1c2VySWQiLCJ1c2VyRGF0YSIsIl9jYWxsZWU5JCIsIl9jb250ZXh0OSIsInUiLCJhZGRVc2VyIiwiX3gxMiIsIl9hZGRVc2VyIiwiX2NhbGxlZTEwIiwibmV3VXNlckRhdGEiLCJpZHMiLCJtYXhJZCIsIm5ld1VzZXJJZCIsIm5ld1VzZXIiLCJfY2FsbGVlMTAkIiwiX2NvbnRleHQxMCIsInZhbHVlcyIsIm1hcCIsInJlZHVjZSIsInRlbXBNYXhJZCIsIl90b0NvbnN1bWFibGVBcnJheTIiLCJ3cml0ZUFwcG9pbnRtZW50cyIsIl94MTMiLCJfd3JpdGVBcHBvaW50bWVudHMiLCJfY2FsbGVlMTEiLCJuZXdBcHBvaW50bWVudHNBcnJheSIsIl9jYWxsZWUxMSQiLCJfY29udGV4dDExIiwiX2RlZmF1bHQiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9saW9ya2FzdGVuYmF1bS9SZXBvcy9rc3QtYXBwb2ludG1lbnRzLW1hbmFnZXItYXBwL3NlcnZlci9zcmMvZGItZnVuYy8iLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIE5PVEU6IGluIHByb2R1Y3Rpb24gdGhpcyB3b3VsZCBjb25uZWN0IHRvIGEgZGF0YWJhc2UsXG4vLyBub3QgSlNPTiBmaWxlcy4gSG93ZXZlciwgSSBkaWRuJ3Qgd2FudCB0byBtYWtlIHlvdSBpbnN0YWxsXG4vLyBhIHBhcnRpY3VsYXIgZGF0YWJhc2UgaW4gb3JkZXIgdG8gdXNlIHRoaXMgYXBwLlxuLy9cbi8vIFRoaXMgXCJkYXRhYmFzZVwiIGlzIGhvcnJpYmx5IGluZWZmaWNpZW50IGFuZCB3aWxsIGJlIGEgcHJvYmxlbVxuLy8gd2hlbiBMYXp5IERheXMgU3BhIG9wZW5zIHRvIGh1bmRyZWRzIG9mIGxvY2F0aW9ucyBnbG9iYWxseS5cbmltcG9ydCBkYXlqcyBmcm9tICdkYXlqcyc7XG5pbXBvcnQganNvblBhdGNoLCB7IE9wZXJhdGlvbiB9IGZyb20gJ2Zhc3QtanNvbi1wYXRjaCc7XG5pbXBvcnQgeyBwcm9taXNlcyBhcyBmcyB9IGZyb20gJ2ZzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuXG5pbXBvcnQge1xuICBBcHBvaW50bWVudCxcbiAgQXBwb2ludG1lbnREYXRlTWFwLFxuICBTdGFmZixcbiAgVHJlYXRtZW50LFxufSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdHlwZXMnO1xuaW1wb3J0IHsgQXV0aFVzZXIsIE5ld0F1dGhVc2VyIH0gZnJvbSAnLi4vYXV0aCc7XG5cbnR5cGUgSnNvbkRhdGFUeXBlID0gQXV0aFVzZXIgfCBBcHBvaW50bWVudCB8IFRyZWF0bWVudCB8IFN0YWZmO1xuXG5jb25zdCBkYlBhdGggPSAnZGInO1xuZXhwb3J0IGVudW0gZmlsZW5hbWVzIHtcbiAgdXNlcnMgPSAndXNlcnMuanNvbicsXG4gIGFwcG9pbnRtZW50cyA9ICdhcHBvaW50bWVudHMuanNvbicsXG4gIHRyZWF0bWVudHMgPSAndHJlYXRtZW50cy5qc29uJyxcbiAgc3RhZmYgPSAnc3RhZmYuanNvbicsXG59XG5cbi8qICoqKioqKiBSZWFkIGZyb20gZmlsZSAqKioqKiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0SlNPTmZyb21GaWxlPEl0ZW1UeXBlIGV4dGVuZHMgSnNvbkRhdGFUeXBlPihcbiAgZmlsZW5hbWU6IGZpbGVuYW1lcyxcbik6IFByb21pc2U8SXRlbVR5cGVbXT4ge1xuICBjb25zdCBmaWxlUGF0aCA9IHBhdGguam9pbihkYlBhdGgsIGZpbGVuYW1lKTtcbiAgY29uc3QgZGF0YSA9IGF3YWl0IGZzLnJlYWRGaWxlKGZpbGVQYXRoKTtcbiAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YS50b1N0cmluZygpKTtcbn1cblxuLyogKioqKioqIFdyaXRlIHRvIGZpbGUgKioqKiogKi9cbmFzeW5jIGZ1bmN0aW9uIHdyaXRlSlNPTlRvRmlsZTxUIGV4dGVuZHMgSnNvbkRhdGFUeXBlPihcbiAgZmlsZW5hbWU6IGZpbGVuYW1lcyxcbiAgZGF0YTogQXJyYXk8VD4sXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4oZGJQYXRoLCBmaWxlbmFtZSk7XG4gIGNvbnN0IGpzb25EYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gIGF3YWl0IGZzLndyaXRlRmlsZShmaWxlUGF0aCwganNvbkRhdGEsIHsgZmxhZzogJ3cnIH0pO1xufVxuXG4vKiAqKioqKiogRGVsZXRlIGl0ZW0gKioqKiogKi9cbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUl0ZW08VCBleHRlbmRzIEpzb25EYXRhVHlwZT4oXG4gIGZpbGVuYW1lOiBmaWxlbmFtZXMsXG4gIGl0ZW1JZDogbnVtYmVyLFxuKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBpdGVtcyA9IGF3YWl0IGdldEpTT05mcm9tRmlsZTxUPihmaWxlbmFtZSk7XG4gICAgY29uc3QgZm91bmRJdGVtQXJyYXkgPSBpdGVtcy5maWx0ZXIoKGkpID0+IGkuaWQgPT09IGl0ZW1JZCk7XG4gICAgaWYgKGZvdW5kSXRlbUFycmF5Lmxlbmd0aCAhPT0gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBpdGVtIGlkICR7aXRlbUlkfSBpbiAke2ZpbGVuYW1lfWApO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVkSXRlbXMgPSBpdGVtcy5maWx0ZXIoKGkpID0+IGkuaWQgIT09IGl0ZW1JZCk7XG4gICAgYXdhaXQgd3JpdGVKU09OVG9GaWxlKGZpbGVuYW1lLCB1cGRhdGVkSXRlbXMpO1xuICAgIHJldHVybiBpdGVtSWQ7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgQ291bGQgbm90IGRlbGV0ZSBpdGVtIGlkICR7aXRlbUlkfSBmcm9tICR7ZmlsZW5hbWV9OiAke2V9YCxcbiAgICApO1xuICB9XG59XG5cbi8qICoqKioqKiBVcGRhdGUgaXRlbSAqKioqKiAqL1xuY29uc3QgeyBhcHBseVBhdGNoIH0gPSBqc29uUGF0Y2g7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxpbmVzLXBlci1mdW5jdGlvblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlSXRlbTxEYXRhVHlwZSBleHRlbmRzIEpzb25EYXRhVHlwZT4oXG4gIGl0ZW1JZDogbnVtYmVyLFxuICBmaWxlbmFtZTogZmlsZW5hbWVzLFxuICAvLyBzaG91bGQgYmUgZmFzdC1qc29uLXBhdGNoIE9wZXJhdGlvbiwgYnV0IEkgY2FuJ3QgZGVzdHJ1Y3R1cmUgb24gaW1wb3J0XG4gIGl0ZW1QYXRjaDogT3BlcmF0aW9uW10sXG4pOiBQcm9taXNlPERhdGFUeXBlPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgaXRlbXMgPSBhd2FpdCBnZXRKU09OZnJvbUZpbGU8RGF0YVR5cGU+KGZpbGVuYW1lKTtcblxuICAgIC8vIGZpbmQgdGhlIGl0ZW1cbiAgICBjb25zdCBmb3VuZEl0ZW1zID0gaXRlbXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmlkID09PSBpdGVtSWQpO1xuICAgIGlmIChmb3VuZEl0ZW1zLmxlbmd0aCAhPT0gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBpdGVtIHdpdGggaWQgJHtpdGVtSWR9YCk7XG4gICAgfVxuXG4gICAgLy8gYXBwbHkgdGhlIHBhdGNoXG4gICAgY29uc3QgdXBkYXRlZERhdGEgPSBhcHBseVBhdGNoKGZvdW5kSXRlbXNbMF0sIGl0ZW1QYXRjaCkubmV3RG9jdW1lbnQ7XG5cbiAgICAvLyB3cml0ZSB0aGUgbmV3IGl0ZW0gZGF0YS4gTm90ZTogdGhpcyB3aG9sZSBmdW5jdGlvbiBpcyBob3JyaWJseSBpbmVmZmljaWVudCBhbmRcbiAgICAvLyB3b3VsZCBiZSBtdWNoIGltcHJvdmVkIHdpdGggYSByZWFsIGRiLlxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0sIGkpID0+IHtcbiAgICAgIGlmIChpdGVtLmlkID09PSBpdGVtSWQpIHtcbiAgICAgICAgaXRlbXNbaV0gPSB1cGRhdGVkRGF0YTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGF3YWl0IHdyaXRlSlNPTlRvRmlsZShmaWxlbmFtZSwgaXRlbXMpO1xuICAgIHJldHVybiB1cGRhdGVkRGF0YTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBDb3VsZCBub3QgZGVsZXRlIGl0ZW0gaWQgJHtpdGVtSWR9IGZyb20gJHtmaWxlbmFtZX06ICR7ZX1gLFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFwcG9pbnRtZW50cygpOiBQcm9taXNlPEFwcG9pbnRtZW50W10+IHtcbiAgcmV0dXJuIGdldEpTT05mcm9tRmlsZTxBcHBvaW50bWVudD4oZmlsZW5hbWVzLmFwcG9pbnRtZW50cyk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBcHBvaW50bWVudHNCeU1vbnRoWWVhcihcbiAgbW9udGg6IHN0cmluZyxcbiAgeWVhcjogc3RyaW5nLFxuKTogUHJvbWlzZTxBcHBvaW50bWVudERhdGVNYXA+IHtcbiAgLy8geWV0IGFub3RoZXIgcGxhY2Ugd2hlcmUgaW5lZmZpY2llbmN5IGlzIHJpZGljdWxvdXMgY29tcGFyZWQgdG8gYSByZWFsIGRiXG4gIGNvbnN0IGFwcG9pbnRtZW50RGF0ZU1hcDogQXBwb2ludG1lbnREYXRlTWFwID0ge307XG4gIGNvbnN0IGFsbEFwcG9pbnRtZW50cyA9IGF3YWl0IGdldEFwcG9pbnRtZW50cygpO1xuXG4gIC8vIGZpbHRlciBkYXRhIGFuZCBtYXNzYWdlIGludG8gZm9ybWF0IGV4cGVjdGVkIGJ5IGNsaWVudFxuICBhbGxBcHBvaW50bWVudHMuZm9yRWFjaCgoYXBwb2ludG1lbnQpID0+IHtcbiAgICBjb25zdCBhcHBvaW50bWVudERhdGUgPSBkYXlqcyhhcHBvaW50bWVudC5kYXRlVGltZSk7XG4gICAgaWYgKFxuICAgICAgLy8gemVyby1pbmRleGVkIG1vbnRoXG4gICAgICBhcHBvaW50bWVudERhdGUubW9udGgoKSArIDEgPT09IE51bWJlcihtb250aCkgJiZcbiAgICAgIGFwcG9pbnRtZW50RGF0ZS55ZWFyKCkgPT09IE51bWJlcih5ZWFyKVxuICAgICkge1xuICAgICAgY29uc3QgZGF5TnVtID0gZGF5anMoYXBwb2ludG1lbnQuZGF0ZVRpbWUpLmRhdGUoKTtcbiAgICAgIGlmIChhcHBvaW50bWVudERhdGVNYXBbZGF5TnVtXSkge1xuICAgICAgICBhcHBvaW50bWVudERhdGVNYXBbZGF5TnVtXS5wdXNoKGFwcG9pbnRtZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwcG9pbnRtZW50RGF0ZU1hcFtkYXlOdW1dID0gW2FwcG9pbnRtZW50XTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gYXBwb2ludG1lbnREYXRlTWFwO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VHJlYXRtZW50cygpOiBQcm9taXNlPFRyZWF0bWVudFtdPiB7XG4gIHJldHVybiBnZXRKU09OZnJvbUZpbGU8VHJlYXRtZW50PihmaWxlbmFtZXMudHJlYXRtZW50cyk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTdGFmZigpOiBQcm9taXNlPFN0YWZmW10+IHtcbiAgcmV0dXJuIGdldEpTT05mcm9tRmlsZTxTdGFmZj4oZmlsZW5hbWVzLnN0YWZmKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJzKCk6IFByb21pc2U8QXV0aFVzZXJbXT4ge1xuICByZXR1cm4gZ2V0SlNPTmZyb21GaWxlPEF1dGhVc2VyPihmaWxlbmFtZXMudXNlcnMpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckJ5SWQodXNlcklkOiBudW1iZXIpOiBQcm9taXNlPEF1dGhVc2VyPiB7XG4gIGNvbnN0IHVzZXJzID0gYXdhaXQgZ2V0VXNlcnMoKTtcbiAgY29uc3QgdXNlckRhdGEgPSB1c2Vycy5maWx0ZXIoKHUpID0+IHUuaWQgPT09IHVzZXJJZCk7XG4gIGlmICh1c2VyRGF0YS5sZW5ndGggPCAxKSB0aHJvdyBuZXcgRXJyb3IoJ3VzZXIgbm90IGZvdW5kJyk7XG4gIGlmICh1c2VyRGF0YS5sZW5ndGggPCAxKSB0aHJvdyBuZXcgRXJyb3IoJ2R1cGxpY2F0ZSB1c2VyIGZvdW5kJyk7XG4gIHJldHVybiB1c2VyRGF0YVswXTtcbn1cblxuLyogKioqKioqIEFkZCBuZXcgdXNlciAqKioqKiAqL1xuYXN5bmMgZnVuY3Rpb24gYWRkVXNlcihuZXdVc2VyRGF0YTogTmV3QXV0aFVzZXIpOiBQcm9taXNlPEF1dGhVc2VyPiB7XG4gIGNvbnN0IHVzZXJzID0gYXdhaXQgZ2V0VXNlcnMoKTtcblxuICAvLyBnZXQgdGhlIG1heCBpZCBmcm9tIHRoZSBleGlzdGluZyBpZHNcbiAgY29uc3QgaWRzOiBudW1iZXJbXSA9IE9iamVjdC52YWx1ZXModXNlcnMpLm1hcCgodSkgPT4gdS5pZCk7XG4gIGNvbnN0IG1heElkID0gaWRzLnJlZHVjZSgodGVtcE1heElkOiBudW1iZXIsIGl0ZW1JZDogbnVtYmVyKSA9PiB7XG4gICAgcmV0dXJuIGl0ZW1JZCA+IHRlbXBNYXhJZCA/IGl0ZW1JZCA6IHRlbXBNYXhJZDtcbiAgfSwgMCk7XG5cbiAgLy8gdGhlIG5ldyB1c2VyIHdpbGwgaGF2ZSBhbiBpZCBvZiB0aGUgbWF4IGlkIHBsdXMgMVxuICBjb25zdCBuZXdVc2VySWQgPSBtYXhJZCArIDE7XG5cbiAgY29uc3QgbmV3VXNlciA9IHsgLi4ubmV3VXNlckRhdGEsIGlkOiBuZXdVc2VySWQgfTtcbiAgYXdhaXQgd3JpdGVKU09OVG9GaWxlKGZpbGVuYW1lcy51c2VycywgWy4uLnVzZXJzLCBuZXdVc2VyXSk7XG4gIHJldHVybiBuZXdVc2VyO1xufVxuXG4vKiAqKioqKiogQWRkIG5ldyBhcHBvaW5tZW50ICoqKioqICovXG5hc3luYyBmdW5jdGlvbiB3cml0ZUFwcG9pbnRtZW50cyhcbiAgbmV3QXBwb2ludG1lbnRzQXJyYXk6IEFwcG9pbnRtZW50W10sXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgd3JpdGVKU09OVG9GaWxlKGZpbGVuYW1lcy5hcHBvaW50bWVudHMsIG5ld0FwcG9pbnRtZW50c0FycmF5KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBmaWxlbmFtZXMsXG4gIHdyaXRlQXBwb2ludG1lbnRzLFxuICBhZGRVc2VyLFxuICBkZWxldGVJdGVtLFxuICB1cGRhdGVJdGVtLFxuICBnZXRVc2VycyxcbiAgZ2V0VXNlckJ5SWQsXG4gIGdldEFwcG9pbnRtZW50cyxcbiAgZ2V0QXBwb2ludG1lbnRzQnlNb250aFllYXIsXG4gIGdldFN0YWZmLFxuICBnZXRUcmVhdG1lbnRzLFxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxjQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxLQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBd0IsU0FBQUksUUFBQUMsTUFBQSxFQUFBQyxjQUFBLFFBQUFDLElBQUEsR0FBQUMsTUFBQSxDQUFBRCxJQUFBLENBQUFGLE1BQUEsT0FBQUcsTUFBQSxDQUFBQyxxQkFBQSxRQUFBQyxPQUFBLEdBQUFGLE1BQUEsQ0FBQUMscUJBQUEsQ0FBQUosTUFBQSxHQUFBQyxjQUFBLEtBQUFJLE9BQUEsR0FBQUEsT0FBQSxDQUFBQyxNQUFBLFdBQUFDLEdBQUEsV0FBQUosTUFBQSxDQUFBSyx3QkFBQSxDQUFBUixNQUFBLEVBQUFPLEdBQUEsRUFBQUUsVUFBQSxPQUFBUCxJQUFBLENBQUFRLElBQUEsQ0FBQUMsS0FBQSxDQUFBVCxJQUFBLEVBQUFHLE9BQUEsWUFBQUgsSUFBQTtBQUFBLFNBQUFVLGNBQUFDLE1BQUEsYUFBQUMsQ0FBQSxNQUFBQSxDQUFBLEdBQUFDLFNBQUEsQ0FBQUMsTUFBQSxFQUFBRixDQUFBLFVBQUFHLE1BQUEsV0FBQUYsU0FBQSxDQUFBRCxDQUFBLElBQUFDLFNBQUEsQ0FBQUQsQ0FBQSxRQUFBQSxDQUFBLE9BQUFmLE9BQUEsQ0FBQUksTUFBQSxDQUFBYyxNQUFBLE9BQUFDLE9BQUEsV0FBQUMsR0FBQSxRQUFBQyxnQkFBQSxhQUFBUCxNQUFBLEVBQUFNLEdBQUEsRUFBQUYsTUFBQSxDQUFBRSxHQUFBLFNBQUFoQixNQUFBLENBQUFrQix5QkFBQSxHQUFBbEIsTUFBQSxDQUFBbUIsZ0JBQUEsQ0FBQVQsTUFBQSxFQUFB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","map":{"version":3,"names":["_dayjs","_interopRequireDefault","require","_fastJsonPatch","_fs","_path","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","dbPath","filenames","exports","getJSONfromFile","_x","_getJSONfromFile","_asyncToGenerator2","_regenerator","mark","_callee","filename","filePath","data","wrap","_callee$","_context","prev","next","path","join","fs","readFile","sent","abrupt","JSON","parse","toString","stop","writeJSONToFile","_x2","_x3","_writeJSONToFile","_callee2","jsonData","_callee2$","_context2","stringify","writeFile","flag","deleteItem","_x4","_x5","_deleteItem","_callee3","itemId","items","foundItemArray","updatedItems","_callee3$","_context3","id","Error","concat","t0","applyPatch","jsonPatch","updateItem","_x6","_x7","_x8","_updateItem","_callee4","itemPatch","foundItems","updatedData","_callee4$","_context4","item","newDocument","getAppointments","_getAppointments","_callee5","_callee5$","_context5","appointments","getAppointmentsByMonthYear","_x9","_x10","_getAppointmentsByMonthYear","_callee6","month","year","appointmentDateMap","allAppointments","_callee6$","_context6","appointment","appointmentDate","dayjs","dateTime","Number","dayNum","date","getTreatments","_getTreatments","_callee7","_callee7$","_context7","treatments","getStaff","_getStaff","_callee8","_callee8$","_context8","staff","getUsers","users","getUserById","_x11","_getUserById","_callee9","userId","userData","_callee9$","_context9","u","addUser","_x12","_addUser","_callee10","newUserData","ids","maxId","newUserId","newUser","_callee10$","_context10","values","map","reduce","tempMaxId","_toConsumableArray2","writeAppointments","_x13","_writeAppointments","_callee11","newAppointmentsArray","_callee11$","_context11","_default"],"sourceRoot":"/Users/liorkastenbaum/Repos/kst-appointments-manager-app/server/src/db-func/","sources":["index.ts"],"sourcesContent":["// NOTE: in production this would connect to a database,\n// not JSON files. However, I didn't want to make you install\n// a particular database in order to use this app.\n//\n// This \"database\" is horribly inefficient and will be a problem\n// when Lazy Days Spa opens to hundreds of locations globally.\nimport dayjs from 'dayjs';\nimport jsonPatch, { Operation } from 'fast-json-patch';\nimport { promises as fs } from 'fs';\nimport path from 'path';\n\nimport {\n  Appointment,\n  AppointmentDateMap,\n  Staff,\n  Treatment,\n} from '../../../shared/types';\nimport { AuthUser, NewAuthUser } from '../auth';\n\ntype JsonDataType = AuthUser | Appointment | Treatment | Staff;\n\nconst dbPath = 'db';\nexport enum filenames {\n  users = 'users.json',\n  appointments = 'appointments.json',\n  treatments = 'treatments.json',\n  staff = 'staff.json',\n}\n\n/* ****** Read from file ***** */\nasync function getJSONfromFile<ItemType extends JsonDataType>(\n  filename: filenames,\n): Promise<ItemType[]> {\n  const filePath = path.join(dbPath, filename);\n  const data = await fs.readFile(filePath);\n  return JSON.parse(data.toString());\n}\n\n/* ****** Write to file ***** */\nasync function writeJSONToFile<T extends JsonDataType>(\n  filename: filenames,\n  data: Array<T>,\n): Promise<void> {\n  const filePath = path.join(dbPath, filename);\n  const jsonData = JSON.stringify(data);\n  await fs.writeFile(filePath, jsonData, { flag: 'w' });\n}\n\n/* ****** Delete item ***** */\nasync function deleteItem<T extends JsonDataType>(\n  filename: filenames,\n  itemId: number,\n): Promise<number> {\n  try {\n    const items = await getJSONfromFile<T>(filename);\n    const foundItemArray = items.filter((i) => i.id === itemId);\n    if (foundItemArray.length !== 1) {\n      throw new Error(`Could not find item id ${itemId} in ${filename}`);\n    }\n    const updatedItems = items.filter((i) => i.id !== itemId);\n    await writeJSONToFile(filename, updatedItems);\n    return itemId;\n  } catch (e) {\n    throw new Error(\n      `Could not delete item id ${itemId} from ${filename}: ${e}`,\n    );\n  }\n}\n\n/* ****** Update item ***** */\nconst { applyPatch } = jsonPatch;\n// eslint-disable-next-line max-lines-per-function\nasync function updateItem<DataType extends JsonDataType>(\n  itemId: number,\n  filename: filenames,\n  // should be fast-json-patch Operation, but I can't destructure on import\n  itemPatch: Operation[],\n): Promise<DataType> {\n  try {\n    const items = await getJSONfromFile<DataType>(filename);\n\n    // find the item\n    const foundItems = items.filter((item) => item.id === itemId);\n    if (foundItems.length !== 1) {\n      throw new Error(`Could not find item with id ${itemId}`);\n    }\n\n    // apply the patch\n    const updatedData = applyPatch(foundItems[0], itemPatch).newDocument;\n\n    // write the new item data. Note: this whole function is horribly inefficient and\n    // would be much improved with a real db.\n    items.forEach((item, i) => {\n      if (item.id === itemId) {\n        items[i] = updatedData;\n      }\n    });\n\n    await writeJSONToFile(filename, items);\n    return updatedData;\n  } catch (e) {\n    throw new Error(\n      `Could not delete item id ${itemId} from ${filename}: ${e}`,\n    );\n  }\n}\n\nexport async function getAppointments(): Promise<Appointment[]> {\n  return getJSONfromFile<Appointment>(filenames.appointments);\n}\n\nexport async function getAppointmentsByMonthYear(\n  month: string,\n  year: string,\n): Promise<AppointmentDateMap> {\n  // yet another place where inefficiency is ridiculous compared to a real db\n  const appointmentDateMap: AppointmentDateMap = {};\n  const allAppointments = await getAppointments();\n\n  // filter data and massage into format expected by client\n  allAppointments.forEach((appointment) => {\n    const appointmentDate = dayjs(appointment.dateTime);\n    if (\n      // zero-indexed month\n      appointmentDate.month() + 1 === Number(month) &&\n      appointmentDate.year() === Number(year)\n    ) {\n      const dayNum = dayjs(appointment.dateTime).date();\n      if (appointmentDateMap[dayNum]) {\n        appointmentDateMap[dayNum].push(appointment);\n      } else {\n        appointmentDateMap[dayNum] = [appointment];\n      }\n    }\n  });\n  return appointmentDateMap;\n}\n\nexport async function getTreatments(): Promise<Treatment[]> {\n  return getJSONfromFile<Treatment>(filenames.treatments);\n}\n\nexport async function getStaff(): Promise<Staff[]> {\n  return getJSONfromFile<Staff>(filenames.staff);\n}\n\nexport function getUsers(): Promise<AuthUser[]> {\n  return getJSONfromFile<AuthUser>(filenames.users);\n}\n\nexport async function getUserById(userId: number): Promise<AuthUser> {\n  const users = await getUsers();\n  const userData = users.filter((u) => u.id === userId);\n  if (userData.length < 1) throw new Error('user not found');\n  if (userData.length < 1) throw new Error('duplicate user found');\n  return userData[0];\n}\n\n/* ****** Add new user ***** */\nasync function addUser(newUserData: NewAuthUser): Promise<AuthUser> {\n  const users = await getUsers();\n\n  // get the max id from the existing ids\n  const ids: number[] = Object.values(users).map((u) => u.id);\n  const maxId = ids.reduce((tempMaxId: number, itemId: number) => {\n    return itemId > tempMaxId ? itemId : tempMaxId;\n  }, 0);\n\n  // the new user will have an id of the max id plus 1\n  const newUserId = maxId + 1;\n\n  const newUser = { ...newUserData, id: newUserId };\n  await writeJSONToFile(filenames.users, [...users, newUser]);\n  return newUser;\n}\n\n/* ****** Add new appoinment ***** */\nasync function writeAppointments(\n  newAppointmentsArray: Appointment[],\n): Promise<void> {\n  await writeJSONToFile(filenames.appointments, newAppointmentsArray);\n}\n\nexport default {\n  filenames,\n  writeAppointments,\n  addUser,\n  deleteItem,\n  updateItem,\n  getUsers,\n  getUserById,\n  getAppointments,\n  getAppointmentsByMonthYear,\n  getStaff,\n  getTreatments,\n};\n"],"mappings":"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"}},"mtime":1685356796085}}